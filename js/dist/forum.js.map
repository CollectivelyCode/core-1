{"version":3,"sources":["webpack://@flarum/core/webpack/bootstrap","webpack://@flarum/core/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@flarum/core/(webpack)/buildin/global.js","webpack://@flarum/core/./node_modules/mithril/render/vnode.js","webpack://@flarum/core/external \"m\"","webpack://@flarum/core/./node_modules/mithril/mount-redraw.js","webpack://@flarum/core/./node_modules/mithril/pathname/build.js","webpack://@flarum/core/./node_modules/mithril/pathname/parse.js","webpack://@flarum/core/./node_modules/mithril/render/hyperscript.js","webpack://@flarum/core/./node_modules/mithril/render/hyperscriptVnode.js","webpack://@flarum/core/./node_modules/mithril/promise/promise.js","webpack://@flarum/core/./node_modules/mithril/promise/polyfill.js","webpack://@flarum/core/./node_modules/timers-browserify/main.js","webpack://@flarum/core/./node_modules/mithril/render.js","webpack://@flarum/core/./node_modules/mithril/querystring/build.js","webpack://@flarum/core/./node_modules/mithril/pathname/assign.js","webpack://@flarum/core/./node_modules/mithril/querystring/parse.js","webpack://@flarum/core/./node_modules/lodash/isArray.js","webpack://@flarum/core/./node_modules/jump.js/dist/jump.module.js","webpack://@flarum/core/../../src/index.js","webpack://@flarum/core/../../../popper/src/utils/isFunction.js","webpack://@flarum/core/./src/common/utils/patchZepto.ts","webpack://@flarum/core/./src/common/utils/patchMithril.ts","webpack://@flarum/core/./src/common/index.ts","webpack://@flarum/core/../../src/utils/debounce.js","webpack://@flarum/core/../../src/utils/isBrowser.js","webpack://@flarum/core/../../src/utils/isFunction.js","webpack://@flarum/core/../../src/utils/getStyleComputedProperty.js","webpack://@flarum/core/../../src/utils/getParentNode.js","webpack://@flarum/core/../../src/utils/getScrollParent.js","webpack://@flarum/core/../../src/utils/isIE.js","webpack://@flarum/core/../../src/utils/getOffsetParent.js","webpack://@flarum/core/../../src/utils/getRoot.js","webpack://@flarum/core/../../src/utils/findCommonOffsetParent.js","webpack://@flarum/core/../../src/utils/isOffsetContainer.js","webpack://@flarum/core/../../src/utils/getScroll.js","webpack://@flarum/core/../../src/utils/getBordersSize.js","webpack://@flarum/core/../../src/utils/getWindowSizes.js","webpack://@flarum/core/../../src/utils/getClientRect.js","webpack://@flarum/core/../../src/utils/getBoundingClientRect.js","webpack://@flarum/core/../../src/utils/getOffsetRectRelativeToArbitraryNode.js","webpack://@flarum/core/../../src/utils/includeScroll.js","webpack://@flarum/core/../../src/utils/getFixedPositionOffsetParent.js","webpack://@flarum/core/../../src/utils/getBoundaries.js","webpack://@flarum/core/../../src/utils/getViewportOffsetRectRelativeToArtbitraryNode.js","webpack://@flarum/core/../../src/utils/isFixed.js","webpack://@flarum/core/../../src/utils/computeAutoPlacement.js","webpack://@flarum/core/../../src/utils/getReferenceOffsets.js","webpack://@flarum/core/../../src/utils/getOuterSizes.js","webpack://@flarum/core/../../src/utils/getOppositePlacement.js","webpack://@flarum/core/../../src/utils/getPopperOffsets.js","webpack://@flarum/core/../../src/utils/find.js","webpack://@flarum/core/../../src/utils/runModifiers.js","webpack://@flarum/core/../../src/utils/findIndex.js","webpack://@flarum/core/../../src/methods/update.js","webpack://@flarum/core/../../src/utils/isModifierEnabled.js","webpack://@flarum/core/../../src/utils/getSupportedPropertyName.js","webpack://@flarum/core/../../src/methods/destroy.js","webpack://@flarum/core/../../src/utils/getWindow.js","webpack://@flarum/core/../../src/utils/setupEventListeners.js","webpack://@flarum/core/../../src/methods/enableEventListeners.js","webpack://@flarum/core/../../src/methods/disableEventListeners.js","webpack://@flarum/core/../../src/utils/removeEventListeners.js","webpack://@flarum/core/../../src/utils/isNumeric.js","webpack://@flarum/core/../../src/utils/setStyles.js","webpack://@flarum/core/../../src/modifiers/computeStyle.js","webpack://@flarum/core/../../src/utils/isModifierRequired.js","webpack://@flarum/core/../../src/methods/placements.js","webpack://@flarum/core/../../src/utils/clockwise.js","webpack://@flarum/core/../../src/modifiers/flip.js","webpack://@flarum/core/../../src/modifiers/offset.js","webpack://@flarum/core/../../src/modifiers/index.js","webpack://@flarum/core/../../src/methods/defaults.js","webpack://@flarum/core/../../src/modifiers/shift.js","webpack://@flarum/core/../../src/modifiers/preventOverflow.js","webpack://@flarum/core/../../src/modifiers/keepTogether.js","webpack://@flarum/core/../../src/modifiers/arrow.js","webpack://@flarum/core/../../src/utils/getOppositeVariation.js","webpack://@flarum/core/../../src/modifiers/inner.js","webpack://@flarum/core/../../src/modifiers/hide.js","webpack://@flarum/core/../../src/utils/getRoundedOffsets.js","webpack://@flarum/core/../../src/modifiers/applyStyle.js","webpack://@flarum/core/../../src/utils/setAttributes.js","webpack://@flarum/core/./node_modules/dayjs/plugin/relativeTime.js","webpack://@flarum/core/./node_modules/dayjs/plugin/localizedFormat.js","webpack://@flarum/core/./node_modules/mithril/stream.js","webpack://@flarum/core/./node_modules/lodash/_baseGetTag.js","webpack://@flarum/core/./node_modules/lodash/_root.js","webpack://@flarum/core/./node_modules/lodash/isObjectLike.js","webpack://@flarum/core/./node_modules/lodash/_nativeCreate.js","webpack://@flarum/core/./node_modules/lodash/_assocIndexOf.js","webpack://@flarum/core/./node_modules/lodash/_getMapData.js","webpack://@flarum/core/./node_modules/zepto/dist/zepto.js-exposed","webpack://@flarum/core/./node_modules/zepto/dist/zepto.js","webpack://@flarum/core/./node_modules/dayjs/dayjs.min.js-exposed?da0f","webpack://@flarum/core/./node_modules/dayjs/dayjs.min.js-exposed","webpack://@flarum/core/./node_modules/dayjs/dayjs.min.js","webpack://@flarum/core/./node_modules/mithril/index.js-exposed","webpack://@flarum/core/./node_modules/mithril/index.js","webpack://@flarum/core/./node_modules/mithril/hyperscript.js","webpack://@flarum/core/./node_modules/mithril/render/trust.js","webpack://@flarum/core/./node_modules/mithril/render/fragment.js","webpack://@flarum/core/./node_modules/mithril/request.js","webpack://@flarum/core/./node_modules/setimmediate/setImmediate.js","webpack://@flarum/core/./node_modules/process/browser.js","webpack://@flarum/core/./node_modules/mithril/render/render.js","webpack://@flarum/core/./node_modules/mithril/api/mount-redraw.js","webpack://@flarum/core/./node_modules/mithril/request/request.js","webpack://@flarum/core/./node_modules/mithril/route.js","webpack://@flarum/core/./node_modules/mithril/api/router.js","webpack://@flarum/core/./node_modules/mithril/pathname/compileTemplate.js","webpack://@flarum/core/./node_modules/m.attrs.bidi/bidi.js-exposed","webpack://@flarum/core/./node_modules/m.attrs.bidi/bidi.js","webpack://@flarum/core/./node_modules/mousetrap/mousetrap.js-exposed","webpack://@flarum/core/./node_modules/mousetrap/mousetrap.js","webpack://@flarum/core/./node_modules/classNames/index.js-exposed","webpack://@flarum/core/./node_modules/classNames/index.js","webpack://@flarum/core/./node_modules/zepto/src/selector.js","webpack://@flarum/core/./node_modules/zepto/src/data.js","webpack://@flarum/core/./node_modules/zepto/src/fx.js","webpack://@flarum/core/./node_modules/zepto/src/fx_methods.js","webpack://@flarum/core/./node_modules/hc-sticky/dist/hc-sticky.js","webpack://@flarum/core/(webpack)/buildin/harmony-module.js","webpack://@flarum/core/(webpack)/buildin/amd-options.js","webpack://@flarum/core/./node_modules/bootstrap/js/dropdown.js","webpack://@flarum/core/./node_modules/bootstrap/js/transition.js","webpack://@flarum/core/./node_modules/mithril/stream/stream.js","webpack://@flarum/core/./node_modules/lodash/_Symbol.js","webpack://@flarum/core/./node_modules/lodash/isObject.js","webpack://@flarum/core/./node_modules/lodash/isSymbol.js","webpack://@flarum/core/./node_modules/lodash/_getNative.js","webpack://@flarum/core/./node_modules/lodash/_freeGlobal.js","webpack://@flarum/core/(webpack)/buildin/module.js","webpack://@flarum/core/./node_modules/lodash/_isIndex.js","webpack://@flarum/core/./node_modules/lodash/isLength.js","webpack://@flarum/core/./node_modules/lodash/isArrayLike.js","webpack://@flarum/core/./node_modules/lodash/isFunction.js","webpack://@flarum/core/./node_modules/lodash/_castPath.js","webpack://@flarum/core/./node_modules/lodash/eq.js","webpack://@flarum/core/./node_modules/lodash/_toKey.js","webpack://@flarum/core/./node_modules/lodash/forEach.js","webpack://@flarum/core/./node_modules/lodash/get.js","webpack://@flarum/core/./node_modules/lodash/set.js","webpack://@flarum/core/./node_modules/lodash/_arrayEach.js","webpack://@flarum/core/./node_modules/lodash/_baseEach.js","webpack://@flarum/core/./node_modules/lodash/_baseForOwn.js","webpack://@flarum/core/./node_modules/lodash/_baseFor.js","webpack://@flarum/core/./node_modules/lodash/_createBaseFor.js","webpack://@flarum/core/./node_modules/lodash/keys.js","webpack://@flarum/core/./node_modules/lodash/_arrayLikeKeys.js","webpack://@flarum/core/./node_modules/lodash/_baseTimes.js","webpack://@flarum/core/./node_modules/lodash/isArguments.js","webpack://@flarum/core/./node_modules/lodash/_baseIsArguments.js","webpack://@flarum/core/./node_modules/lodash/_getRawTag.js","webpack://@flarum/core/./node_modules/lodash/_objectToString.js","webpack://@flarum/core/./node_modules/lodash/isBuffer.js","webpack://@flarum/core/./node_modules/lodash/stubFalse.js","webpack://@flarum/core/./node_modules/lodash/isTypedArray.js","webpack://@flarum/core/./node_modules/lodash/_baseIsTypedArray.js","webpack://@flarum/core/./node_modules/lodash/_baseUnary.js","webpack://@flarum/core/./node_modules/lodash/_nodeUtil.js","webpack://@flarum/core/./node_modules/lodash/_baseKeys.js","webpack://@flarum/core/./node_modules/lodash/_isPrototype.js","webpack://@flarum/core/./node_modules/lodash/_nativeKeys.js","webpack://@flarum/core/./node_modules/lodash/_overArg.js","webpack://@flarum/core/./node_modules/lodash/_createBaseEach.js","webpack://@flarum/core/./node_modules/lodash/_castFunction.js","webpack://@flarum/core/./node_modules/lodash/identity.js","webpack://@flarum/core/./node_modules/lodash/_baseGet.js","webpack://@flarum/core/./node_modules/lodash/_isKey.js","webpack://@flarum/core/./node_modules/lodash/_stringToPath.js","webpack://@flarum/core/./node_modules/lodash/_memoizeCapped.js","webpack://@flarum/core/./node_modules/lodash/memoize.js","webpack://@flarum/core/./node_modules/lodash/_MapCache.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheClear.js","webpack://@flarum/core/./node_modules/lodash/_Hash.js","webpack://@flarum/core/./node_modules/lodash/_hashClear.js","webpack://@flarum/core/./node_modules/lodash/_baseIsNative.js","webpack://@flarum/core/./node_modules/lodash/_isMasked.js","webpack://@flarum/core/./node_modules/lodash/_coreJsData.js","webpack://@flarum/core/./node_modules/lodash/_toSource.js","webpack://@flarum/core/./node_modules/lodash/_getValue.js","webpack://@flarum/core/./node_modules/lodash/_hashDelete.js","webpack://@flarum/core/./node_modules/lodash/_hashGet.js","webpack://@flarum/core/./node_modules/lodash/_hashHas.js","webpack://@flarum/core/./node_modules/lodash/_hashSet.js","webpack://@flarum/core/./node_modules/lodash/_ListCache.js","webpack://@flarum/core/./node_modules/lodash/_listCacheClear.js","webpack://@flarum/core/./node_modules/lodash/_listCacheDelete.js","webpack://@flarum/core/./node_modules/lodash/_listCacheGet.js","webpack://@flarum/core/./node_modules/lodash/_listCacheHas.js","webpack://@flarum/core/./node_modules/lodash/_listCacheSet.js","webpack://@flarum/core/./node_modules/lodash/_Map.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheDelete.js","webpack://@flarum/core/./node_modules/lodash/_isKeyable.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheGet.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheHas.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheSet.js","webpack://@flarum/core/./node_modules/lodash/toString.js","webpack://@flarum/core/./node_modules/lodash/_baseToString.js","webpack://@flarum/core/./node_modules/lodash/_arrayMap.js","webpack://@flarum/core/./node_modules/lodash/_baseSet.js","webpack://@flarum/core/./node_modules/lodash/_assignValue.js","webpack://@flarum/core/./node_modules/lodash/_baseAssignValue.js","webpack://@flarum/core/./node_modules/lodash/_defineProperty.js","webpack://@flarum/core/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flarum/core/./src/common/Bus.ts","webpack://@flarum/core/./src/common/utils/extract.ts","webpack://@flarum/core/./src/common/utils/extractText.ts","webpack://@flarum/core/./src/common/helpers/username.tsx","webpack://@flarum/core/./src/common/Translator.ts","webpack://@flarum/core/./src/common/Session.ts","webpack://@flarum/core/./src/common/Store.ts","webpack://@flarum/core/./src/common/utils/Drawer.ts","webpack://@flarum/core/./src/common/extend.ts","webpack://@flarum/core/./src/common/Model.ts","webpack://@flarum/core/./src/common/models/Forum.ts","webpack://@flarum/core/./src/common/utils/computed.ts","webpack://@flarum/core/./src/common/utils/ItemList.ts","webpack://@flarum/core/./src/common/Component.ts","webpack://@flarum/core/./src/common/helpers/icon.tsx","webpack://@flarum/core/./src/common/components/Badge.tsx","webpack://@flarum/core/./src/common/models/Discussion.tsx","webpack://@flarum/core/./src/common/utils/stringToColor.ts","webpack://@flarum/core/./src/common/components/GroupBadge.ts","webpack://@flarum/core/./src/common/models/User.ts","webpack://@flarum/core/./src/common/utils/string.ts","webpack://@flarum/core/./src/common/models/Post.ts","webpack://@flarum/core/./src/common/models/Group.ts","webpack://@flarum/core/./src/common/models/Notification.ts","webpack://@flarum/core/./src/common/utils/RequestError.ts","webpack://@flarum/core/./node_modules/spin.js/spin.js","webpack://@flarum/core/./src/common/components/LoadingIndicator.tsx","webpack://@flarum/core/./src/common/components/Button.tsx","webpack://@flarum/core/./src/common/components/Separator.tsx","webpack://@flarum/core/./src/common/helpers/listItems.tsx","webpack://@flarum/core/./node_modules/micromodal/dist/micromodal.es.js","webpack://@flarum/core/./src/common/components/Alert.tsx","webpack://@flarum/core/./src/common/components/Modal.tsx","webpack://@flarum/core/./src/common/components/ModalManager.tsx","webpack://@flarum/core/./src/common/Application.ts","webpack://@flarum/core/./src/common/utils/mapRoutes.ts","webpack://@flarum/core/./src/forum/utils/History.ts","webpack://@flarum/core/./src/forum/components/HeaderPrimary.tsx","webpack://@flarum/core/./src/forum/components/LogInModal.tsx","webpack://@flarum/core/./src/common/helpers/avatar.tsx","webpack://@flarum/core/./src/common/components/Dropdown.tsx","webpack://@flarum/core/./src/common/components/LinkButton.tsx","webpack://@flarum/core/./src/forum/components/SessionDropdown.tsx","webpack://@flarum/core/./src/common/components/SelectDropdown.tsx","webpack://@flarum/core/./src/forum/components/NotificationList.tsx","webpack://@flarum/core/./src/forum/components/NotificationsDropdown.tsx","webpack://@flarum/core/./src/forum/utils/KeyboardNavigatable.ts","webpack://@flarum/core/./src/common/helpers/highlight.ts","webpack://@flarum/core/./src/forum/components/SearchSource.ts","webpack://@flarum/core/./src/forum/components/DiscussionsSearchSource.tsx","webpack://@flarum/core/./src/forum/components/UsersSearchSource.tsx","webpack://@flarum/core/./src/forum/components/Search.tsx","webpack://@flarum/core/./src/forum/components/HeaderSecondary.tsx","webpack://@flarum/core/./src/forum/components/IndexPage.tsx","webpack://@flarum/core/./src/forum/components/Page.tsx","webpack://@flarum/core/./src/forum/utils/affixSidebar.ts","webpack://@flarum/core/./src/common/utils/humanTime.ts","webpack://@flarum/core/./src/forum/utils/UserControls.ts","webpack://@flarum/core/./src/forum/components/AvatarEditor.tsx","webpack://@flarum/core/./src/forum/components/UserCard.tsx","webpack://@flarum/core/./src/forum/components/UserPage.tsx","webpack://@flarum/core/./src/forum/components/PostsUserPage.tsx","webpack://@flarum/core/./src/forum/Forum.ts","webpack://@flarum/core/./src/common/compat.ts","webpack://@flarum/core/./src/forum/compat.ts","webpack://@flarum/core/./src/forum/index.ts","webpack://@flarum/core/./forum.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_extends","assign","target","arguments","length","source","apply","this","g","Function","e","window","Vnode","tag","attrs","children","text","dom","domSize","undefined","state","events","instance","normalize","node","Array","isArray","normalizeChildren","String","input","isKeyed","TypeError","render","require","requestAnimationFrame","console","buildQueryString","template","params","test","SyntaxError","queryIndex","indexOf","hashIndex","queryEnd","pathEnd","path","slice","query","resolved","replace","variadic","encodeURIComponent","newQueryIndex","newHashIndex","newQueryEnd","newPathEnd","result","querystring","parseQueryString","url","hyperscriptVnode","selectorParser","selectorCache","hasOwn","isEmpty","selector","view","Error","vnode","hasClass","className","class","newAttrs","execSelector","match","classes","exec","type","id","push","attrValue","join","compileSelector","start","PromisePolyfill","Promise","finally","global","executor","self","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","callAsync","setImmediate","setTimeout","list","shouldAbsorb","execute","then","error","retry","executeOnce","runs","run","fn","onerror","onFulfilled","onRejection","resolveNext","rejectNext","handle","callback","next","promise","resolve","reject","catch","reason","all","total","count","values","consume","race","scope","Timeout","clearFn","_id","_clearFn","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","toString","args","destructure","keys","forEach","string","charAt","entries","split","counters","data","entry","decodeURIComponent","levels","cursor","pop","j","level","nextLevel","isNumber","isNaN","parseInt","desc","getOwnPropertyDescriptor","easeInOutQuad","b","_typeof","iterator","obj","constructor","singleton","element","stop","offset","easing","a11y","distance","duration","timeStart","timeElapsed","top","getBoundingClientRect","loop","timeCurrent","scrollTo","setAttribute","focus","done","options","scrollY","pageYOffset","document","querySelector","jumper","DEFAULT_OPTIONS","Tooltip","reference","title","allowHtml","tooltipGenerator","tooltipNode","Math","titleNode","functionToCheck","getType","titleText","container","placement","arrowSelector","boundariesElement","func","event","directEvents","oppositeEvents","evt","popper","delay","computedDelay","lastTitle","show","hide","dispose","toggle","updateTitleContent","_events","_setTooltipNodeEvent","relatedreference","relatedreference2","evt2","$","tooltip","option","each","$this","attr","removeAttr","includes","dimension","Dimension","toUpperCase","margin","elem","size","side","css","expr","tagName","hover","leave","on","animatedScrollTop","to","fx","speeds","_default","jump","extend","special","bindBeforeSpecialEvents","eventName","el","specialEvent","_init","originalHandler","$target","trigger","setup","mo","_m","dayjs","relativeTime","localizedFormat","comp","bidi","route","href","Link","withAttr","cb","getAttribute","prop","longerTimeoutBrowsers","timeoutDuration","isBrowser","navigator","called","scheduled","isFunction","getStyleComputedProperty","getParentNode","getScrollParent","overflow","overflowX","overflowY","isIE11","isIE10","isIE","version","getOffsetParent","noOffsetParent","offsetParent","nodeName","getRoot","findCommonOffsetParent","element1","element2","order","Node","end","range","commonAncestorContainer","element1root","getScroll","upperSide","html","getBordersSize","styles","axis","sideA","sideB","parseFloat","getSize","body","computedStyle","getWindowSizes","getComputedStyle","getClientRect","offsets","height","rect","scrollTop","scrollLeft","sizes","width","horizScrollbar","vertScrollbar","getOffsetRectRelativeToArbitraryNode","parent","fixedPosition","runIsIE","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","subtract","modifier","includeScroll","getFixedPositionOffsetParent","getBoundaries","boundaries","left","excludeScroll","relativeOffset","getViewportOffsetRectRelativeToArtbitraryNode","boundariesNode","isFixed","parentNode","isPaddingNumber","padding","computeAutoPlacement","rects","refRect","bottom","sortedAreas","getArea","a","filteredAreas","filter","computedPlacement","variation","getReferenceOffsets","getOuterSizes","x","y","getOppositePlacement","hash","right","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","find","arr","check","runModifiers","modifiers","ends","findIndex","cur","update","flip","positionFixed","isModifierEnabled","modifierName","some","getSupportedPropertyName","prefixes","upperProp","prefix","toCheck","destroy","getWindow","ownerDocument","setupEventListeners","passive","scrollElement","attachToScrollParents","scrollParents","isBody","enableEventListeners","disableEventListeners","removeEventListeners","isNumeric","isFinite","setStyles","unit","isFirefox","isModifierRequired","requesting","isRequired","requested","validPlacements","placements","clockwise","counter","index","BEHAVIORS","parseOffset","useHeight","basePlacement","fragments","map","frag","divider","splitRegex","ops","mergeWithPrevious","op","str","toValue","index2","shiftvariation","isVertical","shiftOffsets","transformProp","popperStyles","transform","floor","opSide","arrowElement","len","sideCapitalized","altSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","placementOpposite","flipOrder","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariationByRef","flippedVariationByContent","flippedVariation","getOppositeVariation","subtractLength","bound","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","position","shouldRound","round","noRound","v","referenceWidth","popperWidth","isVariation","horizontalToInteger","verticalToInteger","bothOddWidth","getRoundedOffsets","prefixedProperty","invertTop","invertLeft","attributes","Popper","debounce","modifierOptions","eventsEnabled","Utils","PopperUtils","Defaults","en","future","past","mm","h","hh","dd","M","MM","yy","u","$locale","f","diff","abs","from","$u","utc","toNow","fromNow","format","LTS","LT","L","LL","LLL","LLLL","formats","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","freeGlobal","freeSelf","root","nativeCreate","getNative","eq","array","isKeyable","__data__","define","Zepto","classList","camelize","uniq","emptyArray","concat","elementDisplay","classCache","cssNumber","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","table","createElement","tableRow","containers","readyRE","simpleSelectorRE","class2type","zepto","tempParent","propMap","isWindow","isDocument","nodeType","DOCUMENT_NODE","isObject","isPlainObject","getPrototypeOf","likeArray","dasherize","toLowerCase","classRE","RegExp","maybeAddPx","childNodes","Z","deep","filtered","nodes","funcArg","context","arg","idx","payload","removeAttribute","klass","svg","baseVal","deserializeValue","parseJSON","traverseNode","fun","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","temp","appendChild","qsa","removeChild","chr","fragment","properties","$1","innerHTML","isZ","init","trim","ready","shift","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","contains","documentElement","isEmptyObject","val","num","Number","inArray","camelCase","uuid","support","noop","elements","grep","JSON","parse","reduce","sort","splice","toArray","readyState","addEventListener","remove","every","not","add","is","excludes","has","first","last","closest","collection","_","parents","ancestors","pluck","contents","contentDocument","siblings","child","empty","display","style","getPropertyValue","replaceWith","newContent","before","wrap","structure","clone","wrapAll","cloneNode","append","wrapInner","unwrap","setting","prev","originHtml","newText","textContent","attribute","removeProp","attrName","multiple","selected","coordinates","coords","parentOffset","props","pageXOffset","removeProperty","cssText","addClass","cls","removeClass","toggleClass","when","hasScrollTop","scrollX","hasScrollLeft","detach","dimensionProperty","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","src","defaultView","_zid","isString","handlers","specialEvents","focusinSupported","blur","mouseenter","mouseleave","zid","findHandlers","matcher","sel","parts","eventCapture","captureSetting","del","realEvent","delegator","capture","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","_args","preventDefault","stopPropagation","removeEventListener","click","mousedown","mouseup","mousemove","proxyFn","unshift","unbind","off","one","returnTrue","returnFalse","ignoreProperties","eventMethods","stopImmediatePropagation","isDefaultPrevented","predicate","sourceMethod","timeStamp","Date","now","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","delegate","undelegate","live","die","autoRemove","currentTarget","liveFired","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","jsonpID","rscript","scriptTypeRE","xmlTypeRE","jsonType","htmlType","blankRE","originAnchor","triggerGlobal","settings","triggerAndReturn","ajaxBeforeSend","xhr","beforeSend","ajaxSuccess","deferred","success","resolveWith","ajaxComplete","ajaxError","rejectWith","status","complete","ajaxStop","appendQuery","parseArguments","dataType","location","ajaxJSONP","ajax","responseData","abortTimeout","_callbackName","jsonpCallback","callbackName","script","originalCallback","abort","errorType","head","ajaxSettings","XMLHttpRequest","accepts","json","xml","crossDomain","processData","cache","dataFilter","urlAnchor","Deferred","ajaxStart","protocol","host","param","traditional","serializeData","hasPlaceholder","jsonp","mime","headers","setHeader","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","contentType","onreadystatechange","mimeToDataType","getResponseHeader","responseType","response","responseText","ajaxDataFilter","eval","responseXML","statusText","async","open","username","password","xhrFields","send","post","getJSON","load","escape","serialize","serializeArray","field","disabled","checked","elm","submit","nativeGetComputedStyle","pseudoElement","factory","z","utcOffset","year","month","ceil","w","ms","Q","weekdays","months","pl","date","D","locale","$L","$d","NaN","UTC","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","day","hour","minute","second","millisecond","unix","valueOf","getTime","toDate","weekStart","$set","min","daysInMonth","substr","meridiem","YY","YYYY","MMM","monthsShort","MMMM","DD","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","A","ss","SSS","getTimezoneOffset","toJSON","toISOString","toUTCString","isDayjs","Ls","hyperscript","request","mountRedraw","trust","mount","redraw","parsePathname","buildPathname","registerImmediate","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","process","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","random","attachEvent","task","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","browser","env","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","$window","currentRedraw","$doc","nameSpace","math","getNameSpace","xmlns","checkState","original","callHook","activeElement","createNodes","vnodes","hooks","createNode","initLifecycle","createTextNode","insertNode","createText","createHTML","createDocumentFragment","createFragment","createElementNS","setAttr","setAttrs","maybeSetContentEditable","selectedIndex","normalized","setLateSelectAttrs","sentinel","$$reentrantLock$$","initComponent","createComponent","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","updateNodes","old","removeNodes","isOldKeyed","oldStart","oe","ve","topSibling","oldEnd","updateNode","getNextSibling","moveNodes","lisIndices","originalNextSibling","vnodesLength","oldIndices","li","pos","getKeyMap","oldIndex","il","lisTemp","makeLisIndices","commonLength","removeNode","oldTag","force","onbeforeupdate","shouldNotUpdate","updateLifecycle","nodeValue","updateText","removeHTML","updateHTML","updateFragment","updateAttrs","updateElement","updateComponent","moveChildToFrag","contenteditable","contentEditable","content","stateResult","attrsResult","mask","onbeforeremove","reallyRemove","onremove","isLifecycleMethod","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","nsLastIndex","uppercaseRegex","capital","normalizeKey","setProperty","EventDict","oninit","oncreate","onupdate","handleEvent","ev","namespace","namespaceURI","prevRedraw","schedule","subscriptions","rendering","pending","sync","component","oncompletion","callbackCount","PromiseProxy","makeRequest","background","hasHeader","__proto__","replacedAbort","method","assumeJSON","FormData","extract","aborted","user","deserialize","withCredentials","message","code","config","stringify","callbackKey","compileTemplate","fireAsync","setPath","history","replaceState","pushState","currentPath","lastUpdate","currentResolver","SKIP","defaultRoute","routes","compiled","defaultData","ReferenceError","resolveRoute","search","pathname","fail","matchedRoute","localComp","onmatch","onclick","Boolean","button","which","ctrlKey","metaKey","shiftKey","altKey","templateData","templateKeys","regexp","extra","k","multi","onchange","selectedOptions","oninput","ctrl","_REVERSE_MAP","_MAP","8","9","13","16","17","18","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","224","_KEYCODE_MAP","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","_SHIFT_MAP","_SPECIAL_ALIASES","platform","Mousetrap","action","_bindMultiple","_directMap","reset","_callbacks","stopCallback","_belongsTo","ancestor","composedPath","initialEventTarget","isContentEditable","handleKey","_handleKey","addKeycodes","documentMousetrap","_addEvent","_characterFromEvent","character","fromCharCode","_isModifier","_pickBestAction","_getReverseMap","_getKeyInfo","combination","_keysFromString","targetElement","_resetTimer","_sequenceLevels","_ignoreNextKeyup","_ignoreNextKeypress","_nextExpectedAction","_resetSequences","doNotReset","activeSequences","_getMatches","sequenceName","modifiers1","modifiers2","seq","deleteCombo","combo","deleteSequence","_fireCallback","sequence","srcElement","_preventDefault","cancelBubble","_stopPropagation","_handleKeyEvent","keyCode","_eventModifiers","_bindSequence","_increaseSequence","nextAction","_callbackAndReset","wrappedCallback","_bindSingle","info","callbacks","maxLevel","processedSequenceCallback","max","ignoreThisKeypress","combinations","classNames","inner","default","oldQsa","oldMatches","visible","filters","hidden","filterRe","childRe","classTag","taggedParent","dataAttr","exp","expando","setData","store","attributeData","camelName","getData","hasData","removeData","names","methodName","origFn","eventPrefix","transitionProperty","transitionDuration","transitionTiming","transitionDelay","animationName","animationDuration","animationTiming","animationDelay","testEl","supportedTransforms","cssReset","normalizeEvent","Webkit","Moz","O","vendor","fast","slow","cssPrefix","transitionEnd","animationEnd","animate","ease","anim","cssProperties","cssValues","transforms","that","endEvent","fired","clientLeft","origShow","origHide","origToggle","speed","opacity","scale","fadeTo","fadeIn","fadeOut","fadeToggle","U","Y","bottomEnd","innerTop","innerSticker","stickyClass","stickTo","followScroll","responsive","mobileFirst","onStart","onStop","onBeforeResize","onResize","resizeDebounce","disable","queries","queryFlow","log","X","Helpers","getStyle","innerWidth","stick","isAttached","attach","offsetLeft","release","positionLeft","S","E","T","C","N","R","offsetHeight","B","I","q","getCascadedStyle","verticalAlign","boxSizing","marginRight","marginBottom","paddingLeft","paddingRight","float","cssFloat","MozBoxSizing","offsetWidth","HTMLDocument","Document","clientHeight","scrollHeight","innerHeight","offsetTop","F","P","W","V","refresh","triggerMethod","reinit","jQuery","hcSticky","writable","configurable","detachEvent","currentStyle","originalModule","webpackPolyfill","__webpack_amd_options__","backdrop","Dropdown","getParent","$parent","clearMenus","VERSION","isActive","insertAfter","keydown","$items","dropdown","Constructor","noConflict","emulateTransitionEnd","$el","transition","transEndEventNames","WebkitTransition","MozTransition","OTransition","bsTransitionEnd","bindType","delegateType","handleObj","Stream","lift","merge","streams","scan","acc","origin","stream","combine","scanMerge","tuples","seed","tuple","changed","warnedHalt","dependentStreams","dependentFns","_changing","_state","_parents","_map","ignoreInitial","s1","s2","_unregisterChild","childIndex","mappers","endStream","mapper","baseGetTag","isObjectLike","symbolTag","baseIsNative","getValue","deprecate","paths","MAX_SAFE_INTEGER","reIsUint","isLength","asyncTag","funcTag","genTag","proxyTag","isKey","stringToPath","other","isSymbol","INFINITY","arrayEach","baseEach","castFunction","iteratee","baseGet","defaultValue","baseSet","baseForOwn","createBaseEach","baseFor","createBaseFor","fromRight","keysFunc","iterable","arrayLikeKeys","baseKeys","isArrayLike","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","baseIsArguments","objectProto","propertyIsEnumerable","argsTag","nativeObjectToString","isOwn","unmasked","stubFalse","freeExports","freeModule","Buffer","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","typedArrayTags","freeProcess","types","isPrototype","nativeKeys","Ctor","overArg","eachFunc","identity","castPath","toKey","reIsDeepProp","reIsPlainProp","memoizeCapped","rePropName","reEscapeChar","charCodeAt","number","quote","subString","memoize","MAX_MEMOIZE_SIZE","clear","MapCache","FUNC_ERROR_TEXT","resolver","memoized","Cache","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","Hash","ListCache","Map","hashClear","hashDelete","hashGet","hashHas","hashSet","isMasked","toSource","reIsHostCtor","funcProto","funcToString","reIsNative","uid","coreJsData","maskSrcKey","IE_PROTO","HASH_UNDEFINED","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","assocIndexOf","getMapData","baseToString","arrayMap","symbolProto","symbolToString","assignValue","customizer","lastIndex","nested","newValue","objValue","baseAssignValue","_inheritsLoose","subClass","superClass","Bus","subscribers","subscribe","callable","dispatch","listener","extractText","vdom","displayName","app","translator","trans","Translator","translations","addTranslations","parameters","translation","transText","hydrated","part","Session","csrfToken","login","forum","logout","Store","models","pushPayload","included","pushObject","pushData","createRecord","exists","getById","getBy","model","records","Drawer","$backdrop","isOpen","appendTo","override","newMethod","Model","freshness","innerKey","getIdentifier","pushAttributes","save","relationships","oldData","copyData","meta","apiEndpoint","delete","hasOne","relationship","hasMany","transformDate","Forum","computed","dependentKeys","compute","computedValue","dependentValues","recompute","priority","ItemList","items","itemName","Component","setProps","$element","componentProps","initProps","icon","fontClass","Badge","iconName","label","Discussion","slug","createdAt","firstPost","lastPostedAt","lastPostedUser","lastPost","lastPostNumber","commentCount","replyCount","posts","mostRelevantPost","lastReadAt","lastReadPostNumber","isUnread","unreadCount","isRead","session","hiddenAt","hiddenUser","isHidden","canReply","canRename","canHide","canDelete","removePost","markedAllAsReadAt","badges","postIds","link","stringToColor","rgb","hsvToRgb","GroupBadge","group","backgroundColor","color","nameSingular","User","email","isEmailConfirmed","avatarUrl","preferences","groups","joinTime","lastSeenAt","unreadNotificationCount","newNotificationCount","discussionCount","canEdit","avatarColor","calculateAvatarColor","isOnline","image","Image","onload","colorThief","ColorThief","getColor","savePreferences","newPreferences","getPlainContent","removeSelectors","Post","discussion","contentHtml","contentPlain","editedAt","editedUser","isEdited","Group","namePlural","ADMINISTRATOR_ID","GUEST_ID","MEMBER_ID","Notification","fromUser","subject","RequestError","alert","__assign","defaults","lines","radius","corners","fadeColor","animation","rotate","direction","zIndex","shadow","Spinner","opts","spin","borderRadius","shadows","boxShadow","regex","_i","_a","xUnits","yUnits","parseBoxShadow","degrees","backgroundLine","transformOrigin","line","normalizeShadow","drawLines","cancelAnimationFrame","animateId","shadows_1","xy","convertOffset","radians","PI","sin","cos","LoadingIndicator","sizeOptions","Button","loading","getButtonContent","Separator","isSeparator","listItems","prevItem","newItems","withoutUnnecessarySeparators","isListItem","itemClassName","FOCUSABLE_ELEMENTS","Modal","activeModal","validateModalPresence","validateArgs","Alert","controls","dismissible","ondismiss","dismissControl","MicroModal","targetModal","triggers","onShow","onClose","openTrigger","closeTrigger","disableScroll","disableFocus","awaitCloseAnimation","awaitOpenAnimation","debugMode","modal","registerTriggers","onClick","onKeydown","showModal","scrollBehaviour","addEventListeners","setFocusToFirstNode","closeModal","closeModalById","hasAttribute","maintainFocus","getFocusableNodes","focusableNodes","focusedItemIndex","warn","triggerMap","validateTriggerPresence","triggerAttr","generateTriggerMap","isDismissible","onsubmit","onready","select","onhide","loaded","errors","pointer","ModalManager","showing","hideTimeout","current","retain","Application","bus","forums","users","discussions","notifications","drawer","titleCount","requestError","basePath","routeName","mapRoutes","boot","resources","userId","plugins","setupRoutes","preloadedApiDocument","apiDocument","results","setTitle","updateTitle","setTitleCount","queryString","originalOptions","errorHandler","res","detail","History","stack","getCurrent","getPrevious","secondTop","canGoBack","back","home","backUrl","HeaderPrimary","LogInModal","identification","remember","footer","fields","placeholder","forgotPassword","signUp","ForgotPasswordModal","reload","avatar","hasTitle","buttonClassName","menuClassName","caretIcon","getButton","getMenu","onshow","$menu","isRight","data-toggle","LinkButton","SessionDropdown","SelectDropdown","activeChild","defaultLabel","NotificationList","moreResults","$scrollParent","scrollHandler","pages","markAllAsRead","notification","NotificationComponent","notificationComponents","$notifications","viewportHeight","contentTop","contentHeight","loadMore","page","parseResults","links","NotificationsDropdown","newNotifications","getNewCount","unread","getUnreadCount","menuClick","goToRoute","KeyboardNavigatable","whenCallback","onUp","onDown","onSelect","onCancel","onRemove","selectionStart","selectionEnd","bindTo","navigate","keyCallback","highlight","phrase","highlighted","substring","truncate","SearchSource","DiscussionsSearchSource","limit","include","data-index","UsersSearchSource","lastIndexOf","localeCompare","Search","hasFocus","sources","loadingSources","searched","searchTimeout","currentSearch","getCurrentSearch","sourceItems","focused","onfocus","onblur","setIndex","getCurrentNumericIndex","selectableItems","$input","selectResult","searching","getItem","clearSearch","$item","scrollToItem","$dropdown","fixedIndex","dropdownScroll","dropdownTop","dropdownBottom","outerHeight","itemTop","itemBottom","HeaderSecondary","locales","cookie","SignUpModal","IndexPage","Page","bodyClass","previous","affixSidebar","$sidebar","$header","$affixElement","humanTime","time","section","userControls","moderationControls","editAction","destructiveControls","deleteAction","confirm","UserPage","EditUserModal","AvatarEditor","isDraggedOver","quickUpload","ondragover","enableDragover","ondragenter","ondragleave","disableDragover","ondragend","ondrop","dropUpload","controlItems","openPicker","upload","dataTransfer","files","file","raw","failure","UserCard","UserControls","controlsButtonClassName","editable","infoItems","online","ago","sidebarItems","lassName","loadUser","lowercaseUsername","navItems","PostsUserPage","loadLimit","loadResults","defaultAction","near","compat","extensions","flarum"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 143);\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\"\n\nfunction Vnode(tag, key, attrs, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs, children: children, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node == null || typeof node === \"boolean\") return null\n\tif (typeof node === \"object\") return node\n\treturn Vnode(\"#\", undefined, undefined, String(node), undefined, undefined)\n}\nVnode.normalizeChildren = function(input) {\n\tvar children = []\n\tif (input.length) {\n\t\tvar isKeyed = input[0] != null && input[0].key != null\n\t\t// Note: this is a *very* perf-sensitive check.\n\t\t// Fun fact: merging the loop like this is somehow faster than splitting\n\t\t// it, noticeably so.\n\t\tfor (var i = 1; i < input.length; i++) {\n\t\t\tif ((input[i] != null && input[i].key != null) !== isKeyed) {\n\t\t\t\tthrow new TypeError(\"Vnodes must either always have keys or never have keys!\")\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tchildren[i] = Vnode.normalize(input[i])\n\t\t}\n\t}\n\treturn children\n}\n\nmodule.exports = Vnode\n","module.exports = m;","\"use strict\"\n\nvar render = require(\"./render\")\n\nmodule.exports = require(\"./api/mount-redraw\")(render, requestAnimationFrame, console)\n","\"use strict\"\n\nvar buildQueryString = require(\"../querystring/build\")\nvar assign = require(\"./assign\")\n\n// Returns `path` from `template` + `params`\nmodule.exports = function(template, params) {\n\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(template)) {\n\t\tthrow new SyntaxError(\"Template parameter names *must* be separated\")\n\t}\n\tif (params == null) return template\n\tvar queryIndex = template.indexOf(\"?\")\n\tvar hashIndex = template.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? template.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = template.slice(0, pathEnd)\n\tvar query = {}\n\n\tassign(query, params)\n\n\tvar resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function(m, key, variadic) {\n\t\tdelete query[key]\n\t\t// If no such parameter exists, don't interpolate it.\n\t\tif (params[key] == null) return m\n\t\t// Escape normal parameters, but not variadic ones.\n\t\treturn variadic ? params[key] : encodeURIComponent(String(params[key]))\n\t})\n\n\t// In case the template substitution adds new query/hash parameters.\n\tvar newQueryIndex = resolved.indexOf(\"?\")\n\tvar newHashIndex = resolved.indexOf(\"#\")\n\tvar newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex\n\tvar newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex\n\tvar result = resolved.slice(0, newPathEnd)\n\n\tif (queryIndex >= 0) result += template.slice(queryIndex, queryEnd)\n\tif (newQueryIndex >= 0) result += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd)\n\tvar querystring = buildQueryString(query)\n\tif (querystring) result += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring\n\tif (hashIndex >= 0) result += template.slice(hashIndex)\n\tif (newHashIndex >= 0) result += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex)\n\treturn result\n}\n","\"use strict\"\n\nvar parseQueryString = require(\"../querystring/parse\")\n\n// Returns `{path, params}` from `url`\nmodule.exports = function(url) {\n\tvar queryIndex = url.indexOf(\"?\")\n\tvar hashIndex = url.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? url.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = url.slice(0, pathEnd).replace(/\\/{2,}/g, \"/\")\n\n\tif (!path) path = \"/\"\n\telse {\n\t\tif (path[0] !== \"/\") path = \"/\" + path\n\t\tif (path.length > 1 && path[path.length - 1] === \"/\") path = path.slice(0, -1)\n\t}\n\treturn {\n\t\tpath: path,\n\t\tparams: queryIndex < 0\n\t\t\t? {}\n\t\t\t: parseQueryString(url.slice(queryIndex + 1, queryEnd)),\n\t}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\n\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\n\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\n\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\n\t\tattrs = newAttrs\n\t}\n\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\n\tif (hasClass) attrs.class = null\n\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\n\treturn vnode\n}\n\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\n\tvnode.tag = selector\n\treturn vnode\n}\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\n// Call via `hyperscriptVnode.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript` and `fragment` factories and define this as\n// `hyperscriptVnode(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// module.exports = function(attrs, ...children) {\n//     if (attrs == null || typeof attrs === \"object\" && attrs.tag == null && !Array.isArray(attrs)) {\n//         if (children.length === 1 && Array.isArray(children[0])) children = children[0]\n//     } else {\n//         children = children.length === 0 && Array.isArray(attrs) ? attrs : [attrs, ...children]\n//         attrs = undefined\n//     }\n//\n//     if (attrs == null) attrs = {}\n//     return Vnode(\"\", attrs.key, attrs, children)\n// }\nmodule.exports = function() {\n\tvar attrs = arguments[this], start = this + 1, children\n\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = this\n\t}\n\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\n\treturn Vnode(\"\", attrs.key, attrs, children)\n}\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./polyfill\")\n\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = global.Promise\n} else {\n\tmodule.exports = PromisePolyfill\n}\n","\"use strict\"\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\n\nmodule.exports = PromisePolyfill\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","\"use strict\"\n\nmodule.exports = require(\"./render/render\")(window)\n","\"use strict\"\n\nmodule.exports = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\n\treturn args.join(\"&\")\n\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\n","\"use strict\"\n\nmodule.exports = Object.assign || function(target, source) {\n\tif(source) Object.keys(source).forEach(function(key) { target[key] = source[key] })\n}\n","\"use strict\"\n\nmodule.exports = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\n\tvar entries = string.split(\"&\"), counters = {}, data = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\n\t\tvar levels = key.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data\n\t\tif (key.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key = levels.slice(0, j).join()\n\t\t\t\tif (counters[key] == null) {\n\t\t\t\t\tcounters[key] = Array.isArray(cursor) ? cursor.length : 0\n\t\t\t\t}\n\t\t\t\tlevel = counters[key]++\n\t\t\t}\n\t\t\t// Disallow direct prototype pollution\n\t\t\telse if (level === \"__proto__\") break\n\t\t\tif (j === levels.length - 1) cursor[level] = value\n\t\t\telse {\n\t\t\t\t// Read own properties exclusively to disallow indirect\n\t\t\t\t// prototype pollution\n\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(cursor, level)\n\t\t\t\tif (desc != null) desc = desc.value\n\t\t\t\tif (desc == null) cursor[level] = desc = isNumber ? [] : {}\n\t\t\t\tcursor = desc\n\t\t\t}\n\t\t}\n\t}\n\treturn data\n}\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","// Robert Penner's easeInOutQuad\n\n// find the rest of his easing functions here: http://robertpenner.com/easing/\n// find them exported for ES6 consumption here: https://github.com/jaxgeller/ez.js\n\nvar easeInOutQuad = function easeInOutQuad(t, b, c, d) {\n  t /= d / 2;\n  if (t < 1) return c / 2 * t * t + b;\n  t--;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar jumper = function jumper() {\n  // private variable cache\n  // no variables are created during a jump, preventing memory leaks\n\n  var element = void 0; // element to scroll to                   (node)\n\n  var start = void 0; // where scroll starts                    (px)\n  var stop = void 0; // where scroll stops                     (px)\n\n  var offset = void 0; // adjustment from the stop position      (px)\n  var easing = void 0; // easing function                        (function)\n  var a11y = void 0; // accessibility support flag             (boolean)\n\n  var distance = void 0; // distance of scroll                     (px)\n  var duration = void 0; // scroll duration                        (ms)\n\n  var timeStart = void 0; // time scroll started                    (ms)\n  var timeElapsed = void 0; // time spent scrolling thus far          (ms)\n\n  var next = void 0; // next scroll position                   (px)\n\n  var callback = void 0; // to call when done scrolling            (function)\n\n  // scroll position helper\n\n  function location() {\n    return window.scrollY || window.pageYOffset;\n  }\n\n  // element offset helper\n\n  function top(element) {\n    return element.getBoundingClientRect().top + start;\n  }\n\n  // rAF loop helper\n\n  function loop(timeCurrent) {\n    // store time scroll started, if not started already\n    if (!timeStart) {\n      timeStart = timeCurrent;\n    }\n\n    // determine time spent scrolling so far\n    timeElapsed = timeCurrent - timeStart;\n\n    // calculate next scroll position\n    next = easing(timeElapsed, start, distance, duration);\n\n    // scroll to it\n    window.scrollTo(0, next);\n\n    // check progress\n    timeElapsed < duration ? window.requestAnimationFrame(loop) // continue scroll loop\n    : done(); // scrolling is done\n  }\n\n  // scroll finished helper\n\n  function done() {\n    // account for rAF time rounding inaccuracies\n    window.scrollTo(0, start + distance);\n\n    // if scrolling to an element, and accessibility is enabled\n    if (element && a11y) {\n      // add tabindex indicating programmatic focus\n      element.setAttribute('tabindex', '-1');\n\n      // focus the element\n      element.focus();\n    }\n\n    // if it exists, fire the callback\n    if (typeof callback === 'function') {\n      callback();\n    }\n\n    // reset time for next jump\n    timeStart = false;\n  }\n\n  // API\n\n  function jump(target) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // resolve options, or use defaults\n    duration = options.duration || 1000;\n    offset = options.offset || 0;\n    callback = options.callback; // \"undefined\" is a suitable default, and won't be called\n    easing = options.easing || easeInOutQuad;\n    a11y = options.a11y || false;\n\n    // cache starting position\n    start = location();\n\n    // resolve target\n    switch (typeof target === 'undefined' ? 'undefined' : _typeof(target)) {\n      // scroll from current position\n      case 'number':\n        element = undefined; // no element to scroll to\n        a11y = false; // make sure accessibility is off\n        stop = start + target;\n        break;\n\n      // scroll to element (node)\n      // bounding rect is relative to the viewport\n      case 'object':\n        element = target;\n        stop = top(element);\n        break;\n\n      // scroll to element (selector)\n      // bounding rect is relative to the viewport\n      case 'string':\n        element = document.querySelector(target);\n        stop = top(element);\n        break;\n    }\n\n    // resolve scroll distance, accounting for offset\n    distance = stop - start + offset;\n\n    // resolve duration\n    switch (_typeof(options.duration)) {\n      // number in ms\n      case 'number':\n        duration = options.duration;\n        break;\n\n      // function passed the distance of the scroll\n      case 'function':\n        duration = options.duration(distance);\n        break;\n    }\n\n    // start the loop\n    window.requestAnimationFrame(loop);\n  }\n\n  // expose only the jump method\n  return jump;\n};\n\n// export singleton\n\nvar singleton = jumper();\n\nexport default singleton;\n","// Utils\nimport debounce from './utils/debounce';\nimport isFunction from './utils/isFunction';\n\n// Methods\nimport update from './methods/update';\nimport destroy from './methods/destroy';\nimport enableEventListeners from './methods/enableEventListeners';\nimport disableEventListeners from './methods/disableEventListeners';\nimport Defaults from './methods/defaults';\nimport placements from './methods/placements';\n\nexport default class Popper {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  constructor(reference, popper, options = {}) {\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = { ...Popper.Defaults, ...options };\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: [],\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys({\n      ...Popper.Defaults.modifiers,\n      ...options.modifiers,\n    }).forEach(name => {\n      this.options.modifiers[name] = {\n        // If it's a built-in modifier, use it as base\n        ...(Popper.Defaults.modifiers[name] || {}),\n        // If there are custom options, override and merge with default ones\n        ...(options.modifiers ? options.modifiers[name] : {}),\n      };\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers)\n      .map(name => ({\n        name,\n        ...this.options.modifiers[name],\n      }))\n      // sort the modifiers by order\n      .sort((a, b) => a.order - b.order);\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(modifierOptions => {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(\n          this.reference,\n          this.popper,\n          this.options,\n          modifierOptions,\n          this.state\n        );\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    const eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n  update() {\n    return update.call(this);\n  }\n  destroy() {\n    return destroy.call(this);\n  }\n  enableEventListeners() {\n    return enableEventListeners.call(this);\n  }\n  disableEventListeners() {\n    return disableEventListeners.call(this);\n  }\n\n  /**\n   * Schedules an update. It will run on the next UI update available.\n   * @method scheduleUpdate\n   * @memberof Popper\n   */\n  scheduleUpdate = () => requestAnimationFrame(this.update);\n\n  /**\n   * Collection of utilities useful when writing custom modifiers.\n   * Starting from version 1.7, this method is available only if you\n   * include `popper-utils.js` before `popper.js`.\n   *\n   * **DEPRECATION**: This way to access PopperUtils is deprecated\n   * and will be removed in v2! Use the PopperUtils module directly instead.\n   * Due to the high instability of the methods contained in Utils, we can't\n   * guarantee them to follow semver. Use them at your own risk!\n   * @static\n   * @private\n   * @type {Object}\n   * @deprecated since version 1.8\n   * @member Utils\n   * @memberof Popper\n   */\n  static Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\n\n  static placements = placements;\n\n  static Defaults = Defaults;\n}\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n","/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nexport default function isFunction(functionToCheck) {\n  const getType = {};\n  return (\n    functionToCheck &&\n    getType.toString.call(functionToCheck) === '[object Function]'\n  );\n}\n","import jump from 'jump.js';\r\nimport Tooltip from 'tooltip.js';\r\n\r\n// add $.fn.tooltip\r\n$.fn.tooltip = function (option) {\r\n  return this.each(function () {\r\n    const $this = $(this);\r\n    let data = $this.data('bs.tooltip');\r\n    const options = typeof option === 'object' && option || {};\r\n\r\n    if ($this.attr('title')) {\r\n      options.title = $this.attr('title');\r\n      $this.removeAttr('title');\r\n      $this.attr('data-original-title', options.title);\r\n    }\r\n\r\n    if (option === 'destroy') option = 'dispose';\r\n\r\n    if (!data && ['dispose', 'hide'].includes(option)) return;\r\n\r\n    if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)));\r\n    if (typeof option === 'string' && data[option]) data[option]();\r\n  });\r\n};\r\n\r\n// add $.fn.outerWidth and $.fn.outerHeight\r\n['width', 'height'].forEach(function(dimension) {\r\n  const Dimension = dimension.replace(/./, function (m) {\r\n    return m[0].toUpperCase()\r\n  });\r\n\r\n  $.fn[`outer${Dimension}`] = function(margin) {\r\n    const elem = this;\r\n\r\n    if (elem) {\r\n      const sides = {'width': ['left', 'right'], 'height': ['top', 'bottom']};\r\n      let size = elem[dimension]();\r\n\r\n      sides[dimension].forEach(function(side) {\r\n        if (margin) size += parseInt(elem.css('margin-' + side), 10);\r\n      });\r\n\r\n      return size;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n});\r\n\r\n// allow use of $(':input')\r\n// @ts-ignore\r\n$.expr[':']['input'] = function() {\r\n  if (('disabled' in this) || ['INPUT', 'SELECT', 'TEXTAREA', 'BUTTON'].includes(this.tagName)) return this;\r\n};\r\n\r\n// add $().hover() method\r\n$.fn.hover = function(hover, leave) {\r\n  return this\r\n    .on('mouseenter', hover)\r\n    .on('mouseleave', leave || hover);\r\n};\r\n\r\n// add animated scroll\r\n$.fn.animatedScrollTop = function (to, duration = $.fx.speeds._default, callback) {\r\n  if (typeof to === 'number') to -= (window.scrollY || window.pageYOffset);\r\n\r\n  jump(to, {\r\n    duration: $.fx.speeds[duration] || duration,\r\n    callback\r\n  });\r\n\r\n  return this;\r\n};\r\n\r\n// required for compatibility with jquery plugins\r\n// ex: bootstrap plugins\r\n$.fn.extend = $.extend.bind($);\r\n\r\n/**\r\n * Enable special events on Zepto\r\n * @license Original Copyright 2013 Enideo. Released under dual MIT and GPL licenses.\r\n */\r\n// @ts-ignore\r\n$.event.special = $.event.special || {};\r\n\r\nconst bindBeforeSpecialEvents = $.fn.bind;\r\n\r\n$.fn.bind = function(eventName, data, callback) {\r\n  const el = this;\r\n\r\n  if (!callback){\r\n    callback = data;\r\n    data = null;\r\n  }\r\n\r\n  $.each(eventName.split(/\\s/), (key: string, value: any) : boolean => {\r\n    value = value.split(/\\./)[0];\r\n\r\n    if(value in $.event.special){\r\n      let specialEvent = $.event.special[value];\r\n\r\n      /// init enable special events on Zepto\r\n      if(!specialEvent._init) {\r\n        specialEvent._init = true;\r\n\r\n        /// intercept and replace the special event handler to add functionality\r\n        specialEvent.originalHandler = specialEvent.handler;\r\n        specialEvent.handler = function(){\r\n\r\n          /// make event argument writable, like on jQuery\r\n          const args = Array.prototype.slice.call(arguments);\r\n\r\n          args[0] = $.extend({},args[0]);\r\n\r\n          /// define the event handle, $.event.dispatch is only for newer versions of jQuery\r\n          $.event.handle = function(){\r\n\r\n            /// make context of trigger the event element\r\n            const args = Array.prototype.slice.call(arguments);\r\n            const event = args[0];\r\n            const $target = $(event.target);\r\n\r\n            $target.trigger.apply( $target, arguments );\r\n          };\r\n\r\n          specialEvent.originalHandler.apply(this,args);\r\n        }\r\n      }\r\n\r\n      /// setup special events on Zepto\r\n      specialEvent.setup.apply(el, [data]);\r\n    }\r\n\r\n    return true;\r\n  });\r\n\r\n  return bindBeforeSpecialEvents.apply(this, [eventName, callback]);\r\n};\r\n","import m from 'mithril';\nimport prop from 'mithril/stream';\n\nexport default () => {\n    const mo = window['m'];\n\n    const _m = function (comp, ...args) {\n        const node = mo.apply(this, arguments);\n\n        if (!node.attrs) node.attrs = {};\n\n        if (node.attrs.bidi) {\n            m.bidi(node, node.attrs.bidi);\n        }\n\n        if (node.attrs.route) {\n            node.attrs.href = node.attrs.route;\n            node.attrs.tag = m.route.Link;\n\n            delete node.attrs.route;\n        }\n\n        return node;\n    };\n\n    Object.keys(mo).forEach(key => _m[key] = mo[key]);\n\n    _m.withAttr = (key: string, cb: Function) => function () {\n        cb(this.getAttribute(key) || this[key]);\n    };\n\n    _m.prop = prop;\n\n    window['m'] = _m;\n}\n","import 'expose-loader?jQuery!zepto';\r\nimport 'expose-loader?moment!expose-loader?dayjs!dayjs';\r\nimport 'expose-loader?m!mithril';\r\nimport 'expose-loader?m.bidi!m.attrs.bidi';\r\nimport 'expose-loader?Mousetrap!mousetrap';\r\nimport 'expose-loader?classNames!classNames';\r\n\r\nimport 'zepto/src/selector';\r\nimport 'zepto/src/data';\r\nimport 'zepto/src/fx';\r\nimport 'zepto/src/fx_methods';\r\n\r\nimport './utils/patchZepto';\r\n\r\nimport 'hc-sticky';\r\nimport 'bootstrap/js/dropdown';\r\nimport 'bootstrap/js/transition';\r\n\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\r\n\r\ndayjs.extend(relativeTime);\r\ndayjs.extend(localizedFormat);\r\n\r\nimport patchMithril from './utils/patchMithril';\r\n\r\npatchMithril();\r\n\r\n// import * as Extend from './extend/index';\r\n\r\n// export { Extend };\r\n","import isBrowser from './isBrowser';\n\nconst longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\nlet timeoutDuration = 0;\nfor (let i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n    timeoutDuration = 1;\n    break;\n  }\n}\n\nexport function microtaskDebounce(fn) {\n  let called = false\n  return () => {\n    if (called) {\n      return\n    }\n    called = true\n    window.Promise.resolve().then(() => {\n      called = false\n      fn()\n    })\n  }\n}\n\nexport function taskDebounce(fn) {\n  let scheduled = false;\n  return () => {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(() => {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nconst supportsMicroTasks = isBrowser && window.Promise\n\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nexport default (supportsMicroTasks\n  ? microtaskDebounce\n  : taskDebounce);\n","export default typeof window !== 'undefined' && typeof document !== 'undefined';\n","/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nexport default function isFunction(functionToCheck) {\n  const getType = {};\n  return (\n    functionToCheck &&\n    getType.toString.call(functionToCheck) === '[object Function]'\n  );\n}\n","/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nexport default function getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  const window = element.ownerDocument.defaultView;\n  const css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n","/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nexport default function getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getParentNode from './getParentNode';\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nexport default function getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body\n    case '#document':\n      return element.body\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n  const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n","import isBrowser from './isBrowser';\n\nconst isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nconst isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nexport default function isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport isIE from './isIE';\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nexport default function getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  const noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  let offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  const nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (\n    ['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\n    getStyleComputedProperty(offsetParent, 'position') === 'static'\n  ) {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n","/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nexport default function getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n","import isOffsetContainer from './isOffsetContainer';\nimport getRoot from './getRoot';\nimport getOffsetParent from './getOffsetParent';\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nexport default function findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  const order =\n    element1.compareDocumentPosition(element2) &\n    Node.DOCUMENT_POSITION_FOLLOWING;\n  const start = order ? element1 : element2;\n  const end = order ? element2 : element1;\n\n  // Get common ancestor container\n  const range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  const { commonAncestorContainer } = range;\n\n  // Both nodes are inside #document\n  if (\n    (element1 !== commonAncestorContainer &&\n      element2 !== commonAncestorContainer) ||\n    start.contains(end)\n  ) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  const element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n","import getOffsetParent from './getOffsetParent';\n\nexport default function isOffsetContainer(element) {\n  const { nodeName } = element;\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return (\n    nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element\n  );\n}\n","/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nexport default function getScroll(element, side = 'top') {\n  const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  const nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    const html = element.ownerDocument.documentElement;\n    const scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n","/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nexport default function getBordersSize(styles, axis) {\n  const sideA = axis === 'x' ? 'Left' : 'Top';\n  const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return (\n    parseFloat(styles[`border${sideA}Width`], 10) +\n    parseFloat(styles[`border${sideB}Width`], 10)\n  );\n}\n","import isIE from './isIE';\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(\n    body[`offset${axis}`],\n    body[`scroll${axis}`],\n    html[`client${axis}`],\n    html[`offset${axis}`],\n    html[`scroll${axis}`],\n    isIE(10)\n      ? (parseInt(html[`offset${axis}`]) + \n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Top' : 'Left'}`]) + \n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Bottom' : 'Right'}`]))\n    : 0 \n  );\n}\n\nexport default function getWindowSizes(document) {\n  const body = document.body;\n  const html = document.documentElement;\n  const computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle),\n  };\n}\n","/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nexport default function getClientRect(offsets) {\n  return {\n    ...offsets,\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height,\n  };\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getBordersSize from './getBordersSize';\nimport getWindowSizes from './getWindowSizes';\nimport getScroll from './getScroll';\nimport getClientRect from './getClientRect';\nimport isIE from './isIE';\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nexport default function getBoundingClientRect(element) {\n  let rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      const scrollTop = getScroll(element, 'top');\n      const scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    }\n    else {\n      rect = element.getBoundingClientRect();\n    }\n  }\n  catch(e){}\n\n  const result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top,\n  };\n\n  // subtract scrollbar size from sizes\n  const sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  const width =\n    sizes.width || element.clientWidth || result.right - result.left;\n  const height =\n    sizes.height || element.clientHeight || result.bottom - result.top;\n\n  let horizScrollbar = element.offsetWidth - width;\n  let vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    const styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport includeScroll from './includeScroll';\nimport getScrollParent from './getScrollParent';\nimport getBoundingClientRect from './getBoundingClientRect';\nimport runIsIE from './isIE';\nimport getClientRect from './getClientRect';\n\nexport default function getOffsetRectRelativeToArbitraryNode(children, parent, fixedPosition = false) {\n  const isIE10 = runIsIE(10);\n  const isHTML = parent.nodeName === 'HTML';\n  const childrenRect = getBoundingClientRect(children);\n  const parentRect = getBoundingClientRect(parent);\n  const scrollParent = getScrollParent(children);\n\n  const styles = getStyleComputedProperty(parent);\n  const borderTopWidth = parseFloat(styles.borderTopWidth, 10);\n  const borderLeftWidth = parseFloat(styles.borderLeftWidth, 10);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if(fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  let offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height,\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    const marginTop = parseFloat(styles.marginTop, 10);\n    const marginLeft = parseFloat(styles.marginLeft, 10);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (\n    isIE10 && !fixedPosition\n      ? parent.contains(scrollParent)\n      : parent === scrollParent && scrollParent.nodeName !== 'BODY'\n  ) {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n","import getScroll from './getScroll';\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nexport default function includeScroll(rect, element, subtract = false) {\n  const scrollTop = getScroll(element, 'top');\n  const scrollLeft = getScroll(element, 'left');\n  const modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport isIE from './isIE';\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nexport default function getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n   if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  let el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n\n}\n","import getScrollParent from './getScrollParent';\nimport getParentNode from './getParentNode';\nimport findCommonOffsetParent from './findCommonOffsetParent';\nimport getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getViewportOffsetRectRelativeToArtbitraryNode from './getViewportOffsetRectRelativeToArtbitraryNode';\nimport getWindowSizes from './getWindowSizes';\nimport isFixed from './isFixed';\nimport getFixedPositionOffsetParent from './getFixedPositionOffsetParent';\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nexport default function getBoundaries(\n  popper,\n  reference,\n  padding,\n  boundariesElement,\n  fixedPosition = false\n) {\n  // NOTE: 1 DOM access here\n\n  let boundaries = { top: 0, left: 0 };\n  const offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport' ) {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  }\n\n  else {\n    // Handle other cases based on DOM element used as boundaries\n    let boundariesNode;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    const offsets = getOffsetRectRelativeToArbitraryNode(\n      boundariesNode,\n      offsetParent,\n      fixedPosition\n    );\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      const { height, width } = getWindowSizes(popper.ownerDocument);\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  const isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0; \n  boundaries.top += isPaddingNumber ? padding : padding.top || 0; \n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0; \n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0; \n\n  return boundaries;\n}\n","import getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getScroll from './getScroll';\nimport getClientRect from './getClientRect';\n\nexport default function getViewportOffsetRectRelativeToArtbitraryNode(element, excludeScroll = false) {\n  const html = element.ownerDocument.documentElement;\n  const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  const width = Math.max(html.clientWidth, window.innerWidth || 0);\n  const height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  const scrollTop = !excludeScroll ? getScroll(html) : 0;\n  const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  const offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width,\n    height,\n  };\n\n  return getClientRect(offset);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getParentNode from './getParentNode';\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nexport default function isFixed(element) {\n  const nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  const parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n","import getBoundaries from '../utils/getBoundaries';\n\nfunction getArea({ width, height }) {\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function computeAutoPlacement(\n  placement,\n  refRect,\n  popper,\n  reference,\n  boundariesElement,\n  padding = 0\n) {\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  const boundaries = getBoundaries(\n    popper,\n    reference,\n    padding,\n    boundariesElement\n  );\n\n  const rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top,\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height,\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom,\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height,\n    },\n  };\n\n  const sortedAreas = Object.keys(rects)\n    .map(key => ({\n      key,\n      ...rects[key],\n      area: getArea(rects[key]),\n    }))\n    .sort((a, b) => b.area - a.area);\n\n  const filteredAreas = sortedAreas.filter(\n    ({ width, height }) =>\n      width >= popper.clientWidth && height >= popper.clientHeight\n  );\n\n  const computedPlacement = filteredAreas.length > 0\n    ? filteredAreas[0].key\n    : sortedAreas[0].key;\n\n  const variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? `-${variation}` : '');\n}\n","import findCommonOffsetParent from './findCommonOffsetParent';\nimport getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getFixedPositionOffsetParent from './getFixedPositionOffsetParent';\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nexport default function getReferenceOffsets(state, popper, reference, fixedPosition = null) {\n  const commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n","/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nexport default function getOuterSizes(element) {\n  const window = element.ownerDocument.defaultView;\n  const styles = window.getComputedStyle(element);\n  const x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  const y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  const result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x,\n  };\n  return result;\n}\n","/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nexport default function getOppositePlacement(placement) {\n  const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, matched => hash[matched]);\n}\n","import getOuterSizes from './getOuterSizes';\nimport getOppositePlacement from './getOppositePlacement';\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nexport default function getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  const popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  const popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height,\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  const mainSide = isHoriz ? 'top' : 'left';\n  const secondarySide = isHoriz ? 'left' : 'top';\n  const measurement = isHoriz ? 'height' : 'width';\n  const secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] =\n    referenceOffsets[mainSide] +\n    referenceOffsets[measurement] / 2 -\n    popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] =\n      referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] =\n      referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n","/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nexport default function find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n","import isFunction from './isFunction';\nimport findIndex from './findIndex';\nimport getClientRect from '../utils/getClientRect';\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nexport default function runModifiers(modifiers, data, ends) {\n  const modifiersToRun = ends === undefined\n    ? modifiers\n    : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(modifier => {\n    if (modifier['function']) { // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    const fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n","import find from './find';\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nexport default function findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(cur => cur[prop] === value);\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  const match = find(arr, obj => obj[prop] === value);\n  return arr.indexOf(match);\n}\n","import computeAutoPlacement from '../utils/computeAutoPlacement';\nimport getReferenceOffsets from '../utils/getReferenceOffsets';\nimport getPopperOffsets from '../utils/getPopperOffsets';\nimport runModifiers from '../utils/runModifiers';\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nexport default function update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  let data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {},\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(\n    this.state,\n    this.popper,\n    this.reference,\n    this.options.positionFixed\n  );\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(\n    this.options.placement,\n    data.offsets.reference,\n    this.popper,\n    this.reference,\n    this.options.modifiers.flip.boundariesElement,\n    this.options.modifiers.flip.padding\n  );\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(\n    this.popper,\n    data.offsets.reference,\n    data.placement\n  );\n\n  data.offsets.popper.position = this.options.positionFixed\n    ? 'fixed'\n    : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n","/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nexport default function isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(\n    ({ name, enabled }) => enabled && name === modifierName\n  );\n}\n","/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nexport default function getSupportedPropertyName(property) {\n  const prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  const upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefix = prefixes[i];\n    const toCheck = prefix ? `${prefix}${upperProp}` : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n","import isModifierEnabled from '../utils/isModifierEnabled';\nimport getSupportedPropertyName from '../utils/getSupportedPropertyName';\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nexport default function destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n","/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nexport default function getWindow(element) {\n  const ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n","import getScrollParent from './getScrollParent';\nimport getWindow from './getWindow';\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  const isBody = scrollParent.nodeName === 'BODY';\n  const target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(\n      getScrollParent(target.parentNode),\n      event,\n      callback,\n      scrollParents\n    );\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nexport default function setupEventListeners(\n  reference,\n  options,\n  state,\n  updateBound\n) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  const scrollElement = getScrollParent(reference);\n  attachToScrollParents(\n    scrollElement,\n    'scroll',\n    state.updateBound,\n    state.scrollParents\n  );\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n","import setupEventListeners from '../utils/setupEventListeners';\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nexport default function enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(\n      this.reference,\n      this.options,\n      this.state,\n      this.scheduleUpdate\n    );\n  }\n}\n","import removeEventListeners from '../utils/removeEventListeners';\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nexport default function disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n","import getWindow from './getWindow';\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nexport default function removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(target => {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n","/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nexport default function isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n","import isNumeric from './isNumeric';\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nexport default function setStyles(element, styles) {\n  Object.keys(styles).forEach(prop => {\n    let unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (\n      ['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !==\n        -1 &&\n      isNumeric(styles[prop])\n    ) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n","import getSupportedPropertyName from '../utils/getSupportedPropertyName';\nimport find from '../utils/find';\nimport getOffsetParent from '../utils/getOffsetParent';\nimport getBoundingClientRect from '../utils/getBoundingClientRect';\nimport getRoundedOffsets from '../utils/getRoundedOffsets';\nimport isBrowser from '../utils/isBrowser';\n\nconst isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function computeStyle(data, options) {\n  const { x, y } = options;\n  const { popper } = data.offsets;\n\n  // Remove this legacy support in Popper.js v2\n  const legacyGpuAccelerationOption = find(\n    data.instance.modifiers,\n    modifier => modifier.name === 'applyStyle'\n  ).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn(\n      'WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!'\n    );\n  }\n  const gpuAcceleration =\n    legacyGpuAccelerationOption !== undefined\n      ? legacyGpuAccelerationOption\n      : options.gpuAcceleration;\n\n  const offsetParent = getOffsetParent(data.instance.popper);\n  const offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  const styles = {\n    position: popper.position,\n  };\n\n  const offsets = getRoundedOffsets(\n    data,\n    window.devicePixelRatio < 2 || !isFirefox\n  );\n\n  const sideA = x === 'bottom' ? 'top' : 'bottom';\n  const sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  const prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  let left, top;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = `translate3d(${left}px, ${top}px, 0)`;\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    const invertTop = sideA === 'bottom' ? -1 : 1;\n    const invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = `${sideA}, ${sideB}`;\n  }\n\n  // Attributes\n  const attributes = {\n    'x-placement': data.placement,\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = { ...attributes, ...data.attributes };\n  data.styles = { ...styles, ...data.styles };\n  data.arrowStyles = { ...data.offsets.arrow, ...data.arrowStyles };\n\n  return data;\n}\n","import find from './find';\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nexport default function isModifierRequired(\n  modifiers,\n  requestingName,\n  requestedName\n) {\n  const requesting = find(modifiers, ({ name }) => name === requestingName);\n\n  const isRequired =\n    !!requesting &&\n    modifiers.some(modifier => {\n      return (\n        modifier.name === requestedName &&\n        modifier.enabled &&\n        modifier.order < requesting.order\n      );\n    });\n\n  if (!isRequired) {\n    const requesting = `\\`${requestingName}\\``;\n    const requested = `\\`${requestedName}\\``;\n    console.warn(\n      `${requested} modifier is required by ${requesting} modifier in order to work, be sure to include it before ${requesting}!`\n    );\n  }\n  return isRequired;\n}\n","/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nexport default [\n  'auto-start',\n  'auto',\n  'auto-end',\n  'top-start',\n  'top',\n  'top-end',\n  'right-start',\n  'right',\n  'right-end',\n  'bottom-end',\n  'bottom',\n  'bottom-start',\n  'left-end',\n  'left',\n  'left-start',\n];\n","import placements from '../methods/placements';\n\n// Get rid of `auto` `auto-start` and `auto-end`\nconst validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nexport default function clockwise(placement, counter = false) {\n  const index = validPlacements.indexOf(placement);\n  const arr = validPlacements\n    .slice(index + 1)\n    .concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n","import getOppositePlacement from '../utils/getOppositePlacement';\nimport getOppositeVariation from '../utils/getOppositeVariation';\nimport getPopperOffsets from '../utils/getPopperOffsets';\nimport runModifiers from '../utils/runModifiers';\nimport getBoundaries from '../utils/getBoundaries';\nimport isModifierEnabled from '../utils/isModifierEnabled';\nimport clockwise from '../utils/clockwise';\n\nconst BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise',\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  const boundaries = getBoundaries(\n    data.instance.popper,\n    data.instance.reference,\n    options.padding,\n    options.boundariesElement,\n    data.positionFixed\n  );\n\n  let placement = data.placement.split('-')[0];\n  let placementOpposite = getOppositePlacement(placement);\n  let variation = data.placement.split('-')[1] || '';\n\n  let flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach((step, index) => {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    const popperOffsets = data.offsets.popper;\n    const refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    const floor = Math.floor;\n    const overlapsRef =\n      (placement === 'left' &&\n        floor(popperOffsets.right) > floor(refOffsets.left)) ||\n      (placement === 'right' &&\n        floor(popperOffsets.left) < floor(refOffsets.right)) ||\n      (placement === 'top' &&\n        floor(popperOffsets.bottom) > floor(refOffsets.top)) ||\n      (placement === 'bottom' &&\n        floor(popperOffsets.top) < floor(refOffsets.bottom));\n\n    const overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    const overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    const overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    const overflowsBottom =\n      floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    const overflowsBoundaries =\n      (placement === 'left' && overflowsLeft) ||\n      (placement === 'right' && overflowsRight) ||\n      (placement === 'top' && overflowsTop) ||\n      (placement === 'bottom' && overflowsBottom);\n\n    // flip the variation if required\n    const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    const flippedVariationByRef =\n      !!options.flipVariations &&\n      ((isVertical && variation === 'start' && overflowsLeft) ||\n        (isVertical && variation === 'end' && overflowsRight) ||\n        (!isVertical && variation === 'start' && overflowsTop) ||\n        (!isVertical && variation === 'end' && overflowsBottom));\n\n    // flips variation if popper content overflows boundaries\n    const flippedVariationByContent =\n      !!options.flipVariationsByContent &&\n      ((isVertical && variation === 'start' && overflowsRight) ||\n        (isVertical && variation === 'end' && overflowsLeft) ||\n        (!isVertical && variation === 'start' && overflowsBottom) ||\n        (!isVertical && variation === 'end' && overflowsTop));\n\n    const flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = {\n        ...data.offsets.popper,\n        ...getPopperOffsets(\n          data.instance.popper,\n          data.offsets.reference,\n          data.placement\n        ),\n      };\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n","import isNumeric from '../utils/isNumeric';\nimport getClientRect from '../utils/getClientRect';\nimport find from '../utils/find';\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nexport function toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  const split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  const value = +split[1];\n  const unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    let element;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    const rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    let size;\n    if (unit === 'vh') {\n      size = Math.max(\n        document.documentElement.clientHeight,\n        window.innerHeight || 0\n      );\n    } else {\n      size = Math.max(\n        document.documentElement.clientWidth,\n        window.innerWidth || 0\n      );\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nexport function parseOffset(\n  offset,\n  popperOffsets,\n  referenceOffsets,\n  basePlacement\n) {\n  const offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  const useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  const fragments = offset.split(/(\\+|\\-)/).map(frag => frag.trim());\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  const divider = fragments.indexOf(\n    find(fragments, frag => frag.search(/,|\\s/) !== -1)\n  );\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn(\n      'Offsets separated by white space(s) are deprecated, use a comma (,) instead.'\n    );\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  const splitRegex = /\\s*,\\s*|\\s+/;\n  let ops = divider !== -1\n    ? [\n        fragments\n          .slice(0, divider)\n          .concat([fragments[divider].split(splitRegex)[0]]),\n        [fragments[divider].split(splitRegex)[1]].concat(\n          fragments.slice(divider + 1)\n        ),\n      ]\n    : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map((op, index) => {\n    // Most of the units rely on the orientation of the popper\n    const measurement = (index === 1 ? !useHeight : useHeight)\n      ? 'height'\n      : 'width';\n    let mergeWithPrevious = false;\n    return (\n      op\n        // This aggregates any `+` or `-` sign that aren't considered operators\n        // e.g.: 10 + +5 => [10, +, +5]\n        .reduce((a, b) => {\n          if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n            a[a.length - 1] = b;\n            mergeWithPrevious = true;\n            return a;\n          } else if (mergeWithPrevious) {\n            a[a.length - 1] += b;\n            mergeWithPrevious = false;\n            return a;\n          } else {\n            return a.concat(b);\n          }\n        }, [])\n        // Here we convert the string values into number values (in px)\n        .map(str => toValue(str, measurement, popperOffsets, referenceOffsets))\n    );\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach((op, index) => {\n    op.forEach((frag, index2) => {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nexport default function offset(data, { offset }) {\n  const { placement, offsets: { popper, reference } } = data;\n  const basePlacement = placement.split('-')[0];\n\n  let offsets;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n","import applyStyle, { applyStyleOnLoad } from './applyStyle';\nimport computeStyle from './computeStyle';\nimport arrow from './arrow';\nimport flip from './flip';\nimport keepTogether from './keepTogether';\nimport offset from './offset';\nimport preventOverflow from './preventOverflow';\nimport shift from './shift';\nimport hide from './hide';\nimport inner from './inner';\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nexport default {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift,\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0,\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent',\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether,\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]',\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false,\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner,\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide,\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right',\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined,\n  },\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n","import modifiers from '../modifiers/index';\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nexport default {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: () => {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: () => {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers,\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n","/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function shift(data) {\n  const placement = data.placement;\n  const basePlacement = placement.split('-')[0];\n  const shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    const { reference, popper } = data.offsets;\n    const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    const side = isVertical ? 'left' : 'top';\n    const measurement = isVertical ? 'width' : 'height';\n\n    const shiftOffsets = {\n      start: { [side]: reference[side] },\n      end: {\n        [side]: reference[side] + reference[measurement] - popper[measurement],\n      },\n    };\n\n    data.offsets.popper = { ...popper, ...shiftOffsets[shiftvariation] };\n  }\n\n  return data;\n}\n","import getOffsetParent from '../utils/getOffsetParent';\nimport getBoundaries from '../utils/getBoundaries';\nimport getSupportedPropertyName from '../utils/getSupportedPropertyName';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function preventOverflow(data, options) {\n  let boundariesElement =\n    options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  const transformProp = getSupportedPropertyName('transform');\n  const popperStyles = data.instance.popper.style; // assignment to help minification\n  const { top, left, [transformProp]: transform } = popperStyles;\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  const boundaries = getBoundaries(\n    data.instance.popper,\n    data.instance.reference,\n    options.padding,\n    boundariesElement,\n    data.positionFixed\n  );\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  const order = options.priority;\n  let popper = data.offsets.popper;\n\n  const check = {\n    primary(placement) {\n      let value = popper[placement];\n      if (\n        popper[placement] < boundaries[placement] &&\n        !options.escapeWithReference\n      ) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return { [placement]: value };\n    },\n    secondary(placement) {\n      const mainSide = placement === 'right' ? 'left' : 'top';\n      let value = popper[mainSide];\n      if (\n        popper[placement] > boundaries[placement] &&\n        !options.escapeWithReference\n      ) {\n        value = Math.min(\n          popper[mainSide],\n          boundaries[placement] -\n            (placement === 'right' ? popper.width : popper.height)\n        );\n      }\n      return { [mainSide]: value };\n    },\n  };\n\n  order.forEach(placement => {\n    const side =\n      ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = { ...popper, ...check[side](placement) };\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n","/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function keepTogether(data) {\n  const { popper, reference } = data.offsets;\n  const placement = data.placement.split('-')[0];\n  const floor = Math.floor;\n  const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  const side = isVertical ? 'right' : 'bottom';\n  const opSide = isVertical ? 'left' : 'top';\n  const measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] =\n      floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n","import getClientRect from '../utils/getClientRect';\nimport getOuterSizes from '../utils/getOuterSizes';\nimport isModifierRequired from '../utils/isModifierRequired';\nimport getStyleComputedProperty from '../utils/getStyleComputedProperty';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function arrow(data, options) {\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  let arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn(\n        'WARNING: `arrow.element` must be child of its popper element!'\n      );\n      return data;\n    }\n  }\n\n  const placement = data.placement.split('-')[0];\n  const { popper, reference } = data.offsets;\n  const isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  const len = isVertical ? 'height' : 'width';\n  const sideCapitalized = isVertical ? 'Top' : 'Left';\n  const side = sideCapitalized.toLowerCase();\n  const altSide = isVertical ? 'left' : 'top';\n  const opSide = isVertical ? 'bottom' : 'right';\n  const arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -=\n      popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] +=\n      reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  const center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  const css = getStyleComputedProperty(data.instance.popper);\n  const popperMarginSide = parseFloat(css[`margin${sideCapitalized}`], 10);\n  const popperBorderSide = parseFloat(css[`border${sideCapitalized}Width`], 10);\n  let sideValue =\n    center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = {\n    [side]: Math.round(sideValue),\n    [altSide]: '', // make sure to unset any eventual altSide value from the DOM node\n  };\n\n  return data;\n}\n","/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nexport default function getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n","import getClientRect from '../utils/getClientRect';\nimport getOppositePlacement from '../utils/getOppositePlacement';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function inner(data) {\n  const placement = data.placement;\n  const basePlacement = placement.split('-')[0];\n  const { popper, reference } = data.offsets;\n  const isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  const subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] =\n    reference[basePlacement] -\n    (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n","import isModifierRequired from '../utils/isModifierRequired';\nimport find from '../utils/find';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  const refRect = data.offsets.reference;\n  const bound = find(\n    data.instance.modifiers,\n    modifier => modifier.name === 'preventOverflow'\n  ).boundaries;\n\n  if (\n    refRect.bottom < bound.top ||\n    refRect.left > bound.right ||\n    refRect.top > bound.bottom ||\n    refRect.right < bound.left\n  ) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n","/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nexport default function getRoundedOffsets(data, shouldRound) {\n  const { popper, reference } = data.offsets;\n  const { round, floor } = Math;\n  const noRound = v => v;\n  \n  const referenceWidth = round(reference.width);\n  const popperWidth = round(popper.width);\n  \n  const isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  const isVariation = data.placement.indexOf('-') !== -1;\n  const sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  const bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  const horizontalToInteger = !shouldRound\n    ? noRound\n    : isVertical || isVariation || sameWidthParity\n    ? round\n    : floor;\n  const verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(\n      bothOddWidth && !isVariation && shouldRound\n        ? popper.left - 1\n        : popper.left\n    ),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right),\n  };\n}\n","import setStyles from '../utils/setStyles';\nimport setAttributes from '../utils/setAttributes';\nimport getReferenceOffsets from '../utils/getReferenceOffsets';\nimport computeAutoPlacement from '../utils/computeAutoPlacement';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nexport default function applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nexport function applyStyleOnLoad(\n  reference,\n  popper,\n  options,\n  modifierOptions,\n  state\n) {\n  // compute reference element offsets\n  const referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  const placement = computeAutoPlacement(\n    options.placement,\n    referenceOffsets,\n    popper,\n    reference,\n    options.modifiers.flip.boundariesElement,\n    options.modifiers.flip.padding\n  );\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n","/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nexport default function setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function(prop) {\n    const value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){var n=t.prototype;e.en.relativeTime={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};var o=function(r,t,n,o){for(var d,i,u=n.$locale().relativeTime,a=[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],f=a.length,s=0;s<f;s+=1){var l=a[s];l.d&&(d=o?e(r).diff(n,l.d,!0):n.diff(r,l.d,!0));var h=Math.round(Math.abs(d));if(h<=l.r||!l.r){1===h&&s>0&&(l=a[s-1]),i=u[l.l].replace(\"%d\",h);break}}return t?i:(d>0?u.future:u.past).replace(\"%s\",i)};n.to=function(r,t){return o(r,t,this,!0)},n.from=function(r,t){return o(r,t,this)};var d=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}});\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.dayjs_plugin_localizedFormat=t()}(this,function(){\"use strict\";return function(e,t,o){var n=t.prototype,r=n.format,M={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};o.en.formats=M;n.format=function(e){void 0===e&&(e=\"YYYY-MM-DDTHH:mm:ssZ\");var t=this.$locale().formats,o=void 0===t?{}:t,n=e.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,t,n){var r=n&&n.toUpperCase();return t||o[n]||M[n]||o[r].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,o){return t||o.slice(1)})});return r.call(this,n)}}});\n","\"use strict\"\n\nmodule.exports = require(\"./stream/stream\")\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","module.exports = global[\"jQuery\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\imports-loader\\\\index.js?this=>window!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\zepto.js\");","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n/* Zepto v1.2.0 - zepto event ajax form ie - zeptojs.com/license */\n(function(global, factory) {\n  if (typeof define === 'function' && define.amd)\n    define(function() { return factory(global) })\n  else\n    factory(global)\n}(this, function(window) {\n  var Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.matches || element.webkitMatchesSelector ||\n                          element.mozMatchesSelector || element.oMatchesSelector ||\n                          element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n      type = $.type(obj)\n\n    return 'function' != type && !isWindow(obj) && (\n      'array' == type || length === 0 ||\n        (typeof length == 'number' && length > 0 && (length - 1) in obj)\n    )\n  }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.isNumeric = function(val) {\n    var num = Number(val), type = typeof val\n    return val != null && type != 'boolean' &&\n      (type != 'string' || val.length) &&\n      !isNaN(num) && isFinite(num) || false\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n  $.noop = function() {}\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function(){\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var nodes = [], collection = typeof selector == 'object' && $(selector)\n      this.each(function(_, node){\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n          node = node !== context && !isDocument(node) && node.parentNode\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\n      })\n      return $(nodes)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this.pluck('textContent').join(\"\") : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    removeProp: function(name){\n      name = propMap[name] || name\n      return this.each(function(){ delete this[name] })\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      if (0 in arguments) {\n        if (value == null) value = \"\"\n        return this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n      } else {\n        return this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n      }\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\n        return {top: 0, left: 0}\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0]\n        if (typeof property == 'string') {\n          if (!element) return\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\n        } else if (isArray(property)) {\n          if (!element) return\n          var props = {}\n          var computedStyle = getComputedStyle(element, '')\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            var arr = []\n            argType = type(arg)\n            if (argType == \"array\") {\n              arg.forEach(function(el) {\n                if (el.nodeType !== undefined) return arr.push(el)\n                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\n                arr = arr.concat(zepto.fragment(el))\n              })\n              return arr\n            }\n            return argType == \"object\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src){\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window\n              target['eval'].call(target, el.innerHTML)\n            }\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      event.timeStamp || (event.timeStamp = Date.now())\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = +new Date(),\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  function ajaxDataFilter(data, type, settings) {\n    if (settings.dataFilter == empty) return data\n    var context = settings.context\n    return settings.dataFilter.call(context, data, type)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('Zepto' + (jsonpID++)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true,\n    //Used to handle the raw response data of XMLHttpRequest.\n    //This is a pre-filtering function to sanitize the response.\n    //The sanitized response should be returned\n    dataFilter: empty\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor, hashIndex\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n      // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex)\n    serializeData(settings)\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n         (!options || options.cache !== true) &&\n         ('script' == dataType || 'jsonp' == dataType)\n        ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n\n          if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob')\n            result = xhr.response\n          else {\n            result = xhr.responseText\n\n            try {\n              // http://perfectionkills.com/global-eval-what-are-the-options/\n              // sanitize response accordingly if data filter callback provided\n              result = ajaxDataFilter(result, dataType, settings)\n              if (dataType == 'script')    (1,eval)(result)\n              else if (dataType == 'xml')  result = xhr.responseXML\n              else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n            } catch (e) { error = e }\n\n            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred)\n          }\n\n          ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({ name: name, value: value })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field){\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n          add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function(){\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle\n    window.getComputedStyle = function(element, pseudoElement){\n      try {\n        return nativeGetComputedStyle(element, pseudoElement)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})()\n  return Zepto\n}))\n\n}.call(window));","module.exports = global[\"moment\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\expose-loader\\\\index.js?dayjs!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\dayjs.min.js\");","module.exports = global[\"dayjs\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\dayjs.min.js\");","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs=n()}(this,function(){\"use strict\";var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",a=\"quarter\",o=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,h:r,m:e,s:n,ms:t,Q:a}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return e||(l=r),r},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",o)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,a){var h=this,f=!!D.u(a)||a,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case o:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,a){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[o]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(a-this.$W):a;if(f===u||f===o){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,a){var h,f=this;t=Number(t);var c=D.p(a),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.valueOf()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return\"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:D.s(a+1,2,\"0\"),MMM:c(i.monthsShort,a,h,3),MMMM:h[a]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,o,2),ddd:c(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[o]=y/12,c[u]=y,c[a]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone();return e.$L=M(t,n,!0),e},d.clone=function(){return D.w(this.toDate(),this)},d.toDate=function(){return new Date(this.$d)},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","module.exports = global[\"m\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\index.js\");","\"use strict\"\n\nvar hyperscript = require(\"./hyperscript\")\nvar request = require(\"./request\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\nm.mount = mountRedraw.mount\nm.route = require(\"./route\")\nm.render = require(\"./render\")\nm.redraw = mountRedraw.redraw\nm.request = request.request\nm.jsonp = request.jsonp\nm.parseQueryString = require(\"./querystring/parse\")\nm.buildQueryString = require(\"./querystring/build\")\nm.parsePathname = require(\"./pathname/parse\")\nm.buildPathname = require(\"./pathname/build\")\nm.vnode = require(\"./render/vnode\")\nm.PromisePolyfill = require(\"./promise/polyfill\")\n\nmodule.exports = m\n","\"use strict\"\n\nvar hyperscript = require(\"./render/hyperscript\")\n\nhyperscript.trust = require(\"./render/trust\")\nhyperscript.fragment = require(\"./render/fragment\")\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nmodule.exports = function() {\n\tvar vnode = hyperscriptVnode.apply(0, arguments)\n\n\tvnode.tag = \"[\"\n\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\treturn vnode\n}\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./promise/promise\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./request/request\")(window, PromisePolyfill, mountRedraw.redraw)\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function($window) {\n\tvar $doc = $window && $window.document\n\tvar currentRedraw\n\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\n\t//sanity check to discourage people from doing `vnode.state = ...`\n\tfunction checkState(vnode, original) {\n\t\tif (vnode.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode) {\n\t\tvar original = vnode.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode, original)\n\t\t}\n\t}\n\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode, ns, nextSibling) {\n\t\tvar match = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode.children\n\t\t}\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\t// Capture nodes to remove, so we don't confuse them.\n\t\tvnode.instance = []\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tvnode.instance.push(child)\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs = vnode.attrs\n\t\tvar is = attrs && attrs.is\n\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\n\t\tif (attrs != null) {\n\t\t\tsetAttrs(vnode, attrs, ns)\n\t\t}\n\n\t\tinsertNode(parent, element, nextSibling)\n\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tif (vnode.tag === \"select\" && attrs != null) setLateSelectAttrs(vnode, attrs)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tinitLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tcreateNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t}\n\t}\n\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index (for the old list), then iterate\n\t// over the new list and for each new vnode, find the corresponding vnode in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n\t// vnode reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next sibling (cached in the `nextSibling` variable).\n\n\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length)\n\t\telse {\n\t\t\tvar isOldKeyed = old[0] != null && old[0].key != null\n\t\t\tvar isKeyed = vnodes[0] != null && vnodes[0].key != null\n\t\t\tvar start = 0, oldStart = 0\n\t\t\tif (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) oldStart++\n\t\t\tif (!isKeyed) while (start < vnodes.length && vnodes[start] == null) start++\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(parent, old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(parent, o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(parent, old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o.key !== v.key) break\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (start === end) break\n\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\tmoveNodes(parent, oe, topSibling)\n\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\tif (++start <= --end) moveNodes(parent, o, nextSibling)\n\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse moveNodes(parent, v, nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode.events = old.events\n\t\t\tif (shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(parent, old)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, ns, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\tremoveHTML(parent, old)\n\t\t\tcreateHTML(parent, vnode, ns, nextSibling)\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t}\n\t}\n\tfunction updateFragment(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t\tupdateNodes(element, old.children, vnode.children, hooks, null, ns)\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(parent, old.instance)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode = vnodes[start]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key = vnode.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tvar lisTemp = []\n\tfunction makeLisIndices(a) {\n\t\tvar result = [0]\n\t\tvar u = 0, v = 0, i = 0\n\t\tvar il = lisTemp.length = a.length\n\t\tfor (var i = 0; i < il; i++) lisTemp[i] = a[i]\n\t\tfor (var i = 0; i < il; ++i) {\n\t\t\tif (a[i] === -1) continue\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tlisTemp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\t// Fast integer average without overflow.\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tvar c = (u >>> 1) + (v >>> 1) + (u & v & 1)\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) lisTemp[i] = result[u - 1]\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = lisTemp[v]\n\t\t}\n\t\tlisTemp.length = 0\n\t\treturn result\n\t}\n\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\n\t// This covers a really specific edge case:\n\t// - Parent node is keyed and contains child\n\t// - Child is removed, returns unresolved promise in `onbeforeremove`\n\t// - Parent node is moved in keyed diff\n\t// - Remaining children still need moved appropriately\n\t//\n\t// Ideally, I'd track removed nodes as well, but that introduces a lot more\n\t// complexity and I'm not exactly interested in doing that.\n\tfunction moveNodes(parent, vnode, nextSibling) {\n\t\tvar frag = $doc.createDocumentFragment()\n\t\tmoveChildToFrag(parent, frag, vnode)\n\t\tinsertNode(parent, frag, nextSibling)\n\t}\n\tfunction moveChildToFrag(parent, frag, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\t\t\tfrag.appendChild(vnode.instance[i])\n\t\t\t\t}\n\t\t\t} else if (vnode.tag !== \"[\") {\n\t\t\t\t// Don't recurse for text nodes *or* elements, just fragments\n\t\t\t\tfrag.appendChild(vnode.dom)\n\t\t\t} else if (vnode.children.length === 1) {\n\t\t\t\tvnode = vnode.children[0]\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\tif (child != null) moveChildToFrag(parent, frag, child)\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\n\tfunction maybeSetContentEditable(vnode) {\n\t\tif (vnode.attrs == null || (\n\t\t\tvnode.attrs.contenteditable == null && // attribute\n\t\t\tvnode.attrs.contentEditable == null // property\n\t\t)) return false\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t\treturn true\n\t}\n\n\t//remove\n\tfunction removeNodes(parent, vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) removeNode(parent, vnode)\n\t\t}\n\t}\n\tfunction removeNode(parent, vnode) {\n\t\tvar mask = 0\n\t\tvar original = vnode.state\n\t\tvar stateResult, attrsResult\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.state.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\tmask = 1\n\t\t\t\tstateResult = result\n\t\t\t}\n\t\t}\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.attrs.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tmask |= 2\n\t\t\t\tattrsResult = result\n\t\t\t}\n\t\t}\n\t\tcheckState(vnode, original)\n\n\t\t// If we can, try to fast-path it and avoid all the overhead of awaiting\n\t\tif (!mask) {\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t} else {\n\t\t\tif (stateResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 1) { mask &= 2; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tstateResult.then(next, next)\n\t\t\t}\n\t\t\tif (attrsResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 2) { mask &= 1; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tattrsResult.then(next, next)\n\t\t\t}\n\t\t}\n\n\t\tfunction reallyRemove() {\n\t\t\tcheckState(vnode, original)\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t}\n\t}\n\tfunction removeHTML(parent, vnode) {\n\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\tparent.removeChild(vnode.instance[i])\n\t\t}\n\t}\n\tfunction removeChild(parent, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tremoveHTML(parent, vnode)\n\t\t\t} else {\n\t\t\t\tif (vnode.tag !== \"[\") {\n\t\t\t\t\tparent.removeChild(vnode.dom)\n\t\t\t\t\tif (!Array.isArray(vnode.children)) break\n\t\t\t\t}\n\t\t\t\tif (vnode.children.length === 1) {\n\t\t\t\t\tvnode = vnode.children[0]\n\t\t\t\t\tif (vnode != null) continue\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\t\tif (child != null) removeChild(parent, child)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\tfunction onremove(vnode) {\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onremove === \"function\") callHook.call(vnode.state.onremove, vnode)\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") callHook.call(vnode.attrs.onremove, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//attrs\n\tfunction setAttrs(vnode, attrs, ns) {\n\t\tfor (var key in attrs) {\n\t\t\tsetAttr(vnode, key, null, attrs[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, value)\n\t\telse if (hasPropertyKey(vnode, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === \"\" + value && vnode.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t\tif (vnode.tag === \"input\" && key === \"type\") vnode.dom.setAttribute(key, value)\n\t\t\telse vnode.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode.tag === \"option\"\n\t\t\t\t|| vnode.tag === \"select\" && vnode.dom.selectedIndex === -1 && vnode.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode, attrs) {\n\t\tif (\"value\" in attrs) {\n\t\t\tif(attrs.value === null) {\n\t\t\t\tif (vnode.dom.selectedIndex !== -1) vnode.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode.dom.value !== normalized || vnode.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs) setAttr(vnode, \"selectedIndex\", null, attrs.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode, old, attrs, ns) {\n\t\tif (attrs != null) {\n\t\t\tfor (var key in attrs) {\n\t\t\t\tsetAttr(vnode, key, old && old[key], attrs[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs == null || attrs[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === activeElement() || vnode.tag === \"option\" && vnode.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode.tag.indexOf(\"-\") > -1 || vnode.attrs != null && vnode.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode.dom\n\t}\n\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {\n\t\t// Save this, so the current redraw is correctly tracked.\n\t\tthis._ = currentRedraw\n\t}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler === \"function\") result = handler.call(ev.currentTarget, ev)\n\t\telse if (typeof handler.handleEvent === \"function\") handler.handleEvent(ev)\n\t\tif (this._ && ev.redraw !== false) (0, this._)()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\n\t//event\n\tfunction updateEvent(vnode, key, value) {\n\t\tif (vnode.events != null) {\n\t\t\tif (vnode.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode.events[key] == null) vnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode.events[key] != null) vnode.dom.removeEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode.events = new EventDict()\n\t\t\tvnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\tvnode.events[key] = value\n\t\t}\n\t}\n\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tdo {\n\t\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.attrs.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.state.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode.dom = old.dom\n\t\tvnode.domSize = old.domSize\n\t\tvnode.instance = old.instance\n\t\t// One would think having the actual latest attributes would be ideal,\n\t\t// but it doesn't let us properly diff based on our current internal\n\t\t// representation. We have to save not only the old DOM info, but also\n\t\t// the attributes used to create it, as we diff *that*, not against the\n\t\t// DOM directly (with a few exceptions in `setAttr`). And, of course, we\n\t\t// need to save the children and text as they are conceptually not\n\t\t// unlike special \"attributes\" internally.\n\t\tvnode.attrs = old.attrs\n\t\tvnode.children = old.children\n\t\tvnode.text = old.text\n\t\treturn true\n\t}\n\n\treturn function(dom, vnodes, redraw) {\n\t\tif (!dom) throw new TypeError(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\n\t\t// First time rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tvar prevRedraw = currentRedraw\n\t\ttry {\n\t\t\tcurrentRedraw = typeof redraw === \"function\" ? redraw : undefined\n\t\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\t} finally {\n\t\t\tcurrentRedraw = prevRedraw\n\t\t}\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(render, schedule, console) {\n\tvar subscriptions = []\n\tvar rendering = false\n\tvar pending = false\n\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 0; i < subscriptions.length; i += 2) {\n\t\t\ttry { render(subscriptions[i], Vnode(subscriptions[i + 1]), redraw) }\n\t\t\tcatch (e) { console.error(e) }\n\t\t}\n\t\trendering = false\n\t}\n\n\tfunction redraw() {\n\t\tif (!pending) {\n\t\t\tpending = true\n\t\t\tschedule(function() {\n\t\t\t\tpending = false\n\t\t\t\tsync()\n\t\t\t})\n\t\t}\n\t}\n\n\tredraw.sync = sync\n\n\tfunction mount(root, component) {\n\t\tif (component != null && component.view == null && typeof component !== \"function\") {\n\t\t\tthrow new TypeError(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t}\n\n\t\tvar index = subscriptions.indexOf(root)\n\t\tif (index >= 0) {\n\t\t\tsubscriptions.splice(index, 2)\n\t\t\trender(root, [], redraw)\n\t\t}\n\n\t\tif (component != null) {\n\t\t\tsubscriptions.push(root, component)\n\t\t\trender(root, Vnode(component), redraw)\n\t\t}\n\t}\n\n\treturn {mount: mount, redraw: redraw}\n}\n","\"use strict\"\n\nvar buildPathname = require(\"../pathname/build\")\n\nmodule.exports = function($window, Promise, oncompletion) {\n\tvar callbackCount = 0\n\n\tfunction PromiseProxy(executor) {\n\t\treturn new Promise(executor)\n\t}\n\n\t// In case the global Promise is some userland library's where they rely on\n\t// `foo instanceof this.constructor`, `this.constructor.resolve(value)`, or\n\t// similar. Let's *not* break them.\n\tPromiseProxy.prototype = Promise.prototype\n\tPromiseProxy.__proto__ = Promise // eslint-disable-line no-proto\n\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(buildPathname(url, args.params), args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\n\t\t\treturn wrap(promise)\n\n\t\t\tfunction wrap(promise) {\n\t\t\t\tvar then = promise.then\n\t\t\t\t// Set the constructor, so engines know to not await or resolve\n\t\t\t\t// this as a native promise. At the time of writing, this is\n\t\t\t\t// only necessary for V8, but their behavior is the correct\n\t\t\t\t// behavior per spec. See this spec issue for more details:\n\t\t\t\t// https://github.com/tc39/ecma262/issues/1577. Also, see the\n\t\t\t\t// corresponding comment in `request/tests/test-request.js` for\n\t\t\t\t// a bit more background on the issue at hand.\n\t\t\t\tpromise.constructor = PromiseProxy\n\t\t\t\tpromise.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then.apply(promise, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar body = args.body\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(body instanceof $window.FormData)\n\t\t\tvar responseType = args.responseType || (typeof args.extract === \"function\" ? \"\" : \"json\")\n\n\t\t\tvar xhr = new $window.XMLHttpRequest(), aborted = false\n\t\t\tvar original = xhr, replacedAbort\n\t\t\tvar abort = xhr.abort\n\n\t\t\txhr.abort = function() {\n\t\t\t\taborted = true\n\t\t\t\tabort.call(this)\n\t\t\t}\n\n\t\t\txhr.open(method, url, args.async !== false, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\n\t\t\tif (assumeJSON && body != null && !hasHeader(args, /^content-type$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\txhr.responseType = responseType\n\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.onreadystatechange = function(ev) {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif (aborted) return\n\n\t\t\t\tif (ev.target.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (ev.target.status >= 200 && ev.target.status < 300) || ev.target.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\t// When the response type isn't \"\" or \"text\",\n\t\t\t\t\t\t// `xhr.responseText` is the wrong thing to use.\n\t\t\t\t\t\t// Browsers do the right thing and throw here, and we\n\t\t\t\t\t\t// should honor that and do the right thing by\n\t\t\t\t\t\t// preferring `xhr.response` where possible/practical.\n\t\t\t\t\t\tvar response = ev.target.response, message\n\n\t\t\t\t\t\tif (responseType === \"json\") {\n\t\t\t\t\t\t\t// For IE and Edge, which don't implement\n\t\t\t\t\t\t\t// `responseType: \"json\"`.\n\t\t\t\t\t\t\tif (!ev.target.responseType && typeof args.extract !== \"function\") response = JSON.parse(ev.target.responseText)\n\t\t\t\t\t\t} else if (!responseType || responseType === \"text\") {\n\t\t\t\t\t\t\t// Only use this default if it's text. If a parsed\n\t\t\t\t\t\t\t// document is needed on old IE and friends (all\n\t\t\t\t\t\t\t// unsupported), the user should use a custom\n\t\t\t\t\t\t\t// `config` instead. They're already using this at\n\t\t\t\t\t\t\t// their own risk.\n\t\t\t\t\t\t\tif (response == null) response = ev.target.responseText\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(ev.target, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttry { message = ev.target.responseText }\n\t\t\t\t\t\t\tcatch (e) { message = response }\n\t\t\t\t\t\t\tvar error = new Error(message)\n\t\t\t\t\t\t\terror.code = ev.target.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof args.config === \"function\") {\n\t\t\t\txhr = args.config(xhr, args, url) || xhr\n\n\t\t\t\t// Propagate the `abort` to any replacement XHR as well.\n\t\t\t\tif (xhr !== original) {\n\t\t\t\t\treplacedAbort = xhr.abort\n\t\t\t\t\txhr.abort = function() {\n\t\t\t\t\t\taborted = true\n\t\t\t\t\t\treplacedAbort.call(this)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (body == null) xhr.send()\n\t\t\telse if (typeof args.serialize === \"function\") xhr.send(args.serialize(body))\n\t\t\telse if (body instanceof $window.FormData) xhr.send(body)\n\t\t\telse xhr.send(JSON.stringify(body))\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t}\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t}\n}\n","\"use strict\"\n\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./api/router\")(window, mountRedraw)\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar m = require(\"../render/hyperscript\")\nvar Promise = require(\"../promise/promise\")\n\nvar buildPathname = require(\"../pathname/build\")\nvar parsePathname = require(\"../pathname/parse\")\nvar compileTemplate = require(\"../pathname/compileTemplate\")\nvar assign = require(\"../pathname/assign\")\n\nvar sentinel = {}\n\nmodule.exports = function($window, mountRedraw) {\n\tvar fireAsync\n\n\tfunction setPath(path, data, options) {\n\t\tpath = buildPathname(path, data)\n\t\tif (fireAsync != null) {\n\t\t\tfireAsync()\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, route.prefix + path)\n\t\t\telse $window.history.pushState(state, title, route.prefix + path)\n\t\t}\n\t\telse {\n\t\t\t$window.location.href = route.prefix + path\n\t\t}\n\t}\n\n\tvar currentResolver = sentinel, component, attrs, currentPath, lastUpdate\n\n\tvar SKIP = route.SKIP = {}\n\n\tfunction route(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\t// 0 = start\n\t\t// 1 = init\n\t\t// 2 = ready\n\t\tvar state = 0\n\n\t\tvar compiled = Object.keys(routes).map(function(route) {\n\t\t\tif (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a `/`\")\n\t\t\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(route)) {\n\t\t\t\tthrow new SyntaxError(\"Route parameter names must be separated with either `/`, `.`, or `-`\")\n\t\t\t}\n\t\t\treturn {\n\t\t\t\troute: route,\n\t\t\t\tcomponent: routes[route],\n\t\t\t\tcheck: compileTemplate(route),\n\t\t\t}\n\t\t})\n\t\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\t\tvar p = Promise.resolve()\n\t\tvar scheduled = false\n\t\tvar onremove\n\n\t\tfireAsync = null\n\n\t\tif (defaultRoute != null) {\n\t\t\tvar defaultData = parsePathname(defaultRoute)\n\n\t\t\tif (!compiled.some(function (i) { return i.check(defaultData) })) {\n\t\t\t\tthrow new ReferenceError(\"Default route doesn't match any known routes\")\n\t\t\t}\n\t\t}\n\n\t\tfunction resolveRoute() {\n\t\t\tscheduled = false\n\t\t\t// Consider the pathname holistically. The prefix might even be invalid,\n\t\t\t// but that's not our problem.\n\t\t\tvar prefix = $window.location.hash\n\t\t\tif (route.prefix[0] !== \"#\") {\n\t\t\t\tprefix = $window.location.search + prefix\n\t\t\t\tif (route.prefix[0] !== \"?\") {\n\t\t\t\t\tprefix = $window.location.pathname + prefix\n\t\t\t\t\tif (prefix[0] !== \"/\") prefix = \"/\" + prefix\n\t\t\t\t}\n\t\t\t}\n\t\t\t// This seemingly useless `.concat()` speeds up the tests quite a bit,\n\t\t\t// since the representation is consistently a relatively poorly\n\t\t\t// optimized cons string.\n\t\t\tvar path = prefix.concat()\n\t\t\t\t.replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\t\t\t.slice(route.prefix.length)\n\t\t\tvar data = parsePathname(path)\n\n\t\t\tassign(data.params, $window.history.state)\n\n\t\t\tfunction fail() {\n\t\t\t\tif (path === defaultRoute) throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t\t\tsetPath(defaultRoute, null, {replace: true})\n\t\t\t}\n\n\t\t\tloop(0)\n\t\t\tfunction loop(i) {\n\t\t\t\t// 0 = init\n\t\t\t\t// 1 = scheduled\n\t\t\t\t// 2 = done\n\t\t\t\tfor (; i < compiled.length; i++) {\n\t\t\t\t\tif (compiled[i].check(data)) {\n\t\t\t\t\t\tvar payload = compiled[i].component\n\t\t\t\t\t\tvar matchedRoute = compiled[i].route\n\t\t\t\t\t\tvar localComp = payload\n\t\t\t\t\t\tvar update = lastUpdate = function(comp) {\n\t\t\t\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\t\t\t\tif (comp === SKIP) return loop(i + 1)\n\t\t\t\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\t\t\t\tattrs = data.params, currentPath = path, lastUpdate = null\n\t\t\t\t\t\t\tcurrentResolver = payload.render ? payload : null\n\t\t\t\t\t\t\tif (state === 2) mountRedraw.redraw()\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstate = 2\n\t\t\t\t\t\t\t\tmountRedraw.redraw.sync()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// There's no understating how much I *wish* I could\n\t\t\t\t\t\t// use `async`/`await` here...\n\t\t\t\t\t\tif (payload.view || typeof payload === \"function\") {\n\t\t\t\t\t\t\tpayload = {}\n\t\t\t\t\t\t\tupdate(localComp)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (payload.onmatch) {\n\t\t\t\t\t\t\tp.then(function () {\n\t\t\t\t\t\t\t\treturn payload.onmatch(data.params, path, matchedRoute)\n\t\t\t\t\t\t\t}).then(update, fail)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse update(\"div\")\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfail()\n\t\t\t}\n\t\t}\n\n\t\t// Set it unconditionally so `m.route.set` and `m.route.Link` both work,\n\t\t// even if neither `pushState` nor `hashchange` are supported. It's\n\t\t// cleared if `hashchange` is used, since that makes it automatically\n\t\t// async.\n\t\tfireAsync = function() {\n\t\t\tif (!scheduled) {\n\t\t\t\tscheduled = true\n\t\t\t\tcallAsync(resolveRoute)\n\t\t\t}\n\t\t}\n\n\t\tif (typeof $window.history.pushState === \"function\") {\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"popstate\", fireAsync, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"popstate\", fireAsync, false)\n\t\t} else if (route.prefix[0] === \"#\") {\n\t\t\tfireAsync = null\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"hashchange\", resolveRoute, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"hashchange\", resolveRoute, false)\n\t\t}\n\n\t\treturn mountRedraw.mount(root, {\n\t\t\tonbeforeupdate: function() {\n\t\t\t\tstate = state ? 2 : 1\n\t\t\t\treturn !(!state || sentinel === currentResolver)\n\t\t\t},\n\t\t\toncreate: resolveRoute,\n\t\t\tonremove: onremove,\n\t\t\tview: function() {\n\t\t\t\tif (!state || sentinel === currentResolver) return\n\t\t\t\t// Wrap in a fragment to preserve existing key semantics\n\t\t\t\tvar vnode = [Vnode(component, attrs.key, attrs)]\n\t\t\t\tif (currentResolver) vnode = currentResolver.render(vnode[0])\n\t\t\t\treturn vnode\n\t\t\t},\n\t\t})\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\tsetPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = \"#!\"\n\troute.Link = {\n\t\tview: function(vnode) {\n\t\t\tvar options = vnode.attrs.options\n\t\t\t// Remove these so they don't get overwritten\n\t\t\tvar attrs = {}, onclick, href\n\t\t\tassign(attrs, vnode.attrs)\n\t\t\t// The first two are internal, but the rest are magic attributes\n\t\t\t// that need censored to not screw up rendering.\n\t\t\tattrs.selector = attrs.options = attrs.key = attrs.oninit =\n\t\t\tattrs.oncreate = attrs.onbeforeupdate = attrs.onupdate =\n\t\t\tattrs.onbeforeremove = attrs.onremove = null\n\n\t\t\t// Do this now so we can get the most current `href` and `disabled`.\n\t\t\t// Those attributes may also be specified in the selector, and we\n\t\t\t// should honor that.\n\t\t\tvar child = m(vnode.attrs.selector || \"a\", attrs, vnode.children)\n\n\t\t\t// Let's provide a *right* way to disable a route link, rather than\n\t\t\t// letting people screw up accessibility on accident.\n\t\t\t//\n\t\t\t// The attribute is coerced so users don't get surprised over\n\t\t\t// `disabled: 0` resulting in a button that's somehow routable\n\t\t\t// despite being visibly disabled.\n\t\t\tif (child.attrs.disabled = Boolean(child.attrs.disabled)) {\n\t\t\t\tchild.attrs.href = null\n\t\t\t\tchild.attrs[\"aria-disabled\"] = \"true\"\n\t\t\t\t// If you *really* do want to do this on a disabled link, use\n\t\t\t\t// an `oncreate` hook to add it.\n\t\t\t\tchild.attrs.onclick = null\n\t\t\t} else {\n\t\t\t\tonclick = child.attrs.onclick\n\t\t\t\thref = child.attrs.href\n\t\t\t\tchild.attrs.href = route.prefix + href\n\t\t\t\tchild.attrs.onclick = function(e) {\n\t\t\t\t\tvar result\n\t\t\t\t\tif (typeof onclick === \"function\") {\n\t\t\t\t\t\tresult = onclick.call(e.currentTarget, e)\n\t\t\t\t\t} else if (onclick == null || typeof onclick !== \"object\") {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t} else if (typeof onclick.handleEvent === \"function\") {\n\t\t\t\t\t\tonclick.handleEvent(e)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Adapted from React Router's implementation:\n\t\t\t\t\t// https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n\t\t\t\t\t//\n\t\t\t\t\t// Try to be flexible and intuitive in how we handle links.\n\t\t\t\t\t// Fun fact: links aren't as obvious to get right as you\n\t\t\t\t\t// would expect. There's a lot more valid ways to click a\n\t\t\t\t\t// link than this, and one might want to not simply click a\n\t\t\t\t\t// link, but right click or command-click it to copy the\n\t\t\t\t\t// link target, etc. Nope, this isn't just for blind people.\n\t\t\t\t\tif (\n\t\t\t\t\t\t// Skip if `onclick` prevented default\n\t\t\t\t\t\tresult !== false && !e.defaultPrevented &&\n\t\t\t\t\t\t// Ignore everything but left clicks\n\t\t\t\t\t\t(e.button === 0 || e.which === 0 || e.which === 1) &&\n\t\t\t\t\t\t// Let the browser handle `target=_blank`, etc.\n\t\t\t\t\t\t(!e.currentTarget.target || e.currentTarget.target === \"_self\") &&\n\t\t\t\t\t\t// No modifier keys\n\t\t\t\t\t\t!e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\troute.set(href, null, options)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn child\n\t\t},\n\t}\n\troute.param = function(key) {\n\t\treturn attrs && key != null ? attrs[key] : attrs\n\t}\n\n\treturn route\n}\n","\"use strict\"\n\nvar parsePathname = require(\"./parse\")\n\n// Compiles a template into a function that takes a resolved path (without query\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled template to be the\n// output of `parsePathname`. Note that it does *not* remove query parameters\n// specified in the template.\nmodule.exports = function(template) {\n\tvar templateData = parsePathname(template)\n\tvar templateKeys = Object.keys(templateData.params)\n\tvar keys = []\n\tvar regexp = new RegExp(\"^\" + templateData.path.replace(\n\t\t// I escape literal text so people can use things like `:file.:ext` or\n\t\t// `:lang-:locale` in routes. This is all merged into one pass so I\n\t\t// don't also accidentally escape `-` and make it harder to detect it to\n\t\t// ban it from template parameters.\n\t\t/:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g,\n\t\tfunction(m, key, extra) {\n\t\t\tif (key == null) return \"\\\\\" + m\n\t\t\tkeys.push({k: key, r: extra === \"...\"})\n\t\t\tif (extra === \"...\") return \"(.*)\"\n\t\t\tif (extra === \".\") return \"([^/]+)\\\\.\"\n\t\t\treturn \"([^/]+)\" + (extra || \"\")\n\t\t}\n\t) + \"$\")\n\treturn function(data) {\n\t\t// First, check the params. Usually, there isn't any, and it's just\n\t\t// checking a static set.\n\t\tfor (var i = 0; i < templateKeys.length; i++) {\n\t\t\tif (templateData.params[templateKeys[i]] !== data.params[templateKeys[i]]) return false\n\t\t}\n\t\t// If no interpolations exist, let's skip all the ceremony\n\t\tif (!keys.length) return regexp.test(data.path)\n\t\tvar values = regexp.exec(data.path)\n\t\tif (values == null) return false\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tdata.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1])\n\t\t}\n\t\treturn true\n\t}\n}\n","if(!global[\"m\"]) global[\"m\"] = {};\nmodule.exports = global[\"m\"][\"bidi\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\bidi.js\");","( function _package( factory ){\r\n\tif( typeof define === 'function' && define.amd ){\r\n\t\tdefine( [ 'mithril' ], factory )\r\n\t}\r\n\telse if( typeof exports === 'object' ){\r\n\t\tmodule.exports = factory( require( 'mithril' ) )\r\n\t}\r\n\telse{\r\n\t\tfactory( m )\r\n\t}\r\n}( function define( m ){\r\n\tfunction bidi( node, prop ){\r\n\t\tvar type = node.tag === 'select'\r\n\t\t\t? node.attrs.multi\r\n\t\t\t\t? 'multi'\r\n\t\t\t\t: 'select'\r\n\t\t\t: node.attrs.type\r\n\r\n\t\t// Setup: bind listeners\r\n\t\tif( type === 'multi' ){\r\n\t\t\tnode.attrs.onchange = function(){\r\n\t\t\t\tprop( [].slice.call( this.selectedOptions, function( x ){\r\n\t\t\t\t\treturn x.value\r\n\t\t\t\t} ) )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if( type === 'select' ){\r\n\t\t\tnode.attrs.onchange = function( e ){\r\n\t\t\t\tprop( this.selectedOptions[ 0 ].value )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if( type === 'checkbox' ){\r\n\t\t\tnode.attrs.onchange = function( e ){\r\n\t\t\t\tprop( this.checked )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnode.attrs.onchange = node.attrs.oninput = function( e ){\r\n\t\t\t\tprop( this.value )\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif( node.tag === 'select' ){\r\n\t\t\tnode.children.forEach( function( option ){\r\n\t\t\t\tif( option.attrs.value === prop() || option.children[ 0 ] === prop() ){\r\n\t\t\t\t\toption.attrs.selected = true\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t}\r\n\t\telse if( type === 'checkbox' ){\r\n\t\t\tnode.attrs.checked = prop()\r\n\t\t}\r\n\t\telse if( type === 'radio' ){\r\n\t\t\tnode.attrs.checked = prop() === node.attrs.value\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnode.attrs.value   = prop()\r\n\t\t}\r\n\r\n\t\treturn node\r\n\t}\r\n\r\n\tbidi.view = function( ctrl, node, prop ){\r\n\t  return bidi( node, node.attrs.bidi )\r\n\t}\r\n\r\n\tif( m.attrs ) m.attrs.bidi = bidi\r\n\t\r\n\tm.bidi = bidi\r\n\r\n\treturn bidi\r\n} ) )\r\n","module.exports = global[\"Mousetrap\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\mousetrap.js\");","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.3\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // Events originating from a shadow DOM are re-targetted and `e.target` is the shadow host,\n        // not the initial event target in the shadow tree. Note that not all events cross the\n        // shadow boundary.\n        // For shadow trees with `mode: 'open'`, the initial event target is the first element in\n        // the event’s composed path. For shadow trees with `mode: 'closed'`, the initial event\n        // target cannot be obtained.\n        if ('composedPath' in e && typeof e.composedPath === 'function') {\n            // For open shadow trees, update `element` so that the following check works.\n            var initialEventTarget = e.composedPath()[0];\n            if (initialEventTarget !== e.target) {\n                element = initialEventTarget;\n            }\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n","module.exports = global[\"classNames\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\index.js\");","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($){\n  var zepto = $.zepto, oldQsa = zepto.qsa, oldMatches = zepto.matches\n\n  function visible(elem){\n    elem = $(elem)\n    return !!(elem.width() || elem.height()) && elem.css(\"display\") !== \"none\"\n  }\n\n  // Implements a subset from:\n  // http://api.jquery.com/category/selectors/jquery-selector-extensions/\n  //\n  // Each filter function receives the current index, all nodes in the\n  // considered set, and a value if there were parentheses. The value\n  // of `this` is the node currently being considered. The function returns the\n  // resulting node(s), null, or undefined.\n  //\n  // Complex selectors are not supported:\n  //   li:has(label:contains(\"foo\")) + li:has(label:contains(\"bar\"))\n  //   ul.inner:first > li\n  var filters = $.expr[':'] = {\n    visible:  function(){ if (visible(this)) return this },\n    hidden:   function(){ if (!visible(this)) return this },\n    selected: function(){ if (this.selected) return this },\n    checked:  function(){ if (this.checked) return this },\n    parent:   function(){ return this.parentNode },\n    first:    function(idx){ if (idx === 0) return this },\n    last:     function(idx, nodes){ if (idx === nodes.length - 1) return this },\n    eq:       function(idx, _, value){ if (idx === value) return this },\n    contains: function(idx, _, text){ if ($(this).text().indexOf(text) > -1) return this },\n    has:      function(idx, _, sel){ if (zepto.qsa(this, sel).length) return this }\n  }\n\n  var filterRe = new RegExp('(.*):(\\\\w+)(?:\\\\(([^)]+)\\\\))?$\\\\s*'),\n      childRe  = /^\\s*>/,\n      classTag = 'Zepto' + (+new Date())\n\n  function process(sel, fn) {\n    // quote the hash in `a[href^=#]` expression\n    sel = sel.replace(/=#\\]/g, '=\"#\"]')\n    var filter, arg, match = filterRe.exec(sel)\n    if (match && match[2] in filters) {\n      filter = filters[match[2]], arg = match[3]\n      sel = match[1]\n      if (arg) {\n        var num = Number(arg)\n        if (isNaN(num)) arg = arg.replace(/^[\"']|[\"']$/g, '')\n        else arg = num\n      }\n    }\n    return fn(sel, filter, arg)\n  }\n\n  zepto.qsa = function(node, selector) {\n    return process(selector, function(sel, filter, arg){\n      try {\n        var taggedParent\n        if (!sel && filter) sel = '*'\n        else if (childRe.test(sel))\n          // support \"> *\" child queries by tagging the parent node with a\n          // unique class and prepending that classname onto the selector\n          taggedParent = $(node).addClass(classTag), sel = '.'+classTag+' '+sel\n\n        var nodes = oldQsa(node, sel)\n      } catch(e) {\n        console.error('error performing selector: %o', selector)\n        throw e\n      } finally {\n        if (taggedParent) taggedParent.removeClass(classTag)\n      }\n      return !filter ? nodes :\n        zepto.uniq($.map(nodes, function(n, i){ return filter.call(n, i, nodes, arg) }))\n    })\n  }\n\n  zepto.matches = function(node, selector){\n    return process(selector, function(sel, filter, arg){\n      return (!sel || oldMatches(node, sel)) &&\n        (!filter || filter.call(node, null, arg) === node)\n    })\n  }\n})(Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n// The following code is heavily inspired by jQuery's $.fn.data()\n\n;(function($){\n  var data = {}, dataAttr = $.fn.data, camelize = $.camelCase,\n    exp = $.expando = 'Zepto' + (+new Date()), emptyArray = []\n\n  // Get value from node:\n  // 1. first try key as given,\n  // 2. then try camelized key,\n  // 3. fall back to reading \"data-*\" attribute.\n  function getData(node, name) {\n    var id = node[exp], store = id && data[id]\n    if (name === undefined) return store || setData(node)\n    else {\n      if (store) {\n        if (name in store) return store[name]\n        var camelName = camelize(name)\n        if (camelName in store) return store[camelName]\n      }\n      return dataAttr.call($(node), name)\n    }\n  }\n\n  // Store value under camelized key on node\n  function setData(node, name, value) {\n    var id = node[exp] || (node[exp] = ++$.uuid),\n      store = data[id] || (data[id] = attributeData(node))\n    if (name !== undefined) store[camelize(name)] = value\n    return store\n  }\n\n  // Read all \"data-*\" attributes from a node\n  function attributeData(node) {\n    var store = {}\n    $.each(node.attributes || emptyArray, function(i, attr){\n      if (attr.name.indexOf('data-') == 0)\n        store[camelize(attr.name.replace('data-', ''))] =\n          $.zepto.deserializeValue(attr.value)\n    })\n    return store\n  }\n\n  $.fn.data = function(name, value) {\n    return value === undefined ?\n      // set multiple values via object\n      $.isPlainObject(name) ?\n        this.each(function(i, node){\n          $.each(name, function(key, value){ setData(node, key, value) })\n        }) :\n        // get value from first element\n        (0 in this ? getData(this[0], name) : undefined) :\n      // set value on all elements\n      this.each(function(){ setData(this, name, value) })\n  }\n\n  $.data = function(elem, name, value) {\n    return $(elem).data(name, value)\n  }\n\n  $.hasData = function(elem) {\n    var id = elem[exp], store = id && data[id]\n    return store ? !$.isEmptyObject(store) : false\n  }\n\n  $.fn.removeData = function(names) {\n    if (typeof names == 'string') names = names.split(/\\s+/)\n    return this.each(function(){\n      var id = this[exp], store = id && data[id]\n      if (store) $.each(names || store, function(key){\n        delete store[names ? camelize(this) : key]\n      })\n    })\n  }\n\n  // Generate extended `remove` and `empty` functions\n  ;['remove', 'empty'].forEach(function(methodName){\n    var origFn = $.fn[methodName]\n    $.fn[methodName] = function() {\n      var elements = this.find('*')\n      if (methodName === 'remove') elements = elements.add(this)\n      elements.removeData()\n      return origFn.call(this)\n    }\n  })\n})(Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($, undefined){\n  var prefix = '', eventPrefix,\n    vendors = { Webkit: 'webkit', Moz: '', O: 'o' },\n    testEl = document.createElement('div'),\n    supportedTransforms = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,\n    transform,\n    transitionProperty, transitionDuration, transitionTiming, transitionDelay,\n    animationName, animationDuration, animationTiming, animationDelay,\n    cssReset = {}\n\n  function dasherize(str) { return str.replace(/([A-Z])/g, '-$1').toLowerCase() }\n  function normalizeEvent(name) { return eventPrefix ? eventPrefix + name : name.toLowerCase() }\n\n  if (testEl.style.transform === undefined) $.each(vendors, function(vendor, event){\n    if (testEl.style[vendor + 'TransitionProperty'] !== undefined) {\n      prefix = '-' + vendor.toLowerCase() + '-'\n      eventPrefix = event\n      return false\n    }\n  })\n\n  transform = prefix + 'transform'\n  cssReset[transitionProperty = prefix + 'transition-property'] =\n  cssReset[transitionDuration = prefix + 'transition-duration'] =\n  cssReset[transitionDelay    = prefix + 'transition-delay'] =\n  cssReset[transitionTiming   = prefix + 'transition-timing-function'] =\n  cssReset[animationName      = prefix + 'animation-name'] =\n  cssReset[animationDuration  = prefix + 'animation-duration'] =\n  cssReset[animationDelay     = prefix + 'animation-delay'] =\n  cssReset[animationTiming    = prefix + 'animation-timing-function'] = ''\n\n  $.fx = {\n    off: (eventPrefix === undefined && testEl.style.transitionProperty === undefined),\n    speeds: { _default: 400, fast: 200, slow: 600 },\n    cssPrefix: prefix,\n    transitionEnd: normalizeEvent('TransitionEnd'),\n    animationEnd: normalizeEvent('AnimationEnd')\n  }\n\n  $.fn.animate = function(properties, duration, ease, callback, delay){\n    if ($.isFunction(duration))\n      callback = duration, ease = undefined, duration = undefined\n    if ($.isFunction(ease))\n      callback = ease, ease = undefined\n    if ($.isPlainObject(duration))\n      ease = duration.easing, callback = duration.complete, delay = duration.delay, duration = duration.duration\n    if (duration) duration = (typeof duration == 'number' ? duration :\n                    ($.fx.speeds[duration] || $.fx.speeds._default)) / 1000\n    if (delay) delay = parseFloat(delay) / 1000\n    return this.anim(properties, duration, ease, callback, delay)\n  }\n\n  $.fn.anim = function(properties, duration, ease, callback, delay){\n    var key, cssValues = {}, cssProperties, transforms = '',\n        that = this, wrappedCallback, endEvent = $.fx.transitionEnd,\n        fired = false\n\n    if (duration === undefined) duration = $.fx.speeds._default / 1000\n    if (delay === undefined) delay = 0\n    if ($.fx.off) duration = 0\n\n    if (typeof properties == 'string') {\n      // keyframe animation\n      cssValues[animationName] = properties\n      cssValues[animationDuration] = duration + 's'\n      cssValues[animationDelay] = delay + 's'\n      cssValues[animationTiming] = (ease || 'linear')\n      endEvent = $.fx.animationEnd\n    } else {\n      cssProperties = []\n      // CSS transitions\n      for (key in properties)\n        if (supportedTransforms.test(key)) transforms += key + '(' + properties[key] + ') '\n        else cssValues[key] = properties[key], cssProperties.push(dasherize(key))\n\n      if (transforms) cssValues[transform] = transforms, cssProperties.push(transform)\n      if (duration > 0 && typeof properties === 'object') {\n        cssValues[transitionProperty] = cssProperties.join(', ')\n        cssValues[transitionDuration] = duration + 's'\n        cssValues[transitionDelay] = delay + 's'\n        cssValues[transitionTiming] = (ease || 'linear')\n      }\n    }\n\n    wrappedCallback = function(event){\n      if (typeof event !== 'undefined') {\n        if (event.target !== event.currentTarget) return // makes sure the event didn't bubble from \"below\"\n        $(event.target).unbind(endEvent, wrappedCallback)\n      } else\n        $(this).unbind(endEvent, wrappedCallback) // triggered by setTimeout\n\n      fired = true\n      $(this).css(cssReset)\n      callback && callback.call(this)\n    }\n    if (duration > 0){\n      this.bind(endEvent, wrappedCallback)\n      // transitionEnd is not always firing on older Android phones\n      // so make sure it gets fired\n      setTimeout(function(){\n        if (fired) return\n        wrappedCallback.call(that)\n      }, ((duration + delay) * 1000) + 25)\n    }\n\n    // trigger page reflow so new elements can animate\n    this.size() && this.get(0).clientLeft\n\n    this.css(cssValues)\n\n    if (duration <= 0) setTimeout(function() {\n      that.each(function(){ wrappedCallback.call(this) })\n    }, 0)\n\n    return this\n  }\n\n  testEl = null\n})(Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($, undefined){\n  var document = window.document, docElem = document.documentElement,\n    origShow = $.fn.show, origHide = $.fn.hide, origToggle = $.fn.toggle\n\n  function anim(el, speed, opacity, scale, callback) {\n    if (typeof speed == 'function' && !callback) callback = speed, speed = undefined\n    var props = { opacity: opacity }\n    if (scale) {\n      props.scale = scale\n      el.css($.fx.cssPrefix + 'transform-origin', '0 0')\n    }\n    return el.animate(props, speed, null, callback)\n  }\n\n  function hide(el, speed, scale, callback) {\n    return anim(el, speed, 0, scale, function(){\n      origHide.call($(this))\n      callback && callback.call(this)\n    })\n  }\n\n  $.fn.show = function(speed, callback) {\n    origShow.call(this)\n    if (speed === undefined) speed = 0\n    else this.css('opacity', 0)\n    return anim(this, speed, 1, '1,1', callback)\n  }\n\n  $.fn.hide = function(speed, callback) {\n    if (speed === undefined) return origHide.call(this)\n    else return hide(this, speed, '0,0', callback)\n  }\n\n  $.fn.toggle = function(speed, callback) {\n    if (speed === undefined || typeof speed == 'boolean')\n      return origToggle.call(this, speed)\n    else return this.each(function(){\n      var el = $(this)\n      el[el.css('display') == 'none' ? 'show' : 'hide'](speed, callback)\n    })\n  }\n\n  $.fn.fadeTo = function(speed, opacity, callback) {\n    return anim(this, speed, opacity, null, callback)\n  }\n\n  $.fn.fadeIn = function(speed, callback) {\n    var target = this.css('opacity')\n    if (target > 0) this.css('opacity', 0)\n    else target = 1\n    return origShow.call(this).fadeTo(speed, target, callback)\n  }\n\n  $.fn.fadeOut = function(speed, callback) {\n    return hide(this, speed, null, callback)\n  }\n\n  $.fn.fadeToggle = function(speed, callback) {\n    return this.each(function(){\n      var el = $(this)\n      el[\n        (el.css('opacity') == 0 || el.css('display') == 'none') ? 'fadeIn' : 'fadeOut'\n      ](speed, callback)\n    })\n  }\n\n})(Zepto)\n","/*!\n * HC-Sticky\n * =========\n * Version: 2.2.3\n * Author: Some Web Media\n * Author URL: http://somewebmedia.com\n * Plugin URL: https://github.com/somewebmedia/hc-sticky\n * Description: Cross-browser plugin that makes any element on your page visible while you scroll\n * License: MIT\n */\n!function(t,e){\"use strict\";if(\"object\"==typeof module&&\"object\"==typeof module.exports){if(!t.document)throw new Error(\"HC-Sticky requires a browser to run.\");module.exports=e(t)}else\"function\"==typeof define&&define.amd?define(\"hcSticky\",[],e(t)):e(t)}(\"undefined\"!=typeof window?window:this,function(U){\"use strict\";var Y={top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,stickyClass:\"sticky\",stickTo:null,followScroll:!0,responsive:null,mobileFirst:!1,onStart:null,onStop:null,onBeforeResize:null,onResize:null,resizeDebounce:100,disable:!1,queries:null,queryFlow:\"down\"},$=function(t,e,o){console.log(\"%c! HC Sticky:%c \"+t+\"%c \"+o+\" is now deprecated and will be removed. Use%c \"+e+\"%c instead.\",\"color: red\",\"color: darkviolet\",\"color: black\",\"color: darkviolet\",\"color: black\")},Q=U.document,X=function(n,f){var o=this;if(\"string\"==typeof n&&(n=Q.querySelector(n)),!n)return!1;f.queries&&$(\"queries\",\"responsive\",\"option\"),f.queryFlow&&$(\"queryFlow\",\"mobileFirst\",\"option\");var p={},d=X.Helpers,s=n.parentNode;\"static\"===d.getStyle(s,\"position\")&&(s.style.position=\"relative\");var u=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d.isEmptyObject(t)&&!d.isEmptyObject(p)||(p=Object.assign({},Y,p,t))},t=function(){return p.disable},e=function(){var t,e=p.responsive||p.queries;if(e){var o=U.innerWidth;if(t=f,(p=Object.assign({},Y,t||{})).mobileFirst)for(var i in e)i<=o&&!d.isEmptyObject(e[i])&&u(e[i]);else{var n=[];for(var s in e){var r={};r[s]=e[s],n.push(r)}for(var l=n.length-1;0<=l;l--){var a=n[l],c=Object.keys(a)[0];o<=c&&!d.isEmptyObject(a[c])&&u(a[c])}}}},r={css:{},position:null,stick:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d.hasClass(n,p.stickyClass)||(!1===l.isAttached&&l.attach(),r.position=\"fixed\",n.style.position=\"fixed\",n.style.left=l.offsetLeft+\"px\",n.style.width=l.width,void 0===t.bottom?n.style.bottom=\"auto\":n.style.bottom=t.bottom+\"px\",void 0===t.top?n.style.top=\"auto\":n.style.top=t.top+\"px\",n.classList?n.classList.add(p.stickyClass):n.className+=\" \"+p.stickyClass,p.onStart&&p.onStart.call(n,Object.assign({},p)))},release:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t.stop=t.stop||!1,!0===t.stop||\"fixed\"===r.position||null===r.position||!(void 0===t.top&&void 0===t.bottom||void 0!==t.top&&(parseInt(d.getStyle(n,\"top\"))||0)===t.top||void 0!==t.bottom&&(parseInt(d.getStyle(n,\"bottom\"))||0)===t.bottom)){!0===t.stop?!0===l.isAttached&&l.detach():!1===l.isAttached&&l.attach();var e=t.position||r.css.position;r.position=e,n.style.position=e,n.style.left=!0===t.stop?r.css.left:l.positionLeft+\"px\",n.style.width=\"absolute\"!==e?r.css.width:l.width,void 0===t.bottom?n.style.bottom=!0===t.stop?\"\":\"auto\":n.style.bottom=t.bottom+\"px\",void 0===t.top?n.style.top=!0===t.stop?\"\":\"auto\":n.style.top=t.top+\"px\",n.classList?n.classList.remove(p.stickyClass):n.className=n.className.replace(new RegExp(\"(^|\\\\b)\"+p.stickyClass.split(\" \").join(\"|\")+\"(\\\\b|$)\",\"gi\"),\" \"),p.onStop&&p.onStop.call(n,Object.assign({},p))}}},l={el:Q.createElement(\"div\"),offsetLeft:null,positionLeft:null,width:null,isAttached:!1,init:function(){for(var t in l.el.className=\"sticky-spacer\",r.css)l.el.style[t]=r.css[t];l.el.style[\"z-index\"]=\"-1\";var e=d.getStyle(n);l.offsetLeft=d.offset(n).left-(parseInt(e.marginLeft)||0),l.positionLeft=d.position(n).left,l.width=d.getStyle(n,\"width\")},attach:function(){s.insertBefore(l.el,n),l.isAttached=!0},detach:function(){l.el=s.removeChild(l.el),l.isAttached=!1}},a=void 0,c=void 0,g=void 0,m=void 0,h=void 0,v=void 0,y=void 0,b=void 0,S=void 0,w=void 0,k=void 0,E=void 0,x=void 0,L=void 0,T=void 0,j=void 0,O=void 0,C=void 0,i=function(){var t,e,o,i;r.css=(t=n,e=d.getCascadedStyle(t),o=d.getStyle(t),i={height:t.offsetHeight+\"px\",left:e.left,right:e.right,top:e.top,bottom:e.bottom,position:o.position,display:o.display,verticalAlign:o.verticalAlign,boxSizing:o.boxSizing,marginLeft:e.marginLeft,marginRight:e.marginRight,marginTop:e.marginTop,marginBottom:e.marginBottom,paddingLeft:e.paddingLeft,paddingRight:e.paddingRight},e.float&&(i.float=e.float||\"none\"),e.cssFloat&&(i.cssFloat=e.cssFloat||\"none\"),o.MozBoxSizing&&(i.MozBoxSizing=o.MozBoxSizing),i.width=\"auto\"!==e.width?e.width:\"border-box\"===i.boxSizing||\"border-box\"===i.MozBoxSizing?t.offsetWidth+\"px\":o.width,i),l.init(),a=!(!p.stickTo||!(\"document\"===p.stickTo||p.stickTo.nodeType&&9===p.stickTo.nodeType||\"object\"==typeof p.stickTo&&p.stickTo instanceof(\"undefined\"!=typeof HTMLDocument?HTMLDocument:Document))),c=p.stickTo?a?Q:\"string\"==typeof p.stickTo?Q.querySelector(p.stickTo):p.stickTo:s,T=(C=function(){var t=n.offsetHeight+(parseInt(r.css.marginTop)||0)+(parseInt(r.css.marginBottom)||0),e=(T||0)-t;return-1<=e&&e<=1?T:t})(),m=(O=function(){return a?Math.max(Q.documentElement.clientHeight,Q.body.scrollHeight,Q.documentElement.scrollHeight,Q.body.offsetHeight,Q.documentElement.offsetHeight):c.offsetHeight})(),h=a?0:d.offset(c).top,v=p.stickTo?a?0:d.offset(s).top:h,y=U.innerHeight,j=n.offsetTop-(parseInt(r.css.marginTop)||0),g=p.innerSticker?\"string\"==typeof p.innerSticker?Q.querySelector(p.innerSticker):p.innerSticker:null,b=isNaN(p.top)&&-1<p.top.indexOf(\"%\")?parseFloat(p.top)/100*y:p.top,S=isNaN(p.bottom)&&-1<p.bottom.indexOf(\"%\")?parseFloat(p.bottom)/100*y:p.bottom,w=g?g.offsetTop:p.innerTop?p.innerTop:0,k=isNaN(p.bottomEnd)&&-1<p.bottomEnd.indexOf(\"%\")?parseFloat(p.bottomEnd)/100*y:p.bottomEnd,E=h-b+w+j},z=U.pageYOffset||Q.documentElement.scrollTop,N=0,H=void 0,R=function(){T=C(),m=O(),x=h+m-b-k,L=y<T;var t=U.pageYOffset||Q.documentElement.scrollTop,e=d.offset(n).top,o=e-t,i=void 0;H=t<z?\"up\":\"down\",N=t-z,E<(z=t)?x+b+(L?S:0)-(p.followScroll&&L?0:b)<=t+T-w-(y-(E-w)<T-w&&p.followScroll&&0<(i=T-y-w)?i:0)?r.release({position:\"absolute\",bottom:v+s.offsetHeight-x-b}):L&&p.followScroll?\"down\"===H?o+T+S<=y+.9?r.stick({bottom:S}):\"fixed\"===r.position&&r.release({position:\"absolute\",top:e-b-E-N+w}):Math.ceil(o+w)<0&&\"fixed\"===r.position?r.release({position:\"absolute\",top:e-b-E+w-N}):t+b-w<=e&&r.stick({top:b-w}):r.stick({top:b-w}):r.release({stop:!0})},A=!1,B=!1,I=function(){A&&(d.event.unbind(U,\"scroll\",R),A=!1)},q=function(){null!==n.offsetParent&&\"none\"!==d.getStyle(n,\"display\")?(i(),m<=T?I():(R(),A||(d.event.bind(U,\"scroll\",R),A=!0))):I()},F=function(){n.style.position=\"\",n.style.left=\"\",n.style.top=\"\",n.style.bottom=\"\",n.style.width=\"\",n.classList?n.classList.remove(p.stickyClass):n.className=n.className.replace(new RegExp(\"(^|\\\\b)\"+p.stickyClass.split(\" \").join(\"|\")+\"(\\\\b|$)\",\"gi\"),\" \"),r.css={},!(r.position=null)===l.isAttached&&l.detach()},M=function(){F(),e(),t()?I():q()},D=function(){p.onBeforeResize&&p.onBeforeResize.call(n,Object.assign({},p)),M(),p.onResize&&p.onResize.call(n,Object.assign({},p))},P=p.resizeDebounce?d.debounce(D,p.resizeDebounce):D,W=function(){B&&(d.event.unbind(U,\"resize\",P),B=!1),I()},V=function(){B||(d.event.bind(U,\"resize\",P),B=!0),e(),t()?I():q()};this.options=function(t){return t?p[t]:Object.assign({},p)},this.refresh=M,this.update=function(t){u(t),f=Object.assign({},f,t||{}),M()},this.attach=V,this.detach=W,this.destroy=function(){W(),F()},this.triggerMethod=function(t,e){\"function\"==typeof o[t]&&o[t](e)},this.reinit=function(){$(\"reinit\",\"refresh\",\"method\"),M()},u(f),V(),d.event.bind(U,\"load\",M)};if(void 0!==U.jQuery){var i=U.jQuery,n=\"hcSticky\";i.fn.extend({hcSticky:function(e,o){return this.length?\"options\"===e?i.data(this.get(0),n).options():this.each(function(){var t=i.data(this,n);t?t.triggerMethod(e,o):(t=new X(this,e),i.data(this,n,t))}):this}})}return U.hcSticky=U.hcSticky||X,X}),function(c){\"use strict\";var t=c.hcSticky,f=c.document;\"function\"!=typeof Object.assign&&Object.defineProperty(Object,\"assign\",{value:function(t,e){if(null==t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var o=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o},writable:!0,configurable:!0}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var e,o;if(null==this)throw new TypeError(\"this is null or not defined\");var i=Object(this),n=i.length>>>0;if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");for(1<arguments.length&&(e=arguments[1]),o=0;o<n;){var s;o in i&&(s=i[o],t.call(e,s,o,i)),o++}});var e=function(){var t=f.documentElement,e=function(){};function i(t){var e=c.event;return e.target=e.target||e.srcElement||t,e}t.addEventListener?e=function(t,e,o){t.addEventListener(e,o,!1)}:t.attachEvent&&(e=function(e,t,o){e[t+o]=o.handleEvent?function(){var t=i(e);o.handleEvent.call(o,t)}:function(){var t=i(e);o.call(e,t)},e.attachEvent(\"on\"+t,e[t+o])});var o=function(){};return t.removeEventListener?o=function(t,e,o){t.removeEventListener(e,o,!1)}:t.detachEvent&&(o=function(e,o,i){e.detachEvent(\"on\"+o,e[o+i]);try{delete e[o+i]}catch(t){e[o+i]=void 0}}),{bind:e,unbind:o}}(),r=function(t,e){return c.getComputedStyle?e?f.defaultView.getComputedStyle(t,null).getPropertyValue(e):f.defaultView.getComputedStyle(t,null):t.currentStyle?e?t.currentStyle[e.replace(/-\\w/g,function(t){return t.toUpperCase().replace(\"-\",\"\")})]:t.currentStyle:void 0},l=function(t){var e=t.getBoundingClientRect(),o=c.pageYOffset||f.documentElement.scrollTop,i=c.pageXOffset||f.documentElement.scrollLeft;return{top:e.top+o,left:e.left+i}};t.Helpers={isEmptyObject:function(t){for(var e in t)return!1;return!0},debounce:function(i,n,s){var r=void 0;return function(){var t=this,e=arguments,o=s&&!r;clearTimeout(r),r=setTimeout(function(){r=null,s||i.apply(t,e)},n),o&&i.apply(t,e)}},hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp(\"(^| )\"+e+\"( |$)\",\"gi\").test(t.className)},offset:l,position:function(t){var e=t.offsetParent,o=l(e),i=l(t),n=r(e),s=r(t);return o.top+=parseInt(n.borderTopWidth)||0,o.left+=parseInt(n.borderLeftWidth)||0,{top:i.top-o.top-(parseInt(s.marginTop)||0),left:i.left-o.left-(parseInt(s.marginLeft)||0)}},getStyle:r,getCascadedStyle:function(t){var e=t.cloneNode(!0);e.style.display=\"none\",Array.prototype.slice.call(e.querySelectorAll('input[type=\"radio\"]')).forEach(function(t){t.removeAttribute(\"name\")}),t.parentNode.insertBefore(e,t.nextSibling);var o=void 0;e.currentStyle?o=e.currentStyle:c.getComputedStyle&&(o=f.defaultView.getComputedStyle(e,null));var i={};for(var n in o)!isNaN(n)||\"string\"!=typeof o[n]&&\"number\"!=typeof o[n]||(i[n]=o[n]);if(Object.keys(i).length<3)for(var s in i={},o)isNaN(s)||(i[o[s].replace(/-\\w/g,function(t){return t.toUpperCase().replace(\"-\",\"\")})]=o.getPropertyValue(o[s]));if(i.margin||\"auto\"!==i.marginLeft?i.margin||i.marginLeft!==i.marginRight||i.marginLeft!==i.marginTop||i.marginLeft!==i.marginBottom||(i.margin=i.marginLeft):i.margin=\"auto\",!i.margin&&\"0px\"===i.marginLeft&&\"0px\"===i.marginRight){var r=t.offsetLeft-t.parentNode.offsetLeft,l=r-(parseInt(i.left)||0)-(parseInt(i.right)||0),a=t.parentNode.offsetWidth-t.offsetWidth-r-(parseInt(i.right)||0)+(parseInt(i.left)||0)-l;0!==a&&1!==a||(i.margin=\"auto\")}return e.parentNode.removeChild(e),e=null,i},event:e}}(window);","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","/* ========================================================================\n * Bootstrap: dropdown.js v3.4.1\n * https://getbootstrap.com/docs/3.4/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2019 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.4.1'\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector !== '#' ? $(document).find(selector) : null\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))\n    })\n  }\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $(document.createElement('div'))\n          .addClass('dropdown-backdrop')\n          .insertAfter($(this))\n          .on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger($.Event('shown.bs.dropdown', relatedTarget))\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('.dropdown-menu' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--         // up\n    if (e.which == 40 && index < $items.length - 1) index++         // down\n    if (!~index)                                    index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: transition.js v3.4.1\n * https://getbootstrap.com/docs/3.4/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2019 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: https://modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // https://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n","/* eslint-disable */\n;(function() {\n\"use strict\"\n/* eslint-enable */\nStream.SKIP = {}\nStream.lift = lift\nStream.scan = scan\nStream.merge = merge\nStream.combine = combine\nStream.scanMerge = scanMerge\nStream[\"fantasy-land/of\"] = Stream\n\nvar warnedHalt = false\nObject.defineProperty(Stream, \"HALT\", {\n\tget: function() {\n\t\twarnedHalt || console.log(\"HALT is deprecated and has been renamed to SKIP\");\n\t\twarnedHalt = true\n\t\treturn Stream.SKIP\n\t}\n})\n\nfunction Stream(value) {\n\tvar dependentStreams = []\n\tvar dependentFns = []\n\n\tfunction stream(v) {\n\t\tif (arguments.length && v !== Stream.SKIP) {\n\t\t\tvalue = v\n\t\t\tif (open(stream)) {\n\t\t\t\tstream._changing()\n\t\t\t\tstream._state = \"active\"\n\t\t\t\tdependentStreams.forEach(function(s, i) { s(dependentFns[i](value)) })\n\t\t\t}\n\t\t}\n\n\t\treturn value\n\t}\n\n\tstream.constructor = Stream\n\tstream._state = arguments.length && value !== Stream.SKIP ? \"active\" : \"pending\"\n\tstream._parents = []\n\n\tstream._changing = function() {\n\t\tif (open(stream)) stream._state = \"changing\"\n\t\tdependentStreams.forEach(function(s) {\n\t\t\ts._changing()\n\t\t})\n\t}\n\n\tstream._map = function(fn, ignoreInitial) {\n\t\tvar target = ignoreInitial ? Stream() : Stream(fn(value))\n\t\ttarget._parents.push(stream)\n\t\tdependentStreams.push(target)\n\t\tdependentFns.push(fn)\n\t\treturn target\n\t}\n\n\tstream.map = function(fn) {\n\t\treturn stream._map(fn, stream._state !== \"active\")\n\t}\n\n\tvar end\n\tfunction createEnd() {\n\t\tend = Stream()\n\t\tend.map(function(value) {\n\t\t\tif (value === true) {\n\t\t\t\tstream._parents.forEach(function (p) {p._unregisterChild(stream)})\n\t\t\t\tstream._state = \"ended\"\n\t\t\t\tstream._parents.length = dependentStreams.length = dependentFns.length = 0\n\t\t\t}\n\t\t\treturn value\n\t\t})\n\t\treturn end\n\t}\n\n\tstream.toJSON = function() { return value != null && typeof value.toJSON === \"function\" ? value.toJSON() : value }\n\n\tstream[\"fantasy-land/map\"] = stream.map\n\tstream[\"fantasy-land/ap\"] = function(x) { return combine(function(s1, s2) { return s1()(s2()) }, [x, stream]) }\n\n\tstream._unregisterChild = function(child) {\n\t\tvar childIndex = dependentStreams.indexOf(child)\n\t\tif (childIndex !== -1) {\n\t\t\tdependentStreams.splice(childIndex, 1)\n\t\t\tdependentFns.splice(childIndex, 1)\n\t\t}\n\t}\n\n\tObject.defineProperty(stream, \"end\", {\n\t\tget: function() { return end || createEnd() }\n\t})\n\n\treturn stream\n}\n\nfunction combine(fn, streams) {\n\tvar ready = streams.every(function(s) {\n\t\tif (s.constructor !== Stream)\n\t\t\tthrow new Error(\"Ensure that each item passed to stream.combine/stream.merge/lift is a stream\")\n\t\treturn s._state === \"active\"\n\t})\n\tvar stream = ready\n\t\t? Stream(fn.apply(null, streams.concat([streams])))\n\t\t: Stream()\n\n\tvar changed = []\n\n\tvar mappers = streams.map(function(s) {\n\t\treturn s._map(function(value) {\n\t\t\tchanged.push(s)\n\t\t\tif (ready || streams.every(function(s) { return s._state !== \"pending\" })) {\n\t\t\t\tready = true\n\t\t\t\tstream(fn.apply(null, streams.concat([changed])))\n\t\t\t\tchanged = []\n\t\t\t}\n\t\t\treturn value\n\t\t}, true)\n\t})\n\n\tvar endStream = stream.end.map(function(value) {\n\t\tif (value === true) {\n\t\t\tmappers.forEach(function(mapper) { mapper.end(true) })\n\t\t\tendStream.end(true)\n\t\t}\n\t\treturn undefined\n\t})\n\n\treturn stream\n}\n\nfunction merge(streams) {\n\treturn combine(function() { return streams.map(function(s) { return s() }) }, streams)\n}\n\nfunction scan(fn, acc, origin) {\n\tvar stream = origin.map(function(v) {\n\t\tvar next = fn(acc, v)\n\t\tif (next !== Stream.SKIP) acc = next\n\t\treturn next\n\t})\n\tstream(acc)\n\treturn stream\n}\n\nfunction scanMerge(tuples, seed) {\n\tvar streams = tuples.map(function(tuple) { return tuple[0] })\n\n\tvar stream = combine(function() {\n\t\tvar changed = arguments[arguments.length - 1]\n\t\tstreams.forEach(function(stream, i) {\n\t\t\tif (changed.indexOf(stream) > -1)\n\t\t\t\tseed = tuples[i][1](seed, stream())\n\t\t})\n\n\t\treturn seed\n\t}, streams)\n\n\tstream(seed)\n\n\treturn stream\n}\n\nfunction lift() {\n\tvar fn = arguments[0]\n\tvar streams = Array.prototype.slice.call(arguments, 1)\n\treturn merge(streams).map(function(streams) {\n\t\treturn fn.apply(undefined, streams)\n\t})\n}\n\nfunction open(s) {\n\treturn s._state === \"pending\" || s._state === \"active\" || s._state === \"changing\"\n}\n\nif (typeof module !== \"undefined\") module[\"exports\"] = Stream\nelse if (typeof window.m === \"function\" && !(\"stream\" in window.m)) window.m.stream = Stream\nelse window.m = {stream : Stream}\n\n}());\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import forEach from 'lodash/forEach';\r\nimport get from 'lodash/get';\r\nimport set from 'lodash/set';\r\n\r\nexport default class Bus {\r\n    subscribers = {};\r\n\r\n    subscribe(event, callable) {\r\n        set(this.subscribers, event + '[]', callable);\r\n    }\r\n\r\n    dispatch(event, args: any = null) {\r\n        forEach(get(this.subscribers, event), function(listener) {\r\n            listener(event, args);\r\n        });\r\n    }\r\n}","/**\r\n * The `extract` utility deletes a property from an object and returns its\r\n * value.\r\n */\r\nexport default function extract(object: object, property: string): any {\r\n    const value = object[property];\r\n\r\n    delete object[property];\r\n\r\n    return value;\r\n}\r\n","/**\r\n * Extract the text nodes from a virtual element.\r\n *\r\n * @param {VirtualElement} vdom\r\n * @return {String}\r\n */\r\nexport default function extractText(vdom: any): string {\r\n  if (vdom instanceof Array) {\r\n    return vdom.map(element => extractText(element)).join('');\r\n  } else if (typeof vdom === 'object' && vdom !== null) {\r\n    return vdom.text || extractText(vdom.children);\r\n  } else {\r\n    return vdom;\r\n  }\r\n}\r\n","/**\r\n * The `username` helper displays a user's username in a <span class=\"username\">\r\n * tag. If the user doesn't exist, the username will be displayed as [deleted].\r\n *\r\n * @param {User} user\r\n */\r\nexport default function username(user): any {\r\n  const name = (user && user.displayName()) || app.translator.trans('core.lib.username.deleted_text');\r\n\r\n  return <span className=\"username\">{name}</span>;\r\n}\r\n","import extract from './utils/extract';\r\nimport extractText from './utils/extractText';\r\nimport username from './helpers/username';\r\n\r\ntype Translations = { [key: string]: string };\r\n\r\nexport default class Translator {\r\n    translations: Translations = {};\r\n    locale = null;\r\n\r\n    constructor() {\r\n        /**\r\n         * A map of translation keys to their translated values.\r\n         *\r\n         * @type {Object}\r\n         * @public\r\n         */\r\n        this.translations = {};\r\n\r\n        this.locale = null;\r\n    }\r\n\r\n    addTranslations(translations) {\r\n        Object.assign(this.translations, translations);\r\n    }\r\n\r\n    trans(id: string, parameters = null) {\r\n        const translation = this.translations[id];\r\n\r\n        if (translation) {\r\n            return this.apply(translation, parameters || {});\r\n        }\r\n\r\n        return id;\r\n    }\r\n\r\n    transText(id: string, parameters = null) {\r\n      return extractText(this.trans(id, parameters));\r\n    }\r\n\r\n    apply(translation: string, input: any) {\r\n        if ('user' in input) {\r\n            const user = extract(input, 'user');\r\n            if (!input.username) input.username = username(user);\r\n        }\r\n\r\n        const parts = translation.split(new RegExp('({[a-z0-9_]+}|</?[a-z0-9_]+>)', 'gi'));\r\n\r\n        const hydrated: any[] = [];\r\n        const open: any[][] = [hydrated];\r\n\r\n        parts.forEach(part => {\r\n            const match = part.match(new RegExp('{([a-z0-9_]+)}|<(/?)([a-z0-9_]+)>', 'i'));\r\n\r\n            if (match) {\r\n                if (match[1]) {\r\n                    open[0].push(input[match[1]]);\r\n                } else if (match[3]) {\r\n                    if (match[2]) {\r\n                        open.shift();\r\n                    } else {\r\n                        let tag = input[match[3]] || { tag: match[3], children: [] };\r\n                        open[0].push(tag);\r\n                        open.unshift(tag.children || tag);\r\n                    }\r\n                }\r\n            } else {\r\n                open[0].push({ tag: 'span', text: part });\r\n            }\r\n        });\r\n\r\n        return hydrated.filter(part => part);\r\n    }\r\n}\r\n","import User from './models/User';\n\n/**\n * The `Session` class defines the current user session. It stores a reference\n * to the current authenticated user, and provides methods to log in/out.\n */\nexport default class Session {\n  /**\n   * The current authenticated user.\n   */\n  user?: User;\n\n  /**\n   * The CSRF token.\n   */\n  csrfToken?: string;\n\n  constructor(user, csrfToken) {\n    this.user = user;\n\n    this.csrfToken = csrfToken;\n  }\n\n  /**\n   * Attempt to log in a user.\n   */\n  login(body: { identification: string, password: string, remember?: string }, options = {}) {\n    return app.request(Object.assign({\n      method: 'POST',\n      url: `${app.forum.attribute('baseUrl')}/login`,\n      body\n    }, options));\n  }\n\n  /**\n   * Log the user out.\n   *\n   * @public\n   */\n  logout() {\n    window.location.href = `${app.forum.attribute('baseUrl')}/logout?token=${this.csrfToken}`;\n  }\n}\n","import Model from './Model';\n\n/**\n * The `Store` class defines a local data store, and provides methods to\n * retrieve data from the API.\n */\nexport default class Store {\n  /**\n   * The local data store. A tree of resource types to IDs, such that\n   * accessing data[type][id] will return the model for that type/ID.\n   */\n  data: { [key: string]: { [key: number]: Model }} = {};\n\n  /**\n   * The model registry. A map of resource types to the model class that\n   * should be used to represent resources of that type.\n   */\n  models: {};\n\n  constructor(models) {\n    this.models = models;\n  }\n\n  /**\n   * Push resources contained within an API payload into the store.\n   *\n   * @param payload\n   * @return The model(s) representing the resource(s) contained\n   *     within the 'data' key of the payload.\n   */\n  pushPayload(payload: { included?: {}[], data?: {}|{}[] }): Model|Model[] {\n    if (payload.included) payload.included.map(this.pushObject.bind(this));\n\n    const result: any = payload.data instanceof Array\n      ? payload.data.map(this.pushObject.bind(this))\n      : this.pushObject(payload.data);\n\n    // Attach the original payload to the model that we give back. This is\n    // useful to consumers as it allows them to access meta information\n    // associated with their request.\n    result.payload = payload;\n\n    return result;\n  }\n\n  /**\n   * Create a model to represent a resource object (or update an existing one),\n   * and push it into the store.\n   *\n   * @param {Object} data The resource object\n   * @return The model, or null if no model class has been\n   *     registered for this resource type.\n   */\n  pushObject(data): Model {\n    if (!this.models[data.type]) return null;\n\n    const type = this.data[data.type] = this.data[data.type] || {};\n\n    if (type[data.id]) {\n      type[data.id].pushData(data);\n    } else {\n      type[data.id] = this.createRecord(data.type, data);\n    }\n\n    type[data.id].exists = true;\n\n    return type[data.id];\n  }\n\n  /**\n   * Make a request to the API to find record(s) of a specific type.\n   *\n   * @param type The resource type.\n   * @param [id] The ID(s) of the model(s) to retrieve.\n   *     Alternatively, if an object is passed, it will be handled as the\n   *     `query` parameter.\n   * @param query\n   * @param options\n   */\n  find<T extends Model = Model>(type: string, id?: number|number[]|any, query = {}, options = {}): Promise<T[]> {\n    let body = query;\n    let url = `${app.forum.attribute('apiUrl')}/${type}`;\n\n    if (id instanceof Array) {\n      url += `?filter[id]=${id.join(',')}`;\n    } else if (typeof id === 'object') {\n        body = id;\n    } else if (id) {\n      url += `/${id}`;\n    }\n\n    return app.request(Object.assign({\n      method: 'GET',\n      url,\n      body\n    }, options)).then(this.pushPayload.bind(this));\n  }\n\n  /**\n   * Get a record from the store by ID.\n   *\n   * @param type The resource type.\n   * @param id The resource ID.\n   */\n  getById<T extends Model = Model>(type: string, id: number): T {\n    return this.data[type] && this.data[type][id] as T;\n  }\n\n  /**\n   * Get a record from the store by the value of a model attribute.\n   *\n   * @param type The resource type.\n   * @param key The name of the method on the model.\n   * @param value The value of the model attribute.\n   */\n  getBy<T extends Model = Model>(type: string, key: string, value: any): T {\n    return this.all<T>(type).filter(model => model[key]() === value)[0];\n  }\n\n  /**\n   * Get all loaded records of a specific type.\n   */\n  all<T extends Model = Model>(type: string): T[] {\n    const records = this.data[type];\n\n    return records ? Object.keys(records).map(id => records[id]) : [];\n  }\n\n  /**\n   * Remove the given model from the store.\n   */\n  remove(model: Model) {\n    delete this.data[model.data.type][model.id()];\n  }\n\n  /**\n   * Create a new record of the given type.\n   *\n   * @param {String} type The resource type\n   * @param {Object} [data] Any data to initialize the model with\n   */\n  createRecord<T extends Model = Model>(type: string, data: any = {}): T {\n    data.type = data.type || type;\n\n    return new (this.models[type])(data, this);\n  }\n}\n","/**\r\n * The `Drawer` class controls the page's drawer. The drawer is the area the\r\n * slides out from the left on mobile devices; it contains the header and the\r\n * footer.\r\n */\r\nexport default class Drawer {\r\n  private $backdrop?: ZeptoCollection;\r\n\r\n  constructor() {\r\n    // Set up an event handler so that whenever the content area is tapped,\r\n    // the drawer will close.\r\n    $('#content').click(e => {\r\n      if (this.isOpen()) {\r\n        e.preventDefault();\r\n        this.hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Check whether or not the drawer is currently open.\r\n   */\r\n  isOpen(): boolean {\r\n    return $('#app').hasClass('drawerOpen');\r\n  }\r\n\r\n  /**\r\n   * Hide the drawer.\r\n   */\r\n  hide() {\r\n    $('#app').removeClass('drawerOpen');\r\n\r\n    if (this.$backdrop) this.$backdrop.remove();\r\n  }\r\n\r\n  /**\r\n   * Show the drawer.\r\n   *\r\n   * @public\r\n   */\r\n  show() {\r\n    $('#app').addClass('drawerOpen');\r\n\r\n    this.$backdrop = $('<div/>')\r\n      .addClass('drawer-backdrop fade')\r\n      .appendTo('body')\r\n      .click(() => this.hide());\r\n\r\n    setTimeout(() => this.$backdrop.addClass('in'));\r\n  }\r\n}\r\n","/**\r\n * Extend an object's method by running its output through a mutating callback\r\n * every time it is called.\r\n *\r\n * The callback accepts the method's return value and should perform any\r\n * mutations directly on this value. For this reason, this function will not be\r\n * effective on methods which return scalar values (numbers, strings, booleans).\r\n *\r\n * Care should be taken to extend the correct object – in most cases, a class'\r\n * prototype will be the desired target of extension, not the class itself.\r\n *\r\n * @example\r\n * extend(Discussion.prototype, 'badges', function(badges) {\r\n *   // do something with `badges`\r\n * });\r\n *\r\n * @param {Object} object The object that owns the method\r\n * @param {String} method The name of the method to extend\r\n * @param {function} callback A callback which mutates the method's output\r\n */\r\nexport function extend(object, method, callback) {\r\n    const original = object[method];\r\n\r\n    object[method] = (...args) => {\r\n        // @ts-ignore\r\n        const value = original ? original.apply(object, args) : undefined;\r\n\r\n        // @ts-ignore\r\n        callback.apply(object, [value].concat(args));\r\n\r\n        return value;\r\n    };\r\n\r\n    Object.assign(object[method], original);\r\n}\r\n\r\n/**\r\n * Override an object's method by replacing it with a new function, so that the\r\n * new function will be run every time the object's method is called.\r\n *\r\n * The replacement function accepts the original method as its first argument,\r\n * which is like a call to 'super'. Any arguments passed to the original method\r\n * are also passed to the replacement.\r\n *\r\n * Care should be taken to extend the correct object – in most cases, a class'\r\n * prototype will be the desired target of extension, not the class itself.\r\n *\r\n * @example\r\n * override(Discussion.prototype, 'badges', function(original) {\r\n *   const badges = original();\r\n *   // do something with badges\r\n *   return badges;\r\n * });\r\n *\r\n * @param {Object} object The object that owns the method\r\n * @param {String} method The name of the method to override\r\n * @param {function} newMethod The method to replace it with\r\n */\r\nexport function override(object, method, newMethod) {\r\n    const original = object[method];\r\n\r\n    object[method] = function(...args) {\r\n        // @ts-ignore\r\n        return newMethod.apply(this, [original.bind(this)].concat(args));\r\n    };\r\n\r\n    Object.assign(object[method], original);\r\n}\r\n","/**\n * The `Model` class represents a local data resource. It provides methods to\n * persist changes via the API.\n *\n * @abstract\n */\nimport Store from \"./Store\";\n\nexport default class Model {\n  /**\n   * The resource object from the API.\n   */\n  data: any;\n\n  /**\n   * The time at which the model's data was last updated. Watching the value\n   * of this property is a fast way to retain/cache a subtree if data hasn't\n   * changed.\n   */\n  freshness: Date;\n\n  /**\n   * Whether or not the resource exists on the server.\n   */\n  exists: boolean;\n\n  /**\n   * The data store that this resource should be persisted to.\n   */\n  protected store: Store;\n\n  /**\n   * @param {Object} data A resource object from the API.\n   * @param {Store} store The data store that this model should be persisted to.\n   */\n  constructor(data = {}, store = null) {\n    this.data = data;\n    this.store = store;\n\n    this.freshness = new Date();\n    this.exists = false;\n  }\n\n  /**\n   * Get the model's ID.\n   * @final\n   */\n  id(): string|number {\n    return this.data.id;\n  }\n\n  /**\n   * Get one of the model's attributes.\n   * @final\n   */\n  attribute(attribute: string): any {\n    return this.data.attributes[attribute];\n  }\n\n  /**\n   * Merge new data into this model locally.\n   *\n   * @param data A resource object to merge into this model\n   * @public\n   */\n  pushData(data: {}) {\n    // Since most of the top-level items in a resource object are objects\n    // (e.g. relationships, attributes), we'll need to check and perform the\n    // merge at the second level if that's the case.\n    for (const key in data) {\n      if (typeof data[key] === 'object') {\n        this.data[key] = this.data[key] || {};\n\n        // For every item in a second-level object, we want to check if we've\n        // been handed a Model instance. If so, we will convert it to a\n        // relationship data object.\n        for (const innerKey in data[key]) {\n          if (data[key][innerKey] instanceof Model) {\n            data[key][innerKey] = {data: Model.getIdentifier(data[key][innerKey])};\n          }\n          this.data[key][innerKey] = data[key][innerKey];\n        }\n      } else {\n        this.data[key] = data[key];\n      }\n    }\n\n    // Now that we've updated the data, we can say that the model is fresh.\n    // This is an easy way to invalidate retained subtrees etc.\n    this.freshness = new Date();\n  }\n\n  /**\n   * Merge new attributes into this model locally.\n   *\n   * @param {Object} attributes The attributes to merge.\n   */\n  pushAttributes(attributes: any) {\n    this.pushData({attributes});\n  }\n\n  /**\n   * Merge new attributes into this model, both locally and with persistence.\n   *\n   * @param attributes The attributes to save. If a 'relationships' key\n   *     exists, it will be extracted and relationships will also be saved.\n   * @param [options]\n   * @return {Promise}\n   */\n  save(attributes: any, options: any = {}): Promise<Model|Model[]> {\n    const data = {\n      type: this.data.type,\n      id: this.data.id,\n      attributes,\n      relationships: undefined\n    };\n\n    // If a 'relationships' key exists, extract it from the attributes hash and\n    // set it on the top-level data object instead. We will be sending this data\n    // object to the API for persistence.\n    if (attributes.relationships) {\n      data.relationships = {};\n\n      for (const key in attributes.relationships) {\n        const model = attributes.relationships[key];\n\n        data.relationships[key] = {\n          data: model instanceof Array\n            ? model.map(Model.getIdentifier)\n            : Model.getIdentifier(model)\n        };\n      }\n\n      delete attributes.relationships;\n    }\n\n    // Before we update the model's data, we should make a copy of the model's\n    // old data so that we can revert back to it if something goes awry during\n    // persistence.\n    const oldData = this.copyData();\n\n    this.pushData(data);\n\n    const request = {data};\n    if (options.meta) request.meta = options.meta;\n\n    return app.request(Object.assign({\n      method: this.exists ? 'PATCH' : 'POST',\n      url: app.forum.attribute('apiUrl') + this.apiEndpoint(),\n      body: request\n    }, options)).then(\n      // If everything went well, we'll make sure the store knows that this\n      // model exists now (if it didn't already), and we'll push the data that\n      // the API returned into the store.\n      payload => {\n        this.store.data[payload.data.type] = this.store.data[payload.data.type] || {};\n        this.store.data[payload.data.type][payload.data.id] = this;\n        return this.store.pushPayload(payload);\n      },\n\n      // If something went wrong, though... good thing we backed up our model's\n      // old data! We'll revert to that and let others handle the error.\n      response => {\n        this.pushData(oldData);\n        m.redraw();\n        throw response;\n      }\n    );\n  }\n\n  /**\n   * Send a request to delete the resource.\n   *\n   * @param {Object} body Data to send along with the DELETE request.\n   * @param {Object} [options]\n   * @return {Promise}\n   * @public\n   */\n  delete(body = {}, options = {}) {\n    if (!this.exists) return Promise.resolve();\n\n    return app.request(Object.assign({\n      method: 'DELETE',\n      url: app.forum.attribute('apiUrl') + this.apiEndpoint(),\n      body\n    }, options)).then(() => {\n      this.exists = false;\n      this.store.remove(this);\n    });\n  }\n\n  /**\n   * Construct a path to the API endpoint for this resource.\n   *\n   * @return {String}\n   * @protected\n   */\n  apiEndpoint() {\n    return '/' + this.data.type + (this.exists ? '/' + this.data.id : '');\n  }\n\n  copyData() {\n    return JSON.parse(JSON.stringify(this.data));\n  }\n\n  /**\n   * Generate a function which returns the value of the given attribute.\n   *\n   * @param {String} name\n   * @param [transform] A function to transform the attribute value\n   */\n  static attribute(name: string, transform?: Function): () => any {\n    return function() {\n      const value = this.data.attributes && this.data.attributes[name];\n\n      return transform ? transform(value) : value;\n    };\n  }\n\n  /**\n   * Generate a function which returns the value of the given has-one\n   * relationship.\n   *\n   * @return false if no information about the\n   *     relationship exists; undefined if the relationship exists but the model\n   *     has not been loaded; or the model if it has been loaded.\n   */\n  static hasOne(name: string): () => Model|boolean {\n    return function() {\n      if (this.data.relationships) {\n        const relationship = this.data.relationships[name];\n\n        if (relationship) {\n          return app.store.getById(relationship.data.type, relationship.data.id);\n        }\n      }\n\n      return false;\n    };\n  }\n\n  /**\n   * Generate a function which returns the value of the given has-many\n   * relationship.\n   *\n   * @return false if no information about the relationship\n   *     exists; an array if it does, containing models if they have been\n   *     loaded, and undefined for those that have not.\n   */\n  static hasMany(name: string): () => []|boolean {\n    return function() {\n      if (this.data.relationships) {\n        const relationship = this.data.relationships[name];\n\n        if (relationship) {\n          return relationship.data.map(data => app.store.getById(data.type, data.id));\n        }\n      }\n\n      return false;\n    };\n  }\n\n  /**\n   * Transform the given value into a Date object.\n   */\n  static transformDate(value: string): Date {\n    return value ? new Date(value) : null;\n  }\n\n  /**\n   * Get a resource identifier object for the given model.\n   */\n  protected static getIdentifier(model: Model): { type: string, id: string } {\n    return {\n      type: model.data.type,\n      id: model.data.id\n    };\n  }\n}\n","import Model from '../Model';\r\n\r\nexport default class Forum extends Model {\r\n  apiEndpoint() {\r\n    return '/';\r\n  }\r\n}\r\n","/**\n * The `computed` utility creates a function that will cache its output until\n * any of the dependent values are dirty.\n *\n * @param {...String} dependentKeys The keys of the dependent values.\n * @param {function} compute The function which computes the value using the\n *     dependent values.\n */\nexport default function computed(dependentKeys: string|string[], compute: Function): () => any {\n  const keys = Array.from(dependentKeys);\n\n  const dependentValues = {};\n  let computedValue;\n\n  return function() {\n    let recompute = false;\n\n    // Read all of the dependent values. If any of them have changed since last\n    // time, then we'll want to recompute our output.\n    keys.forEach(key => {\n      const value = typeof this[key] === 'function' ? this[key]() : this[key];\n\n      if (dependentValues[key] !== value) {\n        recompute = true;\n        dependentValues[key] = value;\n      }\n    });\n\n    if (recompute) {\n      computedValue = compute.apply(this, keys.map(key => dependentValues[key]));\n    }\n\n    return computedValue;\n  };\n}\n","class Item<T> {\r\n    content: T;\r\n    priority: number;\r\n    key: number = 0;\r\n\r\n    constructor(content: any, priority: number) {\r\n        this.content = content;\r\n        this.priority = priority;\r\n    }\r\n}\r\n\r\nexport default class ItemList<T = any> {\r\n    private items: { [key: string]: Item<T> } = {};\r\n\r\n    /**\r\n     * Check whether the list is empty.\r\n     *\r\n     * @returns {boolean}\r\n     * @public\r\n     */\r\n    isEmpty(): boolean {\r\n        for (const i in this.items) {\r\n            if (this.items.hasOwnProperty(i)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Check whether an item is present in the list.\r\n     */\r\n    has(key: any): boolean {\r\n        return !!this.items[key];\r\n    }\r\n\r\n    /**\r\n     * Get the content of an item.\r\n     */\r\n    get(key: any): T {\r\n        return this.items[key].content;\r\n    }\r\n\r\n    /**\r\n     * Add an item to the list.\r\n     *\r\n     * @param {String} key A unique key for the item.\r\n     * @param {*} content The item's content.\r\n     * @param {Integer} [priority] The priority of the item. Items with a higher\r\n     *     priority will be positioned before items with a lower priority.\r\n     * @return {ItemList}\r\n     * @public\r\n     */\r\n    add(key: any, content: T, priority = 0) {\r\n        this.items[key] = new Item(content, priority);\r\n\r\n        return this;\r\n    }\r\n\r\n    toArray(): T[] {\r\n        const items: Item<T>[] = [];\r\n\r\n        for (const i in this.items) {\r\n            if (this.items.hasOwnProperty(i)) {\r\n                if (this.items[i] !== null && this.items[i] instanceof Item) {\r\n                    this.items[i].content = Object(this.items[i].content);\r\n\r\n                    this.items[i].content.itemName = i;\r\n                    items.push(this.items[i]);\r\n                    this.items[i].key = items.length;\r\n                }\r\n            }\r\n        }\r\n\r\n        return items\r\n            .sort((a, b) => {\r\n                if (a.priority === b.priority) {\r\n                    return a.key - b.key;\r\n                } else if (a.priority > b.priority) {\r\n                    return -1;\r\n                }\r\n                return 1;\r\n            })\r\n            .map(item => item.content);\r\n    }\r\n}\r\n","import Mithril from 'mithril';\r\n\r\nexport type ComponentProps = {\r\n  children?: Mithril.Children,\r\n\r\n  className?: string;\r\n\r\n  [key: string]: any;\r\n}\r\n\r\nexport default class Component<T extends ComponentProps = any> {\r\n    element: HTMLElement;\r\n\r\n    props = <T> {};\r\n\r\n    view(vnode) {\r\n        throw new Error('Component#view must be implemented by subclass');\r\n    }\r\n\r\n    oninit(vnode) {\r\n        this.setProps(vnode.attrs);\r\n    }\r\n\r\n    oncreate(vnode) {\r\n        this.setProps(vnode.attrs);\r\n        this.element = vnode.dom;\r\n    }\r\n\r\n    onbeforeupdate(vnode) {\r\n        this.setProps(vnode.attrs);\r\n    }\r\n\r\n    onupdate(vnode) {\r\n        this.setProps(vnode.attrs);\r\n    }\r\n\r\n    onbeforeremove(vnode) {\r\n        this.setProps(vnode.attrs);\r\n    }\r\n\r\n    onremove(vnode) {\r\n        this.setProps(vnode.attrs);\r\n    }\r\n\r\n    /**\r\n     * Returns a jQuery object for this component's element. If you pass in a\r\n     * selector string, this method will return a jQuery object, using the current\r\n     * element as its buffer.\r\n     *\r\n     * For example, calling `component.$('li')` will return a jQuery object\r\n     * containing all of the `li` elements inside the DOM element of this\r\n     * component.\r\n     *\r\n     * @param {String} [selector] a jQuery-compatible selector string\r\n     * @returns {jQuery} the jQuery object for the DOM node\r\n     * @final\r\n     */\r\n    $(selector?: string) {\r\n        const $element = $(this.element);\r\n\r\n        return selector ? $element.find(selector) : $element;\r\n    }\r\n\r\n    static component(props: ComponentProps|any = {}, children?: Mithril.Children) {\r\n        const componentProps: ComponentProps = Object.assign({}, props);\r\n\r\n        if (children) componentProps.children = children;\r\n\r\n        return m(this, componentProps);\r\n    }\r\n\r\n    static initProps(props: ComponentProps = {}) {}\r\n\r\n    private setProps(props: T) {\r\n        (this.constructor as typeof Component).initProps(props);\r\n\r\n        this.props = props;\r\n    }\r\n}\r\n","/**\r\n * The `icon` helper displays an icon.\r\n *\r\n * @param {String} fontClass The full icon class, prefix and the icon’s name.\r\n * @param {Object} attrs Any other attributes to apply.\r\n */\r\nexport default function icon(fontClass: string, attrs: any = {}) {\r\n  attrs.className = 'icon ' + fontClass + ' ' + (attrs.className || '');\r\n\r\n  return <i {...attrs}/>;\r\n}\r\n","import Component from '../Component';\r\nimport icon from '../helpers/icon';\r\nimport extract from '../utils/extract';\r\n\r\n/**\r\n * The `Badge` component represents a user/discussion badge, indicating some\r\n * status (e.g. a discussion is stickied, a user is an admin).\r\n *\r\n * A badge may have the following special props:\r\n *\r\n * - `type` The type of badge this is. This will be used to give the badge a\r\n *   class name of `Badge--{type}`.\r\n * - `icon` The name of an icon to show inside the badge.\r\n * - `label`\r\n *\r\n * All other props will be assigned as attributes on the badge element.\r\n */\r\nexport default class Badge extends Component {\r\n  view(vnode) {\r\n    const attrs = vnode.attrs;\r\n    const type = extract(attrs, 'type');\r\n    const iconName = extract(attrs, 'icon');\r\n\r\n    attrs.className = `Badge ${type ? `Badge--${type}` : ''} ${attrs.className || ''}`;\r\n    attrs.title = extract(attrs, 'label') || '';\r\n\r\n    return (\r\n      <span {...attrs}>\r\n        {iconName ? icon(iconName, {className: 'Badge-icon'}) : m.trust('&nbsp;')}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  oncreate(vnode) {\r\n    super.oncreate(vnode);\r\n\r\n    if (this.props.label) this.$().tooltip({container: 'body'});\r\n  }\r\n}\r\n","import Model from '../Model';\r\nimport computed from '../utils/computed';\r\nimport ItemList from '../utils/ItemList';\r\nimport Badge from '../components/Badge';\r\n\r\nimport User from './User';\r\nimport Post from './Post';\r\n\r\nexport default class Discussion extends Model {\r\n  title = Model.attribute('title') as () => string;\r\n  slug = Model.attribute('slug') as () => string;\r\n\r\n  createdAt = Model.attribute('createdAt', Model.transformDate) as () => Date;\r\n  user = Model.hasOne('user') as () => User;\r\n  firstPost = Model.hasOne('firstPost') as () => Post;\r\n\r\n  lastPostedAt = Model.attribute('lastPostedAt', Model.transformDate) as () => Date;\r\n  lastPostedUser = Model.hasOne('lastPostedUser') as () => User;\r\n  lastPost = Model.hasOne('lastPost') as () => Post;\r\n  lastPostNumber = Model.attribute('lastPostNumber') as () => number;\r\n\r\n  commentCount = Model.attribute('commentCount') as () => number;\r\n  replyCount = computed('commentCount', commentCount => Math.max(0, commentCount - 1)) as () => string;\r\n  posts = Model.hasMany('posts') as () => Post[];\r\n  mostRelevantPost = Model.hasOne('mostRelevantPost') as () => Post;\r\n\r\n  lastReadAt = Model.attribute('lastReadAt', Model.transformDate) as () => Date;\r\n  lastReadPostNumber = Model.attribute('lastReadPostNumber') as () => number;\r\n  isUnread = computed('unreadCount', unreadCount => !!unreadCount) as () => boolean;\r\n  isRead = computed('unreadCount', unreadCount => app.session.user && !unreadCount) as () => boolean;\r\n\r\n  hiddenAt = Model.attribute('hiddenAt', Model.transformDate) as () => Date;\r\n  hiddenUser = Model.hasOne('hiddenUser') as () => User;\r\n  isHidden = computed('hiddenAt', hiddenAt => !!hiddenAt) as () => boolean;\r\n\r\n  canReply = Model.attribute('canReply') as () => boolean;\r\n  canRename = Model.attribute('canRename') as () => boolean;\r\n  canHide = Model.attribute('canHide') as () => boolean;\r\n  canDelete = Model.attribute('canDelete') as () => boolean;\r\n\r\n  /**\r\n   * Remove a post from the discussion's posts relationship.\r\n   *\r\n   * @param id The ID of the post to remove.\r\n   */\r\n  removePost(id: number) {\r\n    const relationships = this.data.relationships;\r\n    const posts = relationships && relationships.posts;\r\n\r\n    if (posts) {\r\n      posts.data.some((data, i) => {\r\n        if (id === data.id) {\r\n          posts.data.splice(i, 1);\r\n          return true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the estimated number of unread posts in this discussion for the current\r\n   * user.\r\n   */\r\n  unreadCount(): number {\r\n    const user = app.session.user;\r\n\r\n    if (user && user.markedAllAsReadAt() < this.lastPostedAt()) {\r\n      return Math.max(0, this.lastPostNumber() - (this.lastReadPostNumber() || 0));\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * Get the Badge components that apply to this discussion.\r\n   */\r\n  badges(): ItemList {\r\n    const items = new ItemList();\r\n\r\n    if (this.isHidden()) {\r\n      items.add('hidden', <Badge type=\"hidden\" icon=\"fas fa-trash\" label={app.translator.trans('core.lib.badge.hidden_tooltip')}/>);\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  /**\r\n   * Get a list of all of the post IDs in this discussion.\r\n   */\r\n  postIds(): number[] {\r\n    const posts = this.data.relationships.posts;\r\n\r\n    return posts ? posts.data.map(link => link.id) : [];\r\n  }\r\n}\r\n","export function hsvToRgb(h: number, s: number, v: number) {\r\n  let r;\r\n  let g;\r\n  let b;\r\n\r\n  const i = Math.floor(h * 6);\r\n  const f = h * 6 - i;\r\n  const p = v * (1 - s);\r\n  const q = v * (1 - f * s);\r\n  const t = v * (1 - (1 - f) * s);\r\n\r\n  switch (i % 6) {\r\n    case 0: r = v; g = t; b = p; break;\r\n    case 1: r = q; g = v; b = p; break;\r\n    case 2: r = p; g = v; b = t; break;\r\n    case 3: r = p; g = q; b = v; break;\r\n    case 4: r = t; g = p; b = v; break;\r\n    case 5: r = v; g = p; b = q; break;\r\n  }\r\n\r\n  return {\r\n    r: Math.floor(r * 255),\r\n    g: Math.floor(g * 255),\r\n    b: Math.floor(b * 255)\r\n  };\r\n}\r\n\r\n/**\r\n * Convert the given string to a unique color.\r\n */\r\nexport default function stringToColor(string: string): string {\r\n  let num = 0;\r\n\r\n  // Convert the username into a number based on the ASCII value of each\r\n  // character.\r\n  for (let i = 0; i < string.length; i++) {\r\n    num += string.charCodeAt(i);\r\n  }\r\n\r\n  // Construct a color using the remainder of that number divided by 360, and\r\n  // some predefined saturation and value values.\r\n  const hue = num % 360;\r\n  const rgb = hsvToRgb(hue / 360, 0.3, 0.9);\r\n\r\n  return '' + rgb.r.toString(16) + rgb.g.toString(16) + rgb.b.toString(16);\r\n}\r\n","import Badge from './Badge';\r\n\r\nexport default class GroupBadge extends Badge {\r\n  static initProps(props) {\r\n    super.initProps(props);\r\n\r\n    if (props.group) {\r\n      props.icon = props.group.icon();\r\n      props.style = {backgroundColor: props.group.color()};\r\n      props.label = typeof props.label === 'undefined' ? props.group.nameSingular() : props.label;\r\n      props.type = `group--${props.group.id()}`;\r\n\r\n      delete props.group;\r\n    }\r\n  }\r\n}\r\n","import Model from '../Model';\nimport stringToColor from '../utils/stringToColor';\nimport ItemList from '../utils/ItemList';\nimport computed from '../utils/computed';\nimport GroupBadge from '../components/GroupBadge';\nimport Group from \"./Group\";\n\nexport default class User extends Model {\n  username = Model.attribute('username') as () => string;\n\n  displayName = Model.attribute('displayName') as () => string;\n  email = Model.attribute('email') as () => string;\n  isEmailConfirmed = Model.attribute('isEmailConfirmed') as () => boolean;\n  password = Model.attribute('password') as () => string;\n\n  avatarUrl = Model.attribute('avatarUrl') as () => string;\n  preferences = Model.attribute('preferences') as () => string;\n  groups = Model.hasMany('groups') as () => Group[];\n\n  joinTime = Model.attribute('joinTime', Model.transformDate) as () => Date;\n  lastSeenAt = Model.attribute('lastSeenAt', Model.transformDate) as () => Date;\n  markedAllAsReadAt = Model.attribute('markedAllAsReadAt', Model.transformDate) as () => Date;\n  unreadNotificationCount = Model.attribute('unreadNotificationCount') as () => number;\n  newNotificationCount = Model.attribute('newNotificationCount') as () => number;\n\n  discussionCount = Model.attribute('discussionCount') as () => number;\n  commentCount = Model.attribute('commentCount') as () => number;\n\n  canEdit = Model.attribute('canEdit') as () => boolean;\n  canDelete = Model.attribute('canDelete') as () => boolean;\n\n  avatarColor = null;\n  color = computed(['username', 'avatarUrl', 'avatarColor'], function(username, avatarUrl, avatarColor) {\n    // If we've already calculated and cached the dominant color of the user's\n    // avatar, then we can return that in RGB format. If we haven't, we'll want\n    // to calculate it. Unless the user doesn't have an avatar, in which case\n    // we generate a color from their username.\n    if (avatarColor) {\n      return 'rgb(' + avatarColor.join(', ') + ')';\n    } else if (avatarUrl) {\n      this.calculateAvatarColor();\n      return '';\n    }\n\n    return '#' + stringToColor(username);\n  }) as () => string;\n\n  isOnline(): boolean {\n    return this.lastSeenAt() > dayjs().subtract(5, 'minutes').toDate();\n  }\n\n  /**\n   * Get the Badge components that apply to this user.\n   */\n  badges(): ItemList {\n    const items = new ItemList();\n    const groups = this.groups();\n\n    if (groups) {\n      groups.forEach(group => {\n        items.add('group' + group.id(), GroupBadge.component({group}));\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   * Calculate the dominant color of the user's avatar. The dominant color will\n   * be set to the `avatarColor` property once it has been calculated.\n   *\n   * @protected\n   */\n  calculateAvatarColor() {\n    const image = new Image();\n    const user = this;\n\n    image.onload = function() {\n      const colorThief = new ColorThief();\n      user.avatarColor = colorThief.getColor(this);\n      user.freshness = new Date();\n      m.redraw();\n    };\n    image.src = this.avatarUrl();\n  }\n\n  /**\n   * Update the user's preferences.\n   */\n  savePreferences(newPreferences: object): Promise<User> {\n    const preferences = this.preferences();\n\n    Object.assign(preferences, newPreferences);\n\n    return <Promise<User>> this.save({preferences});\n  }\n}\n","/**\r\n * Truncate a string to the given length, appending ellipses if necessary.\r\n */\r\nexport function truncate(string: string, length: number, start = 0): string {\r\n  return (start > 0 ? '...' : '') +\r\n    string.substring(start, start + length) +\r\n    (string.length > start + length ? '...' : '');\r\n}\r\n\r\n/**\r\n * Create a slug out of the given string. Non-alphanumeric characters are\r\n * converted to hyphens.\r\n */\r\nexport function slug(string: string): string {\r\n  return string.toLowerCase()\r\n    .replace(/[^a-z0-9]/gi, '-')\r\n    .replace(/-+/g, '-')\r\n    .replace(/-$|^-/g, '');\r\n}\r\n\r\n/**\r\n * Strip HTML tags and quotes out of the given string, replacing them with\r\n * meaningful punctuation.\r\n */\r\nexport function getPlainContent(string: string): string {\r\n  const html = string\r\n    .replace(/(<\\/p>|<br>)/g, '$1 &nbsp;')\r\n    .replace(/<img\\b[^>]*>/ig, ' ');\r\n\r\n  const dom = $('<div/>').html(html);\r\n\r\n  dom.find(getPlainContent.removeSelectors.join(',')).remove();\r\n\r\n  return dom.text().replace(/\\s+/g, ' ').trim();\r\n}\r\n\r\n/**\r\n * An array of DOM selectors to remove when getting plain content.\r\n *\r\n * @type {String[]}\r\n */\r\ngetPlainContent.removeSelectors = ['blockquote', 'script'];\r\n\r\n/**\r\n * Make a string's first character uppercase.\r\n */\r\nexport function ucfirst(string: string): string {\r\n  return string.substr(0, 1).toUpperCase() + string.substr(1);\r\n}\r\n","import Model from '../Model';\r\nimport computed from '../utils/computed';\r\nimport { getPlainContent } from '../utils/string';\r\n\r\nimport Discussion from './Discussion';\r\nimport User from \"./User\";\r\n\r\nexport default class Post extends Model {\r\n  number = Model.attribute('number') as () => number;\r\n  discussion = Model.hasOne('discussion') as () => Discussion;\r\n\r\n  createdAt= Model.attribute('createdAt', Model.transformDate) as () => Date;\r\n  user = Model.hasOne('user') as () => User;\r\n  contentType = Model.attribute('contentType') as () => string;\r\n  content = Model.attribute('content') as () => string;\r\n  contentHtml = Model.attribute('contentHtml') as () => string;\r\n  contentPlain = computed('contentHtml', getPlainContent) as () => string;\r\n\r\n  editedAt = Model.attribute('editedAt', Model.transformDate) as () => Date;\r\n  editedUser = Model.hasOne('editedUser') as () => User;\r\n  isEdited = computed('editedAt', editedAt => !!editedAt) as () => boolean;\r\n\r\n  hiddenAt = Model.attribute('hiddenAt', Model.transformDate) as () => Date;\r\n  hiddenUser = Model.hasOne('hiddenUser') as () => User;\r\n  isHidden = computed('hiddenAt', hiddenAt => !!hiddenAt) as () => boolean;\r\n\r\n  canEdit = Model.attribute('canEdit') as () => boolean;\r\n  canHide = Model.attribute('canHide') as () => boolean;\r\n  canDelete = Model.attribute('canDelete') as () => boolean;\r\n}\r\n","import Model from '../Model';\r\n\r\nexport default class Group extends Model {\r\n  static ADMINISTRATOR_ID = '1';\r\n  static GUEST_ID = '2';\r\n  static MEMBER_ID = '3';\r\n\r\n  nameSingular = Model.attribute('nameSingular') as () => string;\r\n  namePlural = Model.attribute('namePlural') as () => string;\r\n  color = Model.attribute('color') as () => string;\r\n  icon = Model.attribute('icon') as () => string;\r\n}\r\n","import Model from '../Model';\r\nimport User from './User';\r\n\r\nexport default class Notification extends Model {\r\n  static ADMINISTRATOR_ID = '1';\r\n  static GUEST_ID = '2';\r\n  static MEMBER_ID = '3';\r\n\r\n  contentType = Model.attribute('contentType') as () => string;\r\n  content = Model.attribute('content') as () => string;\r\n  createdAt = Model.attribute('createdAt', Model.transformDate) as () => Date;\r\n\r\n  isRead = Model.attribute('isRead') as () => boolean;\r\n\r\n  user = Model.hasOne('user') as () => User;\r\n  fromUser = Model.hasOne('fromUser') as () => User;\r\n  subject = Model.hasOne('subhect') as () => any;\r\n}\r\n","import Mithril from \"mithril\";\r\n\r\nexport interface RequestErrorResponse extends JSON {\r\n    errors?: {\r\n        code: string;\r\n        source?: {\r\n            pointer: string;\r\n        };\r\n    }[];\r\n}\r\n\r\nexport default class RequestError {\r\n    status: number;\r\n    responseText: string;\r\n    options: Mithril.RequestOptions;\r\n    xhr: XMLHttpRequest;\r\n    response?: RequestErrorResponse;\r\n    alert?: Mithril.Vnode;\r\n\r\n    constructor(status, responseText, options, xhr) {\r\n      this.status = status;\r\n      this.responseText = responseText;\r\n      this.options = options;\r\n      this.xhr = xhr;\r\n\r\n      try {\r\n        this.response = JSON.parse(responseText);\r\n      } catch (e) {\r\n        this.response = null;\r\n      }\r\n\r\n      this.alert = null;\r\n    }\r\n}\r\n","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign({}, defaults, opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","import Component from '../Component';\r\nimport {Spinner, SpinnerOptions} from 'spin.js';\r\n\r\n/**\r\n * The `LoadingIndicator` component displays a loading spinner with spin.js. It\r\n * may have the following special props:\r\n *\r\n * - `size` The spin.js size preset to use. Defaults to 'small'.\r\n *\r\n * All other props will be assigned as attributes on the element.\r\n */\r\nexport default class LoadingIndicator extends Component {\r\n  view(vnode) {\r\n    const attrs = vnode.attrs;\r\n\r\n    attrs.className = 'LoadingIndicator ' + (attrs.className || '');\r\n    delete attrs.size;\r\n\r\n    return <div {...attrs}>{m.trust('&nbsp;')}</div>;\r\n  }\r\n\r\n  oncreate(vnode) {\r\n    super.oncreate(vnode);\r\n\r\n    const options: SpinnerOptions = { zIndex: 'auto', color: this.$().css('color') };\r\n    let sizeOptions: SpinnerOptions = {};\r\n\r\n    switch (vnode.attrs.size) {\r\n      case 'large':\r\n        sizeOptions = { lines: 10, length: 8, width: 4, radius: 8 };\r\n        break;\r\n\r\n      case 'tiny':\r\n        sizeOptions = { lines: 8, length: 2, width: 2, radius: 3 };\r\n        break;\r\n\r\n      default:\r\n        sizeOptions = { lines: 8, length: 4, width: 3, radius: 5 };\r\n    }\r\n\r\n    new Spinner({ ...options, ...sizeOptions }).spin(this.element);\r\n  }\r\n}\r\n","import Component, {ComponentProps} from '../Component';\r\nimport icon from '../helpers/icon';\r\nimport extract from '../utils/extract';\r\nimport extractText from '../utils/extractText';\r\nimport LoadingIndicator from './LoadingIndicator';\r\n\r\nexport interface ButtonProps extends ComponentProps {\r\n  title?: string,\r\n  type?: string,\r\n  icon?: string,\r\n\r\n  loading?: boolean,\r\n  disabled?: boolean,\r\n  onclick?: Function\r\n}\r\n\r\n/**\r\n * The `Button` component defines an element which, when clicked, performs an\r\n * action. The button may have the following special props:\r\n *\r\n * - `icon` The name of the icon class. If specified, the button will be given a\r\n *   'has-icon' class name.\r\n * - `disabled` Whether or not the button is disabled. If truthy, the button\r\n *   will be given a 'disabled' class name, and any `onclick` handler will be\r\n *   removed.\r\n * - `loading` Whether or not the button should be in a disabled loading state.\r\n *\r\n * All other props will be assigned as attributes on the button element.\r\n *\r\n * Note that a Button has no default class names. This is because a Button can\r\n * be used to represent any generic clickable control, like a menu item.\r\n */\r\nexport default class Button<T extends ButtonProps = ButtonProps> extends Component<T> {\r\n  view(vnode) {\r\n    const attrs: ButtonProps = vnode.attrs;\r\n    const children = attrs.children;\r\n\r\n    delete attrs.children;\r\n\r\n    attrs.className = attrs.className || '';\r\n    attrs.type = attrs.type || 'button';\r\n\r\n    // If nothing else is provided, we use the textual button content as tooltip\r\n    if (!attrs.title && this.props.children) {\r\n      attrs.title = extractText(this.props.children);\r\n    }\r\n\r\n    const iconName = extract(attrs, 'icon');\r\n    if (iconName) attrs.className += ' hasIcon';\r\n\r\n    const loading = extract(attrs, 'loading');\r\n    if (attrs.disabled || loading) {\r\n      attrs.className += ' disabled' + (loading ? ' loading' : '');\r\n      delete attrs.onclick;\r\n    }\r\n\r\n    return <button {...attrs}>{this.getButtonContent(iconName, attrs.loading, children)}</button>;\r\n  }\r\n\r\n  /**\r\n   * Get the template for the button's content.\r\n   */\r\n  protected getButtonContent(iconName?: string|boolean, loading?: boolean, children?: any) : any[] {\r\n    return [\r\n      iconName && iconName !== true ? icon(iconName, {className: 'Button-icon'}) : '',\r\n      children ? <span className=\"Button-label\">{children}</span> : '',\r\n      loading ? LoadingIndicator.component({size: 'tiny', className: 'LoadingIndicator--inline'}) : ''\r\n    ];\r\n  }\r\n}\r\n","import Component from '../Component';\r\n\r\n/**\r\n * The `Separator` component defines a menu separator item.\r\n */\r\nexport default class Separator extends Component {\r\n  static isListItem = true;\r\n\r\n  view() {\r\n    return <li className=\"Dropdown-separator\"/>;\r\n  }\r\n}\r\n","import Separator from '../components/Separator';\r\n\r\nexport function isSeparator(item) {\r\n  return item && item.component === Separator;\r\n}\r\n\r\nexport function withoutUnnecessarySeparators(items) {\r\n  const newItems = [];\r\n  let prevItem;\r\n\r\n  items.forEach((item, i) => {\r\n    if (!isSeparator(item) || (prevItem && !isSeparator(prevItem) && i !== items.length - 1)) {\r\n      prevItem = item;\r\n      newItems.push(item);\r\n    }\r\n  });\r\n\r\n  return newItems;\r\n}\r\n\r\n/**\r\n * The `listItems` helper wraps a collection of components in <li> tags,\r\n * stripping out any unnecessary `Separator` components.\r\n *\r\n * @param {*} items\r\n * @return {Array}\r\n */\r\nexport default function listItems(items) {\r\n  if (!(items instanceof Array)) items = [items];\r\n\r\n  return withoutUnnecessarySeparators(items).map(item => {\r\n    const isListItem = item.component && item.component.isListItem;\r\n    const active = item.component && item.component.isActive && item.component.isActive(item.props);\r\n    const className = item.props ? item.props.itemClassName : item.itemClassName;\r\n\r\n    if (isListItem) {\r\n      item.attrs = item.attrs || {};\r\n      item.attrs.key = item.attrs.key || item.itemName;\r\n    }\r\n\r\n    return isListItem\r\n      ? item\r\n      : <li className={classNames([\r\n        (item.itemName ? 'item-' + item.itemName : ''),\r\n        className,\r\n        (active ? 'active' : '')\r\n      ])}\r\n            key={item.itemName}>\r\n        {item}\r\n      </li>;\r\n  });\r\n}\r\n","const MicroModal = (() => {\n\n  const FOCUSABLE_ELEMENTS = ['a[href]', 'area[href]', 'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])', 'select:not([disabled]):not([aria-hidden])', 'textarea:not([disabled]):not([aria-hidden])', 'button:not([disabled]):not([aria-hidden])', 'iframe', 'object', 'embed', '[contenteditable]', '[tabindex]:not([tabindex^=\"-\"])'];\n\n  class Modal {\n    constructor({\n      targetModal,\n      triggers = [],\n      onShow = () => {},\n      onClose = () => {},\n      openTrigger = 'data-micromodal-trigger',\n      closeTrigger = 'data-micromodal-close',\n      disableScroll = false,\n      disableFocus = false,\n      awaitCloseAnimation = false,\n      awaitOpenAnimation = false,\n      debugMode = false\n    }) {\n      // Save a reference of the modal\n      this.modal = document.getElementById(targetModal); // Save a reference to the passed config\n\n      this.config = {\n        debugMode,\n        disableScroll,\n        openTrigger,\n        closeTrigger,\n        onShow,\n        onClose,\n        awaitCloseAnimation,\n        awaitOpenAnimation,\n        disableFocus // Register click events only if pre binding eventListeners\n\n      };\n      if (triggers.length > 0) this.registerTriggers(...triggers); // pre bind functions for event listeners\n\n      this.onClick = this.onClick.bind(this);\n      this.onKeydown = this.onKeydown.bind(this);\n    }\n    /**\n     * Loops through all openTriggers and binds click event\n     * @param  {array} triggers [Array of node elements]\n     * @return {void}\n     */\n\n\n    registerTriggers(...triggers) {\n      triggers.filter(Boolean).forEach(trigger => {\n        trigger.addEventListener('click', event => this.showModal(event));\n      });\n    }\n\n    showModal() {\n      this.activeElement = document.activeElement;\n      this.modal.setAttribute('aria-hidden', 'false');\n      this.modal.classList.add('is-open');\n      this.scrollBehaviour('disable');\n      this.addEventListeners();\n\n      if (this.config.awaitOpenAnimation) {\n        const handler = () => {\n          this.modal.removeEventListener('animationend', handler, false);\n          this.setFocusToFirstNode();\n        };\n\n        this.modal.addEventListener('animationend', handler, false);\n      } else {\n        this.setFocusToFirstNode();\n      }\n\n      this.config.onShow(this.modal, this.activeElement);\n    }\n\n    closeModal() {\n      const modal = this.modal;\n      this.modal.setAttribute('aria-hidden', 'true');\n      this.removeEventListeners();\n      this.scrollBehaviour('enable');\n\n      if (this.activeElement) {\n        this.activeElement.focus();\n      }\n\n      this.config.onClose(this.modal);\n\n      if (this.config.awaitCloseAnimation) {\n        this.modal.addEventListener('animationend', function handler() {\n          modal.classList.remove('is-open');\n          modal.removeEventListener('animationend', handler, false);\n        }, false);\n      } else {\n        modal.classList.remove('is-open');\n      }\n    }\n\n    closeModalById(targetModal) {\n      this.modal = document.getElementById(targetModal);\n      if (this.modal) this.closeModal();\n    }\n\n    scrollBehaviour(toggle) {\n      if (!this.config.disableScroll) return;\n      const body = document.querySelector('body');\n\n      switch (toggle) {\n        case 'enable':\n          Object.assign(body.style, {\n            overflow: '',\n            height: ''\n          });\n          break;\n\n        case 'disable':\n          Object.assign(body.style, {\n            overflow: 'hidden',\n            height: '100vh'\n          });\n          break;\n\n        default:\n      }\n    }\n\n    addEventListeners() {\n      this.modal.addEventListener('touchstart', this.onClick);\n      this.modal.addEventListener('click', this.onClick);\n      document.addEventListener('keydown', this.onKeydown);\n    }\n\n    removeEventListeners() {\n      this.modal.removeEventListener('touchstart', this.onClick);\n      this.modal.removeEventListener('click', this.onClick);\n      document.removeEventListener('keydown', this.onKeydown);\n    }\n\n    onClick(event) {\n      if (event.target.hasAttribute(this.config.closeTrigger)) {\n        this.closeModal();\n        event.preventDefault();\n      }\n    }\n\n    onKeydown(event) {\n      if (event.keyCode === 27) this.closeModal(event);\n      if (event.keyCode === 9) this.maintainFocus(event);\n    }\n\n    getFocusableNodes() {\n      const nodes = this.modal.querySelectorAll(FOCUSABLE_ELEMENTS);\n      return Array(...nodes);\n    }\n\n    setFocusToFirstNode() {\n      if (this.config.disableFocus) return;\n      const focusableNodes = this.getFocusableNodes();\n      if (focusableNodes.length) focusableNodes[0].focus();\n    }\n\n    maintainFocus(event) {\n      const focusableNodes = this.getFocusableNodes(); // if disableFocus is true\n\n      if (!this.modal.contains(document.activeElement)) {\n        focusableNodes[0].focus();\n      } else {\n        const focusedItemIndex = focusableNodes.indexOf(document.activeElement);\n\n        if (event.shiftKey && focusedItemIndex === 0) {\n          focusableNodes[focusableNodes.length - 1].focus();\n          event.preventDefault();\n        }\n\n        if (!event.shiftKey && focusedItemIndex === focusableNodes.length - 1) {\n          focusableNodes[0].focus();\n          event.preventDefault();\n        }\n      }\n    }\n\n  }\n  /**\n   * Modal prototype ends.\n   * Here on code is responsible for detecting and\n   * auto binding event handlers on modal triggers\n   */\n  // Keep a reference to the opened modal\n\n\n  let activeModal = null;\n  /**\n   * Generates an associative array of modals and it's\n   * respective triggers\n   * @param  {array} triggers     An array of all triggers\n   * @param  {string} triggerAttr The data-attribute which triggers the module\n   * @return {array}\n   */\n\n  const generateTriggerMap = (triggers, triggerAttr) => {\n    const triggerMap = [];\n    triggers.forEach(trigger => {\n      const targetModal = trigger.attributes[triggerAttr].value;\n      if (triggerMap[targetModal] === undefined) triggerMap[targetModal] = [];\n      triggerMap[targetModal].push(trigger);\n    });\n    return triggerMap;\n  };\n  /**\n   * Validates whether a modal of the given id exists\n   * in the DOM\n   * @param  {number} id  The id of the modal\n   * @return {boolean}\n   */\n\n\n  const validateModalPresence = id => {\n    if (!document.getElementById(id)) {\n      console.warn(`MicroModal: \\u2757Seems like you have missed %c'${id}'`, 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', 'ID somewhere in your code. Refer example below to resolve it.');\n      console.warn(`%cExample:`, 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', `<div class=\"modal\" id=\"${id}\"></div>`);\n      return false;\n    }\n  };\n  /**\n   * Validates if there are modal triggers present\n   * in the DOM\n   * @param  {array} triggers An array of data-triggers\n   * @return {boolean}\n   */\n\n\n  const validateTriggerPresence = triggers => {\n    if (triggers.length <= 0) {\n      console.warn(`MicroModal: \\u2757Please specify at least one %c'micromodal-trigger'`, 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', 'data attribute.');\n      console.warn(`%cExample:`, 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', `<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>`);\n      return false;\n    }\n  };\n  /**\n   * Checks if triggers and their corresponding modals\n   * are present in the DOM\n   * @param  {array} triggers   Array of DOM nodes which have data-triggers\n   * @param  {array} triggerMap Associative array of modals and their triggers\n   * @return {boolean}\n   */\n\n\n  const validateArgs = (triggers, triggerMap) => {\n    validateTriggerPresence(triggers);\n    if (!triggerMap) return true;\n\n    for (var id in triggerMap) validateModalPresence(id);\n\n    return true;\n  };\n  /**\n   * Binds click handlers to all modal triggers\n   * @param  {object} config [description]\n   * @return void\n   */\n\n\n  const init = config => {\n    // Create an config object with default openTrigger\n    const options = Object.assign({}, {\n      openTrigger: 'data-micromodal-trigger'\n    }, config); // Collects all the nodes with the trigger\n\n    const triggers = [...document.querySelectorAll(`[${options.openTrigger}]`)]; // Makes a mappings of modals with their trigger nodes\n\n    const triggerMap = generateTriggerMap(triggers, options.openTrigger); // Checks if modals and triggers exist in dom\n\n    if (options.debugMode === true && validateArgs(triggers, triggerMap) === false) return; // For every target modal creates a new instance\n\n    for (var key in triggerMap) {\n      let value = triggerMap[key];\n      options.targetModal = key;\n      options.triggers = [...value];\n      activeModal = new Modal(options); // eslint-disable-line no-new\n    }\n  };\n  /**\n   * Shows a particular modal\n   * @param  {string} targetModal [The id of the modal to display]\n   * @param  {object} config [The configuration object to pass]\n   * @return {void}\n   */\n\n\n  const show = (targetModal, config) => {\n    const options = config || {};\n    options.targetModal = targetModal; // Checks if modals and triggers exist in dom\n\n    if (options.debugMode === true && validateModalPresence(targetModal) === false) return; // stores reference to active modal\n\n    activeModal = new Modal(options); // eslint-disable-line no-new\n\n    activeModal.showModal();\n  };\n  /**\n   * Closes the active modal\n   * @param  {string} targetModal [The id of the modal to close]\n   * @return {void}\n   */\n\n\n  const close = targetModal => {\n    targetModal ? activeModal.closeModalById(targetModal) : activeModal.closeModal();\n  };\n\n  return {\n    init,\n    show,\n    close\n  };\n})();\n\nexport default MicroModal;\n","import Component, {ComponentProps} from '../Component';\r\nimport Button from './Button';\r\nimport listItems from '../helpers/listItems';\r\nimport extract from '../utils/extract';\r\nimport * as Mithril from \"mithril\";\r\n\r\nexport interface AlertProps extends ComponentProps {\r\n  controls?: Mithril.ChildArray,\r\n  type?: string,\r\n  dismissible?: boolean,\r\n\r\n  ondismiss?: () => any,\r\n}\r\n\r\n/**\r\n * The `Alert` component represents an alert box, which contains a message,\r\n * some controls, and may be dismissible.\r\n *\r\n * The alert may have the following special props:\r\n *\r\n * - `type` The type of alert this is. Will be used to give the alert a class\r\n *   name of `Alert--{type}`.\r\n * - `controls` An array of controls to show in the alert.\r\n * - `dismissible` Whether or not the alert can be dismissed.\r\n * - `ondismiss` A callback to run when the alert is dismissed.\r\n *\r\n * All other props will be assigned as attributes on the alert element.\r\n */\r\nexport default class Alert extends Component<AlertProps> {\r\n  view() {\r\n    const attrs: AlertProps = Object.assign({}, this.props);\r\n\r\n    const type: string = extract(attrs, 'type');\r\n    attrs.className = `Alert Alert--${type} ${attrs.className || ''}`;\r\n\r\n    const children: Mithril.Children = extract(attrs, 'children');\r\n    const controls: Mithril.ChildArray = extract(attrs, 'controls') || [];\r\n\r\n    // If the alert is meant to be dismissible (which is the case by default),\r\n    // then we will create a dismiss button to append as the final control in\r\n    // the alert.\r\n    const dismissible: boolean|undefined = extract(attrs, 'dismissible');\r\n    const ondismiss: () => any = extract(attrs, 'ondismiss');\r\n    const dismissControl = [];\r\n\r\n    if (dismissible || dismissible === undefined) {\r\n      dismissControl.push(\r\n        <Button\r\n          icon=\"fas fa-times\"\r\n          className=\"Button Button--link Button--icon Alert-dismiss\"\r\n          onclick={ondismiss}/>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div {...attrs}>\r\n        <span className=\"Alert-body\">\r\n          {children}\r\n        </span>\r\n        <ul className=\"Alert-controls\">\r\n          {listItems(controls.concat(dismissControl))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Mithril from 'mithril';\n\nimport Component, {ComponentProps} from '../Component';\nimport Button from './Button';\nimport RequestError from \"../utils/RequestError\";\n\n/**\n * The `Modal` component displays a modal dialog, wrapped in a form. Subclasses\n * should implement the `className`, `title`, and `content` methods.\n */\nexport default abstract class Modal<T extends ComponentProps = ComponentProps> extends Component<T> {\n    /**\n     * An alert component to show below the header.\n     */\n    alert: Mithril.Vnode;\n\n    loading: boolean;\n\n    view() {\n        if (this.alert) {\n            this.alert.attrs.dismissible = false;\n        }\n\n        return (\n            <div className={`Modal modal-dialog ${this.className()}`}>\n                <div className=\"Modal-content\">\n                    {this.isDismissible() ? (\n                        <div className=\"Modal-close App-backControl\">\n                            {Button.component({\n                                icon: 'fas fa-times',\n                                onclick: this.hide.bind(this),\n                                className: 'Button Button--icon Button--link'\n                            })}\n                        </div>\n                    ) : ''}\n\n                    <form onsubmit={this.onsubmit.bind(this)}>\n                        <div className=\"Modal-header\">\n                            <h3 className=\"App-titleControl App-titleControl--text\">{this.title()}</h3>\n                        </div>\n\n                        {this.alert && <div className=\"Modal-alert\">{this.alert}</div>}\n\n                        {this.content()}\n                    </form>\n                </div>\n            </div>\n        );\n    }\n\n    /**\n     * Determine whether or not the modal should be dismissible via an 'x' button.\n     */\n    isDismissible(): boolean {\n        return true;\n    }\n\n    /**\n     * Get the class name to apply to the modal.\n     */\n    abstract className(): string;\n\n    /**\n     * Get the title of the modal dialog.\n     */\n    abstract title(): string;\n\n    /**\n     * Get the content of the modal.\n     */\n    abstract content();\n\n    /**\n     * Handle the modal form's submit event.\n     */\n    onsubmit(e: Event) {}\n\n    /**\n     * Focus on the first input when the modal is ready to be used.\n     */\n    onready() {\n        this.$('form').find('input, select, textarea').first().focus().select();\n    }\n\n    onhide() {}\n\n    /**\n     * Hide the modal.\n     */\n    hide() {\n        app.modal.close();\n    }\n\n    /**\n     * Stop loading.\n     */\n    loaded() {\n        this.loading = false;\n        m.redraw();\n    }\n\n    /**\n     * Show an alert describing an error returned from the API, and give focus to\n     * the first relevant field.\n     */\n    onerror(error: RequestError) {\n        this.alert = error.alert;\n\n        m.redraw();\n\n        if (error.status === 422 && error.response.errors) {\n            this.$(`form [name=\"${error.response.errors[0].source.pointer.replace('/data/attributes/', '')}\"]`).select();\n        } else {\n            this.onready();\n        }\n    }\n}\n","import MicroModal from 'micromodal';\n\nimport Component from \"../Component\";\nimport Modal from './Modal';\n\n/**\n * The `ModalManager` component manages a modal dialog. Only one modal dialog\n * can be shown at once; loading a new component into the ModalManager will\n * overwrite the previous one.\n */\nexport default class ModalManager extends Component {\n    showing: boolean;\n    component: Modal;\n    hideTimeout: number;\n\n    oncreate(vnode) {\n        super.oncreate(vnode);\n\n        app.modal = this;\n    }\n\n    view() {\n        return (\n            <div className=\"ModalManager modal\" id=\"Modal\" onclick={this.onclick.bind(this)} key=\"modal\">\n                {this.component && m(this.component)}\n            </div>\n        );\n    }\n\n    /**\n     * Show a modal dialog.\n     */\n    show(component: Modal) {\n        if (!(component instanceof Modal)) {\n            throw new Error('The ModalManager component can only show Modal components');\n        }\n\n        clearTimeout(this.hideTimeout);\n\n        this.showing = true;\n        this.component = component;\n\n        // if (app.current) app.current.retain = true;\n\n        m.redraw();\n\n        if (!$('.modal-backdrop').length) {\n            $('<div />').addClass('modal-backdrop')\n                .appendTo('body');\n        }\n\n        MicroModal.show('Modal', {\n            awaitCloseAnimation: true,\n            onClose: () => {\n                $('.modal-backdrop').fadeOut(200, function () {\n                    this.remove();\n                });\n\n                this.showing = false;\n            }\n        });\n\n        this.onready();\n    }\n\n    onclick(e) {\n        if (e.target === this.element) {\n            this.close();\n        }\n    }\n\n    /**\n     * Close the modal dialog.\n     */\n    close() {\n        if (!this.showing) return;\n\n        // Don't hide the modal immediately, because if the consumer happens to call\n        // the `show` method straight after to show another modal dialog, it will\n        // cause the new modal dialog to disappear. Instead we will wait for a tiny\n        // bit to give the `show` method the opportunity to prevent this from going\n        // ahead.\n        this.hideTimeout = setTimeout(() => MicroModal.close('Modal'));\n    }\n\n    /**\n     * Clear content from the modal area.\n     *\n     * @protected\n     */\n    clear() {\n        if (this.component) {\n            this.component.onhide();\n        }\n\n        this.component = null;\n\n        app.current.retain = false;\n\n        m.redraw();\n    }\n\n    /**\n     * When the modal dialog is ready to be used, tell it!\n     *\n     * @protected\n     */\n    onready() {\n        if (this.component && this.component.onready) {\n            this.component.onready();\n        }\n    }\n}\n","import Mithril from \"mithril\";\n\nimport Bus from './Bus';\nimport Translator from './Translator';\nimport Session from './Session';\nimport Store from './Store';\n\nimport extract from './utils/extract';\nimport mapRoutes from './utils/mapRoutes';\nimport Drawer from './utils/Drawer';\nimport {extend} from './extend';\n\nimport Forum from './models/Forum';\nimport Discussion from './models/Discussion';\nimport User from './models/User';\nimport Post from './models/Post';\nimport Group from './models/Group';\nimport Notification from './models/Notification';\n\nimport RequestError from './utils/RequestError';\nimport Alert from './components/Alert';\nimport ModalManager from './components/ModalManager';\n\nexport type ApplicationData = {\n    apiDocument: any;\n    locale: string;\n    locales: any;\n    resources: any[];\n    session: any;\n};\n\nexport default abstract class Application {\n    /**\n     * The forum model for this application.\n     */\n    forum: Forum;\n\n    data: ApplicationData;\n\n    translator = new Translator();\n    bus = new Bus();\n\n    /**\n     * The app's session.\n     */\n    session: Session;\n\n    /**\n     * The app's data store.\n     */\n    store = new Store({\n        forums: Forum,\n        users: User,\n        discussions: Discussion,\n        posts: Post,\n        groups: Group,\n        notifications: Notification\n    });\n\n    drawer = new Drawer();\n\n    modal: ModalManager;\n\n    /**\n     * A local cache that can be used to store data at the application level, so\n     * that is persists between different routes.\n     */\n    cache = {\n        notifications: null,\n    };\n\n    routes = {};\n\n    title = '';\n    titleCount = 0;\n\n    /**\n     * An Alert that was shown as a result of an AJAX request error. If present,\n     * it will be dismissed on the next successful request.\n     */\n    private requestError: Alert = null;\n\n    mount(basePath = '') {\n        m.mount(document.getElementById('modal'), new ModalManager());\n\n        // this.alerts = m.mount(document.getElementById('alerts'), <AlertManager />);\n\n        m.route(document.getElementById('content'), basePath + '/', mapRoutes(this.routes, basePath));\n    }\n\n    boot(payload: any) {\n        this.data = payload;\n\n        this.store.pushPayload({ data: this.data.resources });\n\n        this.forum = this.store.getById('forums', 1);\n\n        this.session = new Session(\n            this.store.getById('users', this.data.session.userId),\n            this.data.session.csrfToken\n        );\n\n        this.locale();\n        this.plugins();\n        this.setupRoutes();\n        this.mount();\n\n        this.bus.dispatch('app.booting');\n    }\n\n    locale() {\n        this.translator.locale = this.data.locale;\n\n        this.bus.dispatch('app.locale');\n    }\n\n    plugins() {\n        this.bus.dispatch('app.plugins');\n    }\n\n    setupRoutes() {\n        this.bus.dispatch('app.routes');\n    }\n\n    /**\n     * Get the API response document that has been preloaded into the application.\n     */\n    preloadedApiDocument() {\n      if (this.data.apiDocument) {\n        const results = this.store.pushPayload(this.data.apiDocument);\n\n        this.data.apiDocument = null;\n\n        return results;\n      }\n\n      return null;\n    }\n\n    /**\n     * Set the <title> of the page.\n     */\n    setTitle(title: string) {\n        this.title = title;\n        this.updateTitle();\n    }\n\n    /**\n     * Set a number to display in the <title> of the page.\n     */\n    setTitleCount(count: number) {\n        this.titleCount = count;\n        this.updateTitle();\n    }\n\n    updateTitle() {\n        document.title = (this.titleCount ? `(${this.titleCount}) ` : '') +\n          (this.title ? this.title + ' - ' : '') +\n          this.forum.attribute('title');\n    }\n\n    /**\n     * Construct a URL to the route with the given name.\n     */\n    route(name: string, params: object = {}): string {\n        const route = this.routes[name];\n\n        if (!route) throw new Error(`Route '${name}' does not exist`);\n\n        const url = route.path.replace(/:([^\\/]+)/g, (m, key) => extract(params, key));\n        const queryString = m.buildQueryString(params);\n        const prefix = m.route.prefix === '' ? this.forum.attribute('basePath') : '';\n\n        return prefix + url + (queryString ? '?' + queryString : '');\n    }\n\n    /**\n     * Make an AJAX request, handling any low-level errors that may occur.\n     *\n     * @see https://mithril.js.org/request.html\n     */\n    request(originalOptions: Mithril.RequestOptions|any): Promise<any> {\n      const options: Mithril.RequestOptions = Object.assign({}, originalOptions);\n\n      // Set some default options if they haven't been overridden. We want to\n      // authenticate all requests with the session token. We also want all\n      // requests to run asynchronously in the background, so that they don't\n      // prevent redraws from occurring.\n      options.background = options.background || true;\n\n      extend(options, 'config', (result, xhr: XMLHttpRequest) => xhr.setRequestHeader('X-CSRF-Token', this.session.csrfToken));\n\n      // If the method is something like PATCH or DELETE, which not all servers\n      // and clients support, then we'll send it as a POST request with the\n      // intended method specified in the X-HTTP-Method-Override header.\n      if (options.method !== 'GET' && options.method !== 'POST') {\n        const method = options.method;\n        extend(options, 'config', (result, xhr: XMLHttpRequest) => xhr.setRequestHeader('X-HTTP-Method-Override', method));\n        options.method = 'POST';\n      }\n\n      // When we deserialize JSON data, if for some reason the server has provided\n      // a dud response, we don't want the application to crash. We'll show an\n      // error message to the user instead.\n      options.deserialize = options.deserialize || (responseText => responseText);\n\n      options.errorHandler = options.errorHandler || (error => {\n        throw error;\n      });\n\n      // When extracting the data from the response, we can check the server\n      // response code and show an error message to the user if something's gone\n      // awry.\n      const original = options.extract;\n      options.extract = xhr => {\n        let responseText;\n\n        if (original) {\n          responseText = original(xhr.responseText);\n        } else {\n          responseText = xhr.responseText || null;\n        }\n\n        const status = xhr.status;\n\n        if (status < 200 || status > 299) {\n          throw new RequestError(status, responseText, options, xhr);\n        }\n\n        if (xhr.getResponseHeader) {\n          const csrfToken = xhr.getResponseHeader('X-CSRF-Token');\n          if (csrfToken) app.session.csrfToken = csrfToken;\n        }\n\n        try {\n          return JSON.parse(responseText);\n        } catch (e) {\n          throw new RequestError(500, responseText, options, xhr);\n        }\n      };\n\n      // TODO: ALERT MANAGER\n      // if (this.requestError) this.alerts.dismiss(this.requestError.alert);\n\n      // Now make the request. If it's a failure, inspect the error that was\n      // returned and show an alert containing its contents.\n      // const deferred = m.deferred();\n\n      // return new Promise((resolve, reject) => )\n\n      return m.request(options)\n        .then(res => res, error => {\n        this.requestError = error;\n\n        let children;\n\n        switch (error.status) {\n          case 422:\n            children = error.response.errors\n              .map(error => [error.detail, m('br')])\n              .reduce((a, b) => a.concat(b), [])\n              .slice(0, -1);\n            break;\n\n          case 401:\n          case 403:\n            children = this.translator.trans('core.lib.error.permission_denied_message');\n            break;\n\n          case 404:\n          case 410:\n            children = this.translator.trans('core.lib.error.not_found_message');\n            break;\n\n          case 429:\n            children = this.translator.trans('core.lib.error.rate_limit_exceeded_message');\n            break;\n\n          default:\n            children = this.translator.trans('core.lib.error.generic_message');\n        }\n\n        error.alert = Alert.component({\n          type: 'error',\n          children\n        });\n\n        try {\n          options.errorHandler(error);\n        } catch (error) {\n            console.error(error);\n          // this.alerts.show(error.alert);\n        }\n\n        return Promise.reject(error);\n      });\n\n      // return deferred.promise;\n    }\n}\n","import { RouteDefs } from 'mithril';\r\n\r\n/**\r\n * The `mapRoutes` utility converts a map of named application routes into a\r\n * format that can be understood by Mithril.\r\n *\r\n * @see https://lhorie.github.io/mithril/mithril.route.html#defining-routes\r\n */\r\nexport default function mapRoutes(routes: object, basePath: string = ''): RouteDefs {\r\n    const map = {};\r\n\r\n    for (const key in routes) {\r\n        const route = routes[key];\r\n\r\n        if (route.component) {\r\n            if (!route.component.attrs) route.component.attrs = {};\r\n            route.component.attrs.routeName = key;\r\n        }\r\n\r\n        map[basePath + route.path] = route.component;\r\n    }\r\n\r\n    return map;\r\n}\r\n","export interface StackItem {\r\n  name: string;\r\n  title: string;\r\n  url?: string;\r\n}\r\n\r\n/**\r\n * The `History` class keeps track and manages a stack of routes that the user\r\n * has navigated to in their session.\r\n *\r\n * An item can be pushed to the top of the stack using the `push` method. An\r\n * item in the stack has a name and a URL. The name need not be unique; if it is\r\n * the same as the item before it, that will be overwritten with the new URL. In\r\n * this way, if a user visits a discussion, and then visits another discussion,\r\n * popping the history stack will still take them back to the discussion list\r\n * rather than the previous discussion.\r\n */\r\nexport default class History {\r\n  /**\r\n   * The stack of routes that have been navigated to.\r\n   */\r\n  protected stack: StackItem[] = [];\r\n\r\n  /**\r\n   * Get the item on the top of the stack.\r\n   */\r\n  getCurrent(): StackItem {\r\n    return this.stack[this.stack.length - 1];\r\n  }\r\n\r\n  /**\r\n   * Get the previous item on the stack.\r\n   */\r\n  getPrevious(): StackItem {\r\n    return this.stack[this.stack.length - 2];\r\n  }\r\n\r\n  /**\r\n   * Push an item to the top of the stack.\r\n   *\r\n   * @param {String} name The name of the route.\r\n   * @param {String} title The title of the route.\r\n   * @param {String} [url] The URL of the route. The current URL will be used if\r\n   *     not provided.\r\n   */\r\n  push(name: string, title: string, url: string = m.route.get()) {\r\n    // If we're pushing an item with the same name as second-to-top item in the\r\n    // stack, we will assume that the user has clicked the 'back' button in\r\n    // their browser. In this case, we don't want to push a new item, so we will\r\n    // pop off the top item, and then the second-to-top item will be overwritten\r\n    // below.\r\n    const secondTop = this.stack[this.stack.length - 2];\r\n    if (secondTop && secondTop.name === name) {\r\n      this.stack.pop();\r\n    }\r\n\r\n    // If we're pushing an item with the same name as the top item in the stack,\r\n    // then we'll overwrite it with the new URL.\r\n    const top = this.getCurrent();\r\n    if (top && top.name === name) {\r\n      Object.assign(top, {url, title});\r\n    } else {\r\n      this.stack.push({name, url, title});\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check whether or not the history stack is able to be popped.\r\n   */\r\n  canGoBack(): boolean {\r\n    return this.stack.length > 1;\r\n  }\r\n\r\n  /**\r\n   * Go back to the previous route in the history stack.\r\n   */\r\n  back() {\r\n    if (! this.canGoBack()) {\r\n      return this.home();\r\n    }\r\n\r\n    this.stack.pop();\r\n\r\n    m.route.set(this.getCurrent().url);\r\n  }\r\n\r\n  /**\r\n   * Get the URL of the previous page.\r\n   */\r\n  backUrl(): string {\r\n    const secondTop = this.stack[this.stack.length - 2];\r\n\r\n    return secondTop.url;\r\n  }\r\n\r\n  /**\r\n   * Go to the first route in the history stack.\r\n   */\r\n  home() {\r\n    this.stack.splice(0);\r\n\r\n    m.route.set('/');\r\n  }\r\n}\r\n","import Component from '../../common/Component';\r\nimport ItemList from '../../common/utils/ItemList';\r\nimport listItems from '../../common/helpers/listItems';\r\n\r\n/**\r\n * The `HeaderPrimary` component displays primary header controls. On the\r\n * default skin, these are shown just to the right of the forum title.\r\n */\r\nexport default class HeaderPrimary extends Component {\r\n  view() {\r\n    return (\r\n      <ul className=\"Header-controls\">\r\n        {listItems(this.items().toArray())}\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Build an item list for the controls.\r\n   */\r\n  items(): ItemList {\r\n    return new ItemList();\r\n  }\r\n}\r\n","import Stream from 'mithril/stream';\n\nimport Modal from '../../common/components/Modal';\nimport {ComponentProps} from '../../common/Component';\nimport ItemList from \"../../common/utils/ItemList\";\nimport Button from \"../../common/components/Button\";\n\nexport interface LogInModalProps extends ComponentProps {\n    username?: string;\n    password?: string;\n    remember?: boolean;\n}\n\n/**\n * The `LogInModal` component displays a modal dialog with a login form.\n *\n * ### Props\n *\n * - `identification`\n * - `password`\n * - `remember`\n */\nexport default class LogInModal extends Modal<LogInModalProps> {\n    /**\n     * The value of the identification input.\n     */\n    identification: Stream<string>;\n\n    /**\n     * The value of the password input.\n     */\n    password: Stream<string>;\n\n    /**\n     * The value of the remember me input.\n     */\n    remember: Stream<string>;\n\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.identification = m.prop(this.props.identification || '');\n\n        this.password = m.prop(this.props.password || '');\n\n        this.remember = m.prop(!!this.props.remember);\n    }\n\n    className(): string {\n        return 'LogInModal Modal--small';\n    }\n\n    title(): string {\n        return app.translator.transText('core.forum.log_in.title');\n    }\n\n    content() {\n        return [\n            <div className=\"Modal-body\">\n                {this.body()}\n            </div>,\n            <div className=\"Modal-footer\">\n                {this.footer()}\n            </div>\n        ];\n    }\n\n    body() {\n        return [\n            // <LogInButtons/>,\n\n            <div className=\"Form Form--centered\">\n                {this.fields().toArray()}\n            </div>\n        ];\n    }\n\n    fields() {\n        const items = new ItemList();\n\n        items.add('identification', <div className=\"Form-group\">\n            <input className=\"FormControl\" name=\"identification\" type=\"text\" placeholder={app.translator.transText('core.forum.log_in.username_or_email_placeholder')}\n                   bidi={this.identification}\n                   disabled={this.loading} />\n        </div>, 30);\n\n        items.add('password', <div className=\"Form-group\">\n            <input className=\"FormControl\" name=\"password\" type=\"password\" placeholder={app.translator.transText('core.forum.log_in.password_placeholder')}\n                   bidi={this.password}\n                   disabled={this.loading} />\n        </div>, 20);\n\n        items.add('remember', <div className=\"Form-group\">\n            <div>\n                <label className=\"checkbox\">\n                    <input type=\"checkbox\" bidi={this.remember} disabled={this.loading} />\n                    {app.translator.trans('core.forum.log_in.remember_me_label')}\n                </label>\n            </div>\n        </div>, 10);\n\n        items.add('submit', <div className=\"Form-group\">\n            {Button.component({\n                className: 'Button Button--primary Button--block',\n                type: 'submit',\n                loading: this.loading,\n                children: app.translator.trans('core.forum.log_in.submit_button')\n            })}\n        </div>, -10);\n\n        return items;\n    }\n\n    footer() {\n        return [\n            <p className=\"LogInModal-forgotPassword\">\n                <a onclick={this.forgotPassword.bind(this)}>{app.translator.trans('core.forum.log_in.forgot_password_link')}</a>\n            </p>,\n\n            app.forum.attribute('allowSignUp') && (\n                <p className=\"LogInModal-signUp\">\n                    {app.translator.trans('core.forum.log_in.sign_up_text', {a: <a onclick={this.signUp.bind(this)}/> })}\n                </p>\n            )\n        ];\n    }\n\n    /**\n     * Open the forgot password modal, prefilling it with an email if the user has\n     * entered one.\n     *\n     * @public\n     */\n    forgotPassword() {\n        const email = this.identification();\n        const props = email.indexOf('@') !== -1 ? {email} : undefined;\n\n        app.modal.show(new ForgotPasswordModal(props));\n    }\n\n    /**\n     * Open the sign up modal, prefilling it with an email/username/password if\n     * the user has entered one.\n     *\n     * @public\n     */\n    signUp() {\n        const props = {password: this.password()};\n        const identification = this.identification();\n        props[identification.indexOf('@') !== -1 ? 'email' : 'username'] = identification;\n\n        // app.modal.show(new SignUpModal(props));\n    }\n\n    oncreate(vnode) {\n        super.oncreate(vnode);\n\n        this.$(`[name=\"${this.identification() ? 'password' : 'identification'}\"]`).select();\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n\n        this.loading = true;\n\n        const identification = this.identification();\n        const password = this.password();\n        const remember = this.remember();\n\n        app.session.login({identification, password, remember}, {errorHandler: this.onerror.bind(this)})\n            .then(\n                () => window.location.reload(),\n                this.loaded.bind(this)\n            );\n    }\n\n    onerror(error) {\n        if (error.status === 401) {\n            error.alert.attrs.children = app.translator.trans('core.forum.log_in.invalid_login_message');\n        }\n\n        super.onerror(error);\n    }\n}\n","/**\r\n * The `avatar` helper displays a user's avatar.\r\n *\r\n * @param {User} user\r\n * @param {Object} attrs Attributes to apply to the avatar element\r\n * @return {Object}\r\n */\r\nexport default function avatar(user, attrs: any = {}) {\r\n  attrs.className = 'Avatar ' + (attrs.className || '');\r\n  let content = '';\r\n\r\n  // If the `title` attribute is set to null or false, we don't want to give the\r\n  // avatar a title. On the other hand, if it hasn't been given at all, we can\r\n  // safely default it to the user's username.\r\n  const hasTitle = attrs.title === 'undefined' || attrs.title;\r\n  if (!hasTitle) delete attrs.title;\r\n\r\n  // If a user has been passed, then we will set up an avatar using their\r\n  // uploaded image, or the first letter of their username if they haven't\r\n  // uploaded one.\r\n  if (user) {\r\n    const username = user.displayName() || '?';\r\n    const avatarUrl = user.avatarUrl();\r\n\r\n    if (hasTitle) attrs.title = attrs.title || username;\r\n\r\n    if (avatarUrl) {\r\n      return <img {...attrs} src={avatarUrl}/>;\r\n    }\r\n\r\n    content = username.charAt(0).toUpperCase();\r\n    attrs.style = {background: user.color()};\r\n  }\r\n\r\n  return <span {...attrs}>{content}</span>;\r\n}\r\n","import Component, {ComponentProps} from '../Component';\r\nimport icon from '../helpers/icon';\r\nimport listItems from '../helpers/listItems';\r\n\r\nexport interface DropdownProps extends ComponentProps {\r\n  buttonClassName?: string;\r\n  menuClassName?: string;\r\n  label?: string;\r\n  icon?: string;\r\n  caretIcon?: undefined|string;\r\n\r\n  onhide?: Function;\r\n  onshow?: Function;\r\n  onclick?: Function;\r\n}\r\n\r\n/**\r\n * The `Dropdown` component displays a button which, when clicked, shows a\r\n * dropdown menu beneath it.\r\n *\r\n * ### Props\r\n *\r\n * - `buttonClassName` A class name to apply to the dropdown toggle button.\r\n * - `menuClassName` A class name to apply to the dropdown menu.\r\n * - `icon` The name of an icon to show in the dropdown toggle button.\r\n * - `caretIcon` The name of an icon to show on the right of the button.\r\n * - `label` The label of the dropdown toggle button. Defaults to 'Controls'.\r\n * - `onhide`\r\n * - `onshow`\r\n *\r\n * The children will be displayed as a list inside of the dropdown menu.\r\n */\r\nexport default class Dropdown<T extends DropdownProps = DropdownProps> extends Component<T> {\r\n  showing: boolean;\r\n\r\n  static initProps(props: DropdownProps) {\r\n    props.className = props.className || '';\r\n    props.buttonClassName = props.buttonClassName || '';\r\n    props.menuClassName = props.menuClassName || '';\r\n    props.label = props.label || '';\r\n    props.caretIcon = typeof props.caretIcon !== 'undefined' ? props.caretIcon : 'fas fa-caret-down';\r\n  }\r\n\r\n  view() {\r\n    const items = this.props.children ? listItems(this.props.children) : [];\r\n\r\n    return (\r\n      <div className={`ButtonGroup Dropdown dropdown ${this.props.className} itemCount${items.length}${this.showing ? ' open' : ''}`}>\r\n        {this.getButton()}\r\n        {this.getMenu(items)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  oncreate(vnode) {\r\n    super.oncreate(vnode);\r\n\r\n    this.$('> .Dropdown-toggle').dropdown();\r\n\r\n    // When opening the dropdown menu, work out if the menu goes beyond the\r\n    // bottom of the viewport. If it does, we will apply class to make it show\r\n    // above the toggle button instead of below it.\r\n    this.element.addEventListener('shown.bs.dropdown', () => {\r\n      this.showing = true;\r\n\r\n      if (this.props.onshow) {\r\n        this.props.onshow();\r\n      }\r\n\r\n      m.redraw();\r\n\r\n      const $menu = this.$('.Dropdown-menu');\r\n      const isRight = $menu.hasClass('Dropdown-menu--right');\r\n\r\n      $menu.removeClass('Dropdown-menu--top Dropdown-menu--right');\r\n\r\n      $menu.toggleClass(\r\n        'Dropdown-menu--top',\r\n        $menu.offset().top + $menu.height() > $(window).scrollTop() + $(window).height()\r\n      );\r\n\r\n      if ($menu.offset().top < 0) {\r\n        $menu.removeClass('Dropdown-menu--top');\r\n      }\r\n\r\n      $menu.toggleClass(\r\n        'Dropdown-menu--right',\r\n        isRight || $menu.offset().left + $menu.width() > $(window).scrollLeft() + $(window).width()\r\n      );\r\n    });\r\n\r\n    this.element.addEventListener('hidden.bs.dropdown', () => {\r\n      this.showing = false;\r\n\r\n      if (this.props.onhide) {\r\n        this.props.onhide();\r\n      }\r\n\r\n      m.redraw();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get the template for the button.\r\n   */\r\n  protected getButton(): any {\r\n    return (\r\n      <button\r\n        className={'Dropdown-toggle ' + this.props.buttonClassName}\r\n        data-toggle=\"dropdown\"\r\n        onclick={this.props.onclick}>\r\n        {this.getButtonContent()}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get the template for the button's content.\r\n   *\r\n   * @return {*}\r\n   */\r\n  protected getButtonContent() {\r\n    const attrs = this.props;\r\n\r\n    return [\r\n      attrs.icon ? icon(attrs.icon, {className: 'Button-icon'}) : '',\r\n      <span className=\"Button-label\">{attrs.label}</span>,\r\n      attrs.caretIcon ? icon(attrs.caretIcon, {className: 'Button-caret'}) : ''\r\n    ];\r\n  }\r\n\r\n  protected getMenu(items) {\r\n    return (\r\n      <ul className={'Dropdown-menu dropdown-menu ' + this.props.menuClassName}>\r\n        {items}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import Button, {ButtonProps} from './Button';\r\n\r\ninterface LinkButtonProps extends ButtonProps {\r\n  active: boolean;\r\n  oncreate: Function;\r\n  href?: string;\r\n}\r\n\r\n/**\r\n * The `LinkButton` component defines a `Button` which links to a route.\r\n *\r\n * ### Props\r\n *\r\n * All of the props accepted by `Button`, plus:\r\n *\r\n * - `active` Whether or not the page that this button links to is currently\r\n *   active.\r\n * - `href` The URL to link to. If the current URL `m.route()` matches this,\r\n *   the `active` prop will automatically be set to true.\r\n */\r\nexport default class LinkButton extends Button<LinkButtonProps> {\r\n  static initProps(props: LinkButtonProps) {\r\n    props.active = this.isActive(props);\r\n    props.oncreate = props.oncreate;\r\n  }\r\n\r\n  view(vnode) {\r\n    const vdom = super.view(vnode);\r\n\r\n    vdom.tag = m.route.Link;\r\n\r\n    return vdom;\r\n  }\r\n\r\n  /**\r\n   * Determine whether a component with the given props is 'active'.\r\n   */\r\n  static isActive(props: LinkButtonProps): boolean {\r\n    return typeof props.active !== 'undefined'\r\n      ? props.active\r\n      : m.route.get() === props.href;\r\n  }\r\n}\r\n","import avatar from '../../common/helpers/avatar';\r\nimport username from '../../common/helpers/username';\r\nimport Dropdown from '../../common/components/Dropdown';\r\nimport LinkButton from '../../common/components/LinkButton';\r\nimport Button from '../../common/components/Button';\r\nimport ItemList from '../../common/utils/ItemList';\r\nimport Separator from '../../common/components/Separator';\r\nimport Group from '../../common/models/Group';\r\n\r\n/**\r\n * The `SessionDropdown` component shows a button with the current user's\r\n * avatar/name, with a dropdown of session controls.\r\n */\r\nexport default class SessionDropdown extends Dropdown {\r\n  static initProps(props) {\r\n    super.initProps(props);\r\n\r\n    props.className = 'SessionDropdown';\r\n    props.buttonClassName = 'Button Button--user Button--flat';\r\n    props.menuClassName = 'Dropdown-menu--right';\r\n  }\r\n\r\n  view() {\r\n    this.props.children = this.items().toArray();\r\n\r\n    return super.view();\r\n  }\r\n\r\n  getButtonContent() {\r\n    const user = app.session.user;\r\n\r\n    return [\r\n      avatar(user), ' ',\r\n      <span className=\"Button-label\">{username(user)}</span>\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Build an item list for the contents of the dropdown menu.\r\n   */\r\n  items(): ItemList {\r\n    const items = new ItemList();\r\n    const user = app.session.user;\r\n\r\n    items.add('profile',\r\n      LinkButton.component({\r\n        icon: 'fas fa-user',\r\n        children: app.translator.trans('core.forum.header.profile_button'),\r\n        href: app.route.user(user)\r\n      }),\r\n      100\r\n    );\r\n\r\n    // items.add('settings',\r\n    //   LinkButton.component({\r\n    //     icon: 'fas fa-cog',\r\n    //     children: app.translator.trans('core.forum.header.settings_button'),\r\n    //     href: app.route('settings')\r\n    //   }),\r\n    //   50\r\n    // );\r\n\r\n    if (app.forum.attribute('adminUrl')) {\r\n      items.add('administration',\r\n        LinkButton.component({\r\n          icon: 'fas fa-wrench',\r\n          children: app.translator.trans('core.forum.header.admin_button'),\r\n          href: app.forum.attribute('adminUrl'),\r\n          target: '_blank',\r\n          config: () => {}\r\n        }),\r\n        0\r\n      );\r\n    }\r\n\r\n    items.add('separator', Separator.component(), -90);\r\n\r\n    items.add('logOut',\r\n      Button.component({\r\n        icon: 'fas fa-sign-out-alt',\r\n        children: app.translator.trans('core.forum.header.log_out_button'),\r\n        onclick: app.session.logout.bind(app.session)\r\n      }),\r\n      -100\r\n    );\r\n\r\n    return items;\r\n  }\r\n}\r\n","import Dropdown, {DropdownProps} from './Dropdown';\r\nimport icon from '../helpers/icon';\r\n\r\nexport interface SelectDropdownProps extends DropdownProps {\r\n  defaultLabel?: string;\r\n}\r\n\r\n/**\r\n * The `SelectDropdown` component is the same as a `Dropdown`, except the toggle\r\n * button's label is set as the label of the first child which has a truthy\r\n * `active` prop.\r\n *\r\n * ### Props\r\n *\r\n * - `caretIcon`\r\n * - `defaultLabel`\r\n */\r\nexport default class SelectDropdown extends Dropdown<SelectDropdownProps> {\r\n  static initProps(props: SelectDropdownProps) {\r\n      props.caretIcon = typeof props.caretIcon !== 'undefined' ? props.caretIcon : 'fas fa-sort';\r\n\r\n      super.initProps(props);\r\n\r\n      props.className += ' Dropdown--select';\r\n  }\r\n\r\n  getButtonContent() {\r\n    const activeChild = this.props.children.filter(child => child.attrs.active)[0];\r\n    let label = activeChild && activeChild.attrs.children || this.props.defaultLabel;\r\n\r\n    if (label instanceof Array) label = label[0];\r\n\r\n    return [\r\n      <span className=\"Button-label\">{label}</span>,\r\n      icon(this.props.caretIcon, {className: 'Button-caret'})\r\n    ];\r\n  }\r\n}\r\n","import Component from '../../common/Component';\nimport listItems from '../../common/helpers/listItems';\nimport Button from '../../common/components/Button';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport Notification from '../../common/models/Notification';\nimport Discussion from '../../common/models/Discussion';\n\n/**\n * The `NotificationList` component displays a list of the logged-in user's\n * notifications, grouped by discussion.\n */\nexport default class NotificationList extends Component {\n  /**\n   * Whether or not the notifications are loading.\n   */\n  loading: boolean = false;\n\n  /**\n   * Whether or not there are more results that can be loaded.\n   */\n  moreResults: boolean = false;\n\n  private $scrollParent: ZeptoCollection;\n  private scrollHandler: () => void;\n\n  view() {\n    const pages = app.cache.notifications || [];\n\n    return (\n      <div className=\"NotificationList\">\n        <div className=\"NotificationList-header\">\n          <div className=\"App-primaryControl\">\n            {Button.component({\n              className: 'Button Button--icon Button--link',\n              icon: 'fas fa-check',\n              title: app.translator.transText('core.forum.notifications.mark_all_as_read_tooltip'),\n              onclick: this.markAllAsRead.bind(this)\n            })}\n          </div>\n\n          <h4 className=\"App-titleControl App-titleControl--text\">{app.translator.trans('core.forum.notifications.title')}</h4>\n        </div>\n\n        <div className=\"NotificationList-content\">\n          {pages.length ? pages.map(notifications => {\n            const groups = [];\n            const discussions = {};\n\n            notifications.forEach(notification => {\n              const subject = notification.subject();\n\n              if (typeof subject === 'undefined') return;\n\n              // Get the discussion that this notification is related to. If it's not\n              // directly related to a discussion, it may be related to a post or\n              // other entity which is related to a discussion.\n              let discussion: any = false;\n              if (subject instanceof Discussion) discussion = subject;\n              else if (subject && subject.discussion) discussion = subject.discussion();\n\n              // If the notification is not related to a discussion directly or\n              // indirectly, then we will assign it to a neutral group.\n              const key = discussion ? discussion.id() : 0;\n              discussions[key] = discussions[key] || {discussion: discussion, notifications: []};\n              discussions[key].notifications.push(notification);\n\n              if (groups.indexOf(discussions[key]) === -1) {\n                groups.push(discussions[key]);\n              }\n            });\n\n            return groups.map(group => {\n              const badges = group.discussion && group.discussion.badges().toArray();\n\n              return (\n                <div className=\"NotificationGroup\">\n                  {group.discussion\n                    ? (\n                      <m.route.Link className=\"NotificationGroup-header\"\n                         href={app.route.discussion(group.discussion)}>\n                        {badges && badges.length ? <ul className=\"NotificationGroup-badges badges\">{listItems(badges)}</ul> : ''}\n                        {group.discussion.title()}\n                      </m.route.Link>\n                    ) : (\n                      <div className=\"NotificationGroup-header\">\n                        {app.forum.attribute('title')}\n                      </div>\n                    )}\n\n                  <ul className=\"NotificationGroup-content\">\n                    {group.notifications.map(notification => {\n                      const NotificationComponent = app.notificationComponents[notification.contentType()];\n                      return NotificationComponent ? <li>{NotificationComponent.component({notification})}</li> : '';\n                    })}\n                  </ul>\n                </div>\n              );\n            });\n          }) : ''}\n          {this.loading\n            ? <LoadingIndicator className=\"LoadingIndicator--block\" />\n            : (pages.length ? '' : <div className=\"NotificationList-empty\">{app.translator.trans('core.forum.notifications.empty_text')}</div>)}\n        </div>\n      </div>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    const $notifications = this.$('.NotificationList-content');\n    const $scrollParent = this.$scrollParent = $notifications.css('overflow') === 'auto' ? $notifications : $(window);\n\n    this.scrollHandler = () => {\n      const scrollTop = $scrollParent.scrollTop();\n      const viewportHeight = $scrollParent.height();\n      const contentTop = $scrollParent === $notifications ? 0 : $notifications.offset().top;\n      const contentHeight = $notifications[0].scrollHeight;\n\n      if (this.moreResults && !this.loading && scrollTop + viewportHeight >= contentTop + contentHeight) {\n        this.loadMore();\n      }\n    };\n\n    $scrollParent.on('scroll', this.scrollHandler);\n  }\n\n  onremove(vnode) {\n    super.onremove(vnode);\n\n    this.$scrollParent.off('scroll', this.scrollHandler);\n  }\n\n  /**\n   * Load notifications into the application's cache if they haven't already\n   * been loaded.\n   */\n  load() {\n    if (app.session.user.newNotificationCount()) {\n      delete app.cache.notifications;\n    }\n\n    if (app.cache.notifications) {\n      return;\n    }\n\n    app.session.user.pushAttributes({newNotificationCount: 0});\n\n    this.loadMore();\n  }\n\n  /**\n   * Load the next page of notification results.\n   */\n  loadMore() {\n    this.loading = true;\n    m.redraw();\n\n    const params = app.cache.notifications ? {page: {offset: app.cache.notifications.length * 10}} : null;\n\n    return app.store.find<Notification>('notifications', params)\n      .then(this.parseResults.bind(this))\n      .catch(() => {})\n      .then(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  /**\n   * Parse results and append them to the notification list.\n   */\n  parseResults(results: Notification[]): Notification[] {\n    app.cache.notifications = app.cache.notifications || [];\n\n    if (results.length) app.cache.notifications.push(results);\n\n    this.moreResults = !!results.payload.links.next;\n\n    return results;\n  }\n\n  /**\n   * Mark all of the notifications as read.\n   */\n  markAllAsRead() {\n    if (!app.cache.notifications) return;\n\n    app.session.user.pushAttributes({unreadNotificationCount: 0});\n\n    app.cache.notifications.forEach(notifications => {\n      notifications.forEach(notification => notification.pushAttributes({isRead: true}))\n    });\n\n    app.request({\n      url: `${app.forum.attribute('apiUrl')}/notifications/read`,\n      method: 'POST'\n    });\n  }\n}\n","import Dropdown from '../../common/components/Dropdown';\r\nimport icon from '../../common/helpers/icon';\r\nimport NotificationList from './NotificationList';\r\n\r\nexport default class NotificationsDropdown extends Dropdown {\r\n  list = new NotificationList();\r\n\r\n  static initProps(props) {\r\n    props.className = props.className || 'NotificationsDropdown';\r\n    props.buttonClassName = props.buttonClassName || 'Button Button--flat';\r\n    props.menuClassName = props.menuClassName || 'Dropdown-menu--right';\r\n    props.label = props.label || app.translator.trans('core.forum.notifications.tooltip');\r\n    props.icon = props.icon || 'fas fa-bell';\r\n\r\n    super.initProps(props);\r\n  }\r\n\r\n  getButton() {\r\n    const newNotifications = this.getNewCount();\r\n    const vdom = super.getButton();\r\n\r\n    vdom.attrs.title = this.props.label;\r\n\r\n    vdom.attrs.className += (newNotifications ? ' new' : '');\r\n    vdom.attrs.onclick = this.onclick.bind(this);\r\n\r\n    return vdom;\r\n  }\r\n\r\n  getButtonContent() {\r\n    const unread = this.getUnreadCount();\r\n\r\n    return [\r\n      icon(this.props.icon, {className: 'Button-icon'}),\r\n      unread ? <span className=\"NotificationsDropdown-unread\">{unread}</span> : '',\r\n      <span className=\"Button-label\">{this.props.label}</span>\r\n    ];\r\n  }\r\n\r\n  getMenu() {\r\n    return (\r\n      <div className={'Dropdown-menu ' + this.props.menuClassName} onclick={this.menuClick.bind(this)}>\r\n        {this.showing ? m(this.list) : ''}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onclick() {\r\n    if (app.drawer.isOpen()) {\r\n      this.goToRoute();\r\n    } else {\r\n      this.list.load();\r\n    }\r\n  }\r\n\r\n  goToRoute() {\r\n    m.route.set(app.route('notifications'));\r\n  }\r\n\r\n  getUnreadCount() {\r\n    return app.session.user.unreadNotificationCount();\r\n  }\r\n\r\n  getNewCount() {\r\n    return app.session.user.newNotificationCount();\r\n  }\r\n\r\n  menuClick(e) {\r\n    // Don't close the notifications dropdown if the user is opening a link in a\r\n    // new tab or window.\r\n    if (e.shiftKey || e.metaKey || e.ctrlKey || e.which === 2) e.stopPropagation();\r\n  }\r\n}\r\n","/**\r\n * The `KeyboardNavigatable` class manages lists that can be navigated with the\r\n * keyboard, calling callbacks for each actions.\r\n *\r\n * This helper encapsulates the key binding logic, providing a simple fluent\r\n * API for use.\r\n */\r\nexport default class KeyboardNavigatable {\r\n  callbacks = {};\r\n\r\n  // By default, always handle keyboard navigation.\r\n  whenCallback = () => true;\r\n\r\n  /**\r\n   * Provide a callback to be executed when navigating upwards.\r\n   *\r\n   * This will be triggered by the Up key.\r\n   */\r\n  onUp(callback: Function): this {\r\n    this.callbacks[38] = e => {\r\n      e.preventDefault();\r\n      callback(e);\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Provide a callback to be executed when navigating downwards.\r\n   *\r\n   * This will be triggered by the Down key.\r\n   */\r\n  onDown(callback: Function): this {\r\n    this.callbacks[40] = e => {\r\n      e.preventDefault();\r\n      callback(e);\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Provide a callback to be executed when the current item is selected..\r\n   *\r\n   * This will be triggered by the Return and Tab keys..\r\n   */\r\n  onSelect(callback: Function): this {\r\n    this.callbacks[9] = this.callbacks[13] = e => {\r\n      e.preventDefault();\r\n      callback(e);\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Provide a callback to be executed when the navigation is canceled.\r\n   *\r\n   * This will be triggered by the Escape key.\r\n   */\r\n  onCancel(callback: Function): this {\r\n    this.callbacks[27] = e => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      callback(e);\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Provide a callback to be executed when previous input is removed.\r\n   *\r\n   * This will be triggered by the Backspace key.\r\n   */\r\n  onRemove(callback: Function): this {\r\n    this.callbacks[8] = e => {\r\n      if (e.target.selectionStart === 0 && e.target.selectionEnd === 0) {\r\n        callback(e);\r\n        e.preventDefault();\r\n      }\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Provide a callback that determines whether keyboard input should be handled.\r\n   */\r\n  when(callback: () => boolean): this {\r\n    this.whenCallback = callback;\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Set up the navigation key bindings on the given jQuery element.\r\n   */\r\n  bindTo($element: any) {\r\n    // Handle navigation key events on the navigatable element.\r\n    $element.on('keydown', this.navigate.bind(this));\r\n  }\r\n\r\n  /**\r\n   * Interpret the given keyboard event as navigation commands.\r\n   */\r\n  navigate(event: KeyboardEvent) {\r\n    // This callback determines whether keyboard should be handled or ignored.\r\n    if (!this.whenCallback()) return;\r\n\r\n    const keyCallback = this.callbacks[event.which];\r\n    if (keyCallback) {\r\n      keyCallback(event);\r\n    }\r\n  }\r\n}\r\n","import { truncate } from '../utils/string';\r\n\r\n/**\r\n * The `highlight` helper searches for a word phrase in a string, and wraps\r\n * matches with the <mark> tag.\r\n *\r\n * @param {String} string The string to highlight.\r\n * @param {String|RegExp} phrase The word or words to highlight.\r\n * @param {Integer} [length] The number of characters to truncate the string to.\r\n *     The string will be truncated surrounding the first match.\r\n */\r\nexport default function highlight(string: string, phrase: string|RegExp, length?: number): any {\r\n  if (!phrase && !length) return string;\r\n\r\n  // Convert the word phrase into a global regular expression (if it isn't\r\n  // already) so we can search the string for matched.\r\n  const regexp = phrase instanceof RegExp ? phrase : new RegExp(phrase, 'gi');\r\n\r\n  let highlighted = string;\r\n  let start = 0;\r\n\r\n  // If a length was given, the truncate the string surrounding the first match.\r\n  if (length) {\r\n    if (phrase) start = Math.max(0, string.search(regexp) - length / 2);\r\n\r\n    highlighted = truncate(highlighted, length, start);\r\n  }\r\n\r\n  // Convert the string into HTML entities, then highlight all matches with\r\n  // <mark> tags. Then we will return the result as a trusted HTML string.\r\n  highlighted = $('<div/>').text(highlighted).html();\r\n\r\n  if (phrase) highlighted = highlighted.replace(regexp, '<mark>$&</mark>');\r\n\r\n  return m.trust(highlighted);\r\n}\r\n","export default abstract class SearchSource {\r\n  abstract view(vnode: string);\r\n\r\n  abstract search(query: string);\r\n}\r\n","import highlight from '../../common/helpers/highlight';\nimport LinkButton from '../../common/components/LinkButton';\nimport SearchSource from \"./SearchSource\";\nimport Discussion from \"../../common/models/Discussion\";\n\n/**\n * The `DiscussionsSearchSource` finds and displays discussion search results in\n * the search dropdown.\n */\nexport default class DiscussionsSearchSource extends SearchSource {\n  protected results: { [key: string]: Discussion[] } = {};\n\n  search(query: string) {\n    query = query.toLowerCase();\n\n    this.results[query] = [];\n\n    const params = {\n      filter: {q: query},\n      page: {limit: 3},\n      include: 'mostRelevantPost'\n    };\n\n    return app.store.find<Discussion>('discussions', params).then(results => this.results[query] = results);\n  }\n\n  view(query: string) {\n    query = query.toLowerCase();\n\n    const results = this.results[query] || [];\n\n    return [\n      <li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.discussions_heading')}</li>,\n      <li>\n        {LinkButton.component({\n          icon: 'fas fa-search',\n          children: app.translator.trans('core.forum.search.all_discussions_button', {query}),\n          href: app.route('index', {q: query})\n        })}\n      </li>,\n      results.map(discussion => {\n        const mostRelevantPost = discussion.mostRelevantPost();\n\n        return (\n          <li className=\"DiscussionSearchResult\" data-index={'discussions' + discussion.id()}>\n            <m.route.Link href={app.route.discussion(discussion, mostRelevantPost && mostRelevantPost.number())}>\n              <div className=\"DiscussionSearchResult-title\">{highlight(discussion.title(), query)}</div>\n              {mostRelevantPost ? <div className=\"DiscussionSearchResult-excerpt\">{highlight(mostRelevantPost.contentPlain(), query, 100)}</div> : ''}\n            </m.route.Link>\n          </li>\n        );\n      })\n    ];\n  }\n}\n","import highlight from '../../common/helpers/highlight';\nimport avatar from '../../common/helpers/avatar';\nimport username from '../../common/helpers/username';\nimport SearchSource from \"./SearchSource\";\nimport User from '../../common/models/User';\n\n/**\n * The `UsersSearchSource` finds and displays user search results in the search\n * dropdown.\n *\n * @implements SearchSource\n */\nexport default class UsersSearchSource extends SearchSource {\n  protected results: { [key: string]: User[] } = {};\n\n  search(query: string) {\n    return app.store.find<User>('users', {\n      filter: {q: query},\n      page: {limit: 5}\n    }).then(results => {\n      this.results[query] = results;\n      m.redraw();\n    });\n  }\n\n  view(query: string) {\n    query = query.toLowerCase();\n\n    const results = (this.results[query] || [])\n      .concat(app.store.all<User>('users').filter(user => [user.username(), user.displayName()].some(value => value.toLowerCase().substr(0, query.length) === query)))\n      .filter((e, i, arr) => arr.lastIndexOf(e) === i)\n      .sort((a, b) => a.displayName().localeCompare(b.displayName()));\n\n    if (!results.length) return '';\n\n    return [\n      <li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.users_heading')}</li>,\n      results.map(user => {\n        const name = username(user);\n\n        if (!name.children) {\n          name.children = [name.text];\n          delete name.text;\n        }\n\n        name.children[0] = highlight(name.children[0], query);\n\n        return (\n          <li className=\"UserSearchResult\" data-index={'users' + user.id()}>\n            <m.route.Link href={app.route.user(user)}>\n              {avatar(user)}\n              {name}\n            </m.route.Link>\n          </li>\n        );\n      })\n    ];\n  }\n}\n","import Component from '../../common/Component';\r\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\r\nimport ItemList from '../../common/utils/ItemList';\r\nimport KeyboardNavigatable from '../utils/KeyboardNavigatable';\r\nimport icon from '../../common/helpers/icon';\r\nimport DiscussionsSearchSource from './DiscussionsSearchSource';\r\nimport UsersSearchSource from './UsersSearchSource';\r\nimport SearchSource from './SearchSource';\r\n\r\nimport Stream from 'mithril/stream';\r\n\r\n/**\r\n * The `Search` component displays a menu of as-you-type results from a variety\r\n * of sources.\r\n *\r\n * The search box will be 'activated' if the app's current controller implements\r\n * a `searching` method that returns a truthy value. If this is the case, an 'x'\r\n * button will be shown next to the search field, and clicking it will call the\r\n * `clearSearch` method on the controller.\r\n */\r\nexport default class Search extends Component {\r\n  /**\r\n   * The value of the search input.\r\n   */\r\n  value: Stream<string> = m.prop('');\r\n\r\n  /**\r\n   * Whether or not the search input has focus.\r\n   */\r\n  hasFocus: boolean = false;\r\n\r\n  /**\r\n   * An array of SearchSources.\r\n   */\r\n  sources: SearchSource[] = null;\r\n\r\n  /**\r\n   * The number of sources that are still loading results.\r\n   */\r\n  loadingSources = 0;\r\n\r\n  /**\r\n   * A list of queries that have been searched for.\r\n   */\r\n  searched: string[] = [];\r\n\r\n  /**\r\n   * The index of the currently-selected <li> in the results list. This can be\r\n   * a unique string (to account for the fact that an item's position may jump\r\n   * around as new results load), but otherwise it will be numeric (the\r\n   * sequential position within the list).\r\n   */\r\n  index: string|number = 0;\r\n\r\n  navigator: KeyboardNavigatable;\r\n\r\n  searchTimeout: number;\r\n\r\n  view() {\r\n    const currentSearch = this.getCurrentSearch();\r\n\r\n    // Initialize search input value in the view rather than the constructor so\r\n    // that we have access to app.current.\r\n    if (typeof this.value() === 'undefined') {\r\n      this.value(currentSearch || '');\r\n    }\r\n\r\n    // Initialize search sources in the view rather than the constructor so\r\n    // that we have access to app.forum.\r\n    if (!this.sources) {\r\n      this.sources = this.sourceItems().toArray();\r\n    }\r\n\r\n    // Hide the search view if no sources were loaded\r\n    if (!this.sources.length) return <div/>;\r\n\r\n    return (\r\n      <div className={'Search ' + classNames({\r\n        open: this.value() && this.hasFocus,\r\n        focused: this.hasFocus,\r\n        active: !!currentSearch,\r\n        loading: !!this.loadingSources\r\n      })}>\r\n        <div className=\"Search-input\">\r\n          <input className=\"FormControl\"\r\n                 type=\"search\"\r\n                 placeholder={app.translator.transText('core.forum.header.search_placeholder')}\r\n                 value={this.value()}\r\n                 oninput={m.withAttr('value', this.value)}\r\n                 onfocus={() => this.hasFocus = true}\r\n                 onblur={() => this.hasFocus = false}/>\r\n          {this.loadingSources\r\n            ? LoadingIndicator.component({size: 'tiny', className: 'Button Button--icon Button--link'})\r\n            : currentSearch\r\n              ? <button className=\"Search-clear Button Button--icon Button--link\" onclick={this.clear.bind(this)}>{icon('fas fa-times-circle')}</button>\r\n              : ''}\r\n        </div>\r\n        <ul className=\"Dropdown-menu Search-results\">\r\n          {this.value() && this.hasFocus\r\n            ? this.sources.map(source => source.view(this.value()))\r\n            : ''}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  oncreate(vnode) {\r\n    super.oncreate(vnode);\r\n\r\n    // Highlight the item that is currently selected.\r\n    this.setIndex(this.getCurrentNumericIndex());\r\n\r\n    const search = this;\r\n\r\n    this.$('.Search-results')\r\n      .on('mousedown', e => e.preventDefault())\r\n      .on('click', () => this.$('input').blur())\r\n\r\n      // Whenever the mouse is hovered over a search result, highlight it.\r\n      .on('mouseenter', '> li:not(.Dropdown-header)', function() {\r\n        search.setIndex(\r\n          search.selectableItems().index(this)\r\n        );\r\n      });\r\n\r\n    const $input = this.$('input');\r\n\r\n    this.navigator = new KeyboardNavigatable();\r\n\r\n    this.navigator\r\n      .onUp(() => this.setIndex(this.getCurrentNumericIndex() - 1, true))\r\n      .onDown(() => this.setIndex(this.getCurrentNumericIndex() + 1, true))\r\n      .onSelect(this.selectResult.bind(this))\r\n      .onCancel(this.clear.bind(this))\r\n      .bindTo($input);\r\n\r\n    // Handle input key events on the search input, triggering results to load.\r\n    $input\r\n      .on('input focus', function() {\r\n        const query = this.value.toLowerCase();\r\n\r\n        if (!query) return;\r\n\r\n        clearTimeout(search.searchTimeout);\r\n        search.searchTimeout = setTimeout(() => {\r\n          if (search.searched.indexOf(query) !== -1) return;\r\n\r\n          if (query.length >= 3) {\r\n            search.sources.map(source => {\r\n              if (!source.search) return;\r\n\r\n              search.loadingSources++;\r\n\r\n              source.search(query).then(() => {\r\n                search.loadingSources = Math.max(0, search.loadingSources - 1);\r\n                m.redraw();\r\n              });\r\n            });\r\n          }\r\n\r\n          search.searched.push(query);\r\n          m.redraw();\r\n        }, 250);\r\n      })\r\n\r\n      .on('focus', function() {\r\n        $(this).one('mouseup', e => e.preventDefault()).select();\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Get the active search in the app's current controller.\r\n   *\r\n   * @return {String}\r\n   */\r\n  getCurrentSearch() {\r\n    return app.current && typeof app.current.searching === 'function' && app.current.searching();\r\n  }\r\n\r\n  /**\r\n   * Navigate to the currently selected search result and close the list.\r\n   */\r\n  selectResult() {\r\n    clearTimeout(this.searchTimeout);\r\n    this.loadingSources = 0;\r\n\r\n    if (this.value()) {\r\n      m.route.set(this.getItem(this.index).find('a').attr('href'));\r\n    } else {\r\n      this.clear();\r\n    }\r\n\r\n    this.$('input').blur();\r\n  }\r\n\r\n  /**\r\n   * Clear the search input and the current controller's active search.\r\n   */\r\n  clear() {\r\n    this.value('');\r\n\r\n    if (this.getCurrentSearch()) {\r\n      app.current.clearSearch();\r\n    } else {\r\n      m.redraw();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Build an item list of SearchSources.\r\n   *\r\n   * @return {ItemList}\r\n   */\r\n  sourceItems() {\r\n    const items = new ItemList();\r\n\r\n    if (app.forum.attribute('canViewDiscussions')) items.add('discussions', new DiscussionsSearchSource());\r\n    if (app.forum.attribute('canViewUserList')) items.add('users', new UsersSearchSource());\r\n\r\n    return items;\r\n  }\r\n\r\n  /**\r\n   * Get all of the search result items that are selectable.\r\n   *\r\n   * @return {jQuery}\r\n   */\r\n  selectableItems() {\r\n    return this.$('.Search-results > li:not(.Dropdown-header)');\r\n  }\r\n\r\n  /**\r\n   * Get the position of the currently selected search result item.\r\n   *\r\n   * @return {Integer}\r\n   */\r\n  getCurrentNumericIndex() {\r\n    return this.selectableItems().index(\r\n      this.getItem(this.index)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get the <li> in the search results with the given index (numeric or named).\r\n   *\r\n   * @param {String} index\r\n   * @return {DOMElement}\r\n   */\r\n  getItem(index) {\r\n    const $items = this.selectableItems();\r\n    let $item = $items.filter(`[data-index=\"${index}\"]`);\r\n\r\n    if (!$item.length) {\r\n      $item = $items.eq(index);\r\n    }\r\n\r\n    return $item;\r\n  }\r\n\r\n  /**\r\n   * Set the currently-selected search result item to the one with the given\r\n   * index.\r\n   *\r\n   * @param index\r\n   * @param scrollToItem Whether or not to scroll the dropdown so that\r\n   *     the item is in view.\r\n   */\r\n  setIndex(index: number, scrollToItem?: boolean) {\r\n    const $items = this.selectableItems();\r\n    const $dropdown = $items.parent();\r\n\r\n    let fixedIndex = index;\r\n    if (index < 0) {\r\n      fixedIndex = $items.length - 1;\r\n    } else if (index >= $items.length) {\r\n      fixedIndex = 0;\r\n    }\r\n\r\n    const $item = $items.removeClass('active').eq(fixedIndex).addClass('active');\r\n\r\n    this.index = $item.attr('data-index') || fixedIndex;\r\n\r\n    if (scrollToItem) {\r\n      const dropdownScroll = $dropdown.scrollTop();\r\n      const dropdownTop = $dropdown.offset().top;\r\n      const dropdownBottom = dropdownTop + $dropdown.outerHeight();\r\n      const itemTop = $item.offset().top;\r\n      const itemBottom = itemTop + $item.outerHeight();\r\n\r\n      let scrollTop;\r\n      if (itemTop < dropdownTop) {\r\n        scrollTop = dropdownScroll - dropdownTop + itemTop - parseInt($dropdown.css('padding-top'), 10);\r\n      } else if (itemBottom > dropdownBottom) {\r\n        scrollTop = dropdownScroll - dropdownBottom + itemBottom + parseInt($dropdown.css('padding-bottom'), 10);\r\n      }\r\n\r\n      if (typeof scrollTop !== 'undefined') {\r\n        $dropdown.animate({scrollTop}, 100);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Component from '../../common/Component';\r\nimport Button from '../../common/components/Button';\r\nimport LogInModal from './LogInModal';\r\n// import SignUpModal from './SignUpModal';\r\nimport SessionDropdown from './SessionDropdown';\r\nimport SelectDropdown from '../../common/components/SelectDropdown';\r\nimport NotificationsDropdown from './NotificationsDropdown';\r\nimport ItemList from '../../common/utils/ItemList';\r\nimport listItems from '../../common/helpers/listItems';\r\n\r\nimport Search from './Search';\r\n\r\n/**\r\n * The `HeaderSecondary` component displays secondary header controls, such as\r\n * the search box and the user menu. On the default skin, these are shown on the\r\n * right side of the header.\r\n */\r\nexport default class HeaderSecondary extends Component {\r\n  view() {\r\n    return (\r\n      <ul className=\"Header-controls\">\r\n        {listItems(this.items().toArray())}\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Build an item list for the controls.\r\n   */\r\n  items(): ItemList {\r\n    const items = new ItemList();\r\n\r\n    items.add('search', Search.component(), 30);\r\n\r\n    if (app.forum.attribute(\"showLanguageSelector\") && Object.keys(app.data.locales).length > 1) {\r\n      const locales = [];\r\n\r\n      for (const locale in app.data.locales) {\r\n        locales.push(Button.component({\r\n          active: app.data.locale === locale,\r\n          children: app.data.locales[locale],\r\n          icon: app.data.locale === locale ? 'fas fa-check' : true,\r\n          onclick: () => {\r\n            if (app.session.user) {\r\n              app.session.user.savePreferences({locale}).then(() => window.location.reload());\r\n            } else {\r\n              document.cookie = `locale=${locale}; path=/; expires=Tue, 19 Jan 2038 03:14:07 GMT`;\r\n              window.location.reload();\r\n            }\r\n          }\r\n        }));\r\n      }\r\n\r\n      items.add('locale', SelectDropdown.component({\r\n        children: locales,\r\n        buttonClassName: 'Button Button--link'\r\n      }), 20);\r\n    }\r\n\r\n    if (app.session.user) {\r\n      items.add('notifications', NotificationsDropdown.component(), 10);\r\n      items.add('session', SessionDropdown.component(), 0);\r\n    } else {\r\n      if (app.forum.attribute('allowSignUp')) {\r\n        items.add('signUp',\r\n          Button.component({\r\n            children: app.translator.trans('core.forum.header.sign_up_link'),\r\n            className: 'Button Button--link',\r\n            onclick: () => app.modal.show(new SignUpModal())\r\n          }), 10\r\n        );\r\n      }\r\n\r\n      items.add('logIn',\r\n        Button.component({\r\n          children: app.translator.trans('core.forum.header.log_in_link'),\r\n          className: 'Button Button--link',\r\n          onclick: () => app.modal.show(new LogInModal())\r\n        }), 0\r\n      );\r\n    }\r\n\r\n    return items;\r\n  }\r\n}\r\n","import Component from '../../common/Component';\r\n\r\nexport default class IndexPage extends Component {\r\n    oninit() {\r\n        console.log('IndexPage#oninit');\r\n    }\r\n\r\n    view() {\r\n        return (\r\n            <div class=\"container\">\r\n                <h1>hi</h1>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import Component from '../../common/Component';\r\n\r\n/**\r\n * The `Page` component\r\n */\r\nexport default abstract class Page extends Component {\r\n  /**\r\n   * A class name to apply to the body while the route is active.\r\n   */\r\n  bodyClass: string = '';\r\n\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    if (this.bodyClass) {\r\n      $('#app').addClass(this.bodyClass);\r\n    }\r\n  }\r\n\r\n  oncreate(vnode) {\r\n    super.oncreate(vnode);\r\n\r\n    app.previous = app.current;\r\n    app.current = this;\r\n\r\n    app.drawer.hide();\r\n    app.modal.close();\r\n  }\r\n\r\n  onremove(vnode) {\r\n    super.onremove(vnode);\r\n\r\n    $('#app').removeClass(this.bodyClass);\r\n  }\r\n}\r\n","/**\r\n * Setup the sidebar DOM element to be affixed to the top of the viewport\r\n * using hcSticky.\r\n */\r\nexport default function affixSidebar(vnode) {\r\n  const element = vnode.dom;\r\n  const $sidebar = $(element);\r\n  const $header = $('#header');\r\n  const $affixElement = $sidebar.find('> ul')[0];\r\n\r\n  $(window).off('.affix');\r\n\r\n  new hcSticky($affixElement, {\r\n    stickTo: element,\r\n    top: $header.outerHeight(true) + parseInt($sidebar.css('margin-top'), 10),\r\n  });\r\n}\r\n","/**\r\n * The `humanTime` utility converts a date to a localized, human-readable time-\r\n * ago string.\r\n */\r\nexport default function humanTime(time: Date): string {\r\n  let m = dayjs(time);\r\n  const now = dayjs();\r\n\r\n  // To prevent showing things like \"in a few seconds\" due to small offsets\r\n  // between client and server time, we always reset future dates to the\r\n  // current time. This will result in \"just now\" being shown instead.\r\n  if (m.isAfter(now)) {\r\n    m = now;\r\n  }\r\n\r\n  const day = 864e5;\r\n  const diff = m.diff(dayjs());\r\n  let ago = null;\r\n\r\n  // If this date was more than a month ago, we'll show the name of the month\r\n  // in the string. If it wasn't this year, we'll show the year as well.\r\n  if (diff < -30 * day) {\r\n    if (m.year() === dayjs().year()) {\r\n      ago = m.format('D MMM');\r\n    } else {\r\n      ago = m.format('MMM \\'YY');\r\n    }\r\n  } else {\r\n    ago = m.fromNow();\r\n  }\r\n\r\n  return ago;\r\n};\r\n","import Button from '../../common/components/Button';\nimport Separator from '../../common/components/Separator';\n// import EditUserModal from '../components/EditUserModal';\nimport UserPage from '../components/UserPage';\nimport ItemList from '../../common/utils/ItemList';\nimport User from \"../../common/models/User\";\n\n/**\n * The `UserControls` utility constructs a list of buttons for a user which\n * perform actions on it.\n */\nexport default {\n  /**\n   * Get a list of controls for a user.\n   *\n   * @param user\n   * @param context The parent component under which the controls menu will\n   *     be displayed.\n   */\n  controls(user: User, context: any): ItemList {\n    const items = new ItemList();\n\n    ['user', 'moderation', 'destructive'].forEach(section => {\n      const controls = this[section + 'Controls'](user, context).toArray();\n      if (controls.length) {\n        controls.forEach(item => items.add(item.itemName, item));\n        items.add(section + 'Separator', Separator.component());\n      }\n    });\n\n    return items;\n  },\n\n  /**\n   * Get controls for a user pertaining to the current user (e.g. poke, follow).\n   */\n  userControls(): ItemList {\n    return new ItemList();\n  },\n\n  /**\n   * Get controls for a user pertaining to moderation (e.g. suspend, edit).\n   */\n  moderationControls(user: User): ItemList {\n    const items = new ItemList();\n\n    if (user.canEdit()) {\n      items.add('edit', Button.component({\n        icon: 'fas fa-pencil-alt',\n        children: app.translator.trans('core.forum.user_controls.edit_button'),\n        onclick: this.editAction.bind(user)\n      }));\n    }\n\n    return items;\n  },\n\n  /**\n   * Get controls for a user which are destructive (e.g. delete).\n   */\n  destructiveControls(user: User): ItemList {\n    const items = new ItemList();\n\n    if (user.id() !== '1' && user.canDelete()) {\n      items.add('delete', Button.component({\n        icon: 'fas fa-times',\n        children: app.translator.trans('core.forum.user_controls.delete_button'),\n        onclick: this.deleteAction.bind(user)\n      }));\n    }\n\n    return items;\n  },\n\n  /**\n   * Delete the user.\n   */\n  deleteAction(this: User) {\n    if (confirm(app.translator.transText('core.forum.user_controls.delete_confirmation'))) {\n      this.delete().then(() => {\n        if (app.current instanceof UserPage && app.current.user === this) {\n          app.history.back();\n        } else {\n          window.location.reload();\n        }\n      });\n    }\n  },\n\n  /**\n   * Edit the user.\n   */\n  editAction(this: User) {\n    app.modal.show(new EditUserModal({user: this}));\n  }\n};\n","import Component, {ComponentProps} from '../../common/Component';\r\nimport avatar from '../../common/helpers/avatar';\r\nimport icon from '../../common/helpers/icon';\r\nimport listItems from '../../common/helpers/listItems';\r\nimport ItemList from '../../common/utils/ItemList';\r\nimport Button from '../../common/components/Button';\r\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\r\nimport User from '../../common/models/User';\r\n\r\nexport interface AvatarEditorProps extends ComponentProps {\r\n  user: User;\r\n}\r\n\r\n/**\r\n * The `AvatarEditor` component displays a user's avatar along with a dropdown\r\n * menu which allows the user to upload/remove the avatar.\r\n */\r\nexport default class AvatarEditor extends Component<AvatarEditorProps> {\r\n  /**\r\n   * Whether or not an avatar upload is in progress.\r\n   */\r\n  loading = false;\r\n\r\n  /**\r\n   * Whether or not an image has been dragged over the dropzone.\r\n   */\r\n  isDraggedOver = false;\r\n\r\n  static initProps(props) {\r\n    super.initProps(props);\r\n\r\n    props.className = props.className || '';\r\n  }\r\n\r\n  view() {\r\n    const user = this.props.user;\r\n\r\n    return (\r\n      <div className={'AvatarEditor Dropdown ' + this.props.className + (this.loading ? ' loading' : '') + (this.isDraggedOver ? ' dragover' : '')}>\r\n        {avatar(user)}\r\n        <a className={ user.avatarUrl() ? \"Dropdown-toggle\" : \"Dropdown-toggle AvatarEditor--noAvatar\" }\r\n           title={app.translator.trans('core.forum.user.avatar_upload_tooltip')}\r\n           data-toggle=\"dropdown\"\r\n           onclick={this.quickUpload.bind(this)}\r\n           ondragover={this.enableDragover.bind(this)}\r\n           ondragenter={this.enableDragover.bind(this)}\r\n           ondragleave={this.disableDragover.bind(this)}\r\n           ondragend={this.disableDragover.bind(this)}\r\n           ondrop={this.dropUpload.bind(this)}>\r\n          {this.loading ? LoadingIndicator.component() : (user.avatarUrl() ? icon('fas fa-pencil-alt') : icon('fas fa-plus-circle'))}\r\n        </a>\r\n        <ul className=\"Dropdown-menu Menu\">\r\n          {listItems(this.controlItems().toArray())}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get the items in the edit avatar dropdown menu.\r\n   *\r\n   * @return {ItemList}\r\n   */\r\n  controlItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add('upload',\r\n      Button.component({\r\n        icon: 'fas fa-upload',\r\n        children: app.translator.trans('core.forum.user.avatar_upload_button'),\r\n        onclick: this.openPicker.bind(this)\r\n      })\r\n    );\r\n\r\n    items.add('remove',\r\n      Button.component({\r\n        icon: 'fas fa-times',\r\n        children: app.translator.trans('core.forum.user.avatar_remove_button'),\r\n        onclick: this.remove.bind(this)\r\n      })\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  /**\r\n   * Enable dragover style\r\n   *\r\n   * @param {Event} e\r\n   */\r\n  enableDragover(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.isDraggedOver = true;\r\n  }\r\n\r\n  /**\r\n   * Disable dragover style\r\n   *\r\n   * @param {Event} e\r\n   */\r\n  disableDragover(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.isDraggedOver = false;\r\n  }\r\n\r\n  /**\r\n   * Upload avatar when file is dropped into dropzone.\r\n   *\r\n   * @param {Event} e\r\n   */\r\n  dropUpload(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.isDraggedOver = false;\r\n    this.upload(e.dataTransfer.files[0]);\r\n  }\r\n\r\n  /**\r\n   * If the user doesn't have an avatar, there's no point in showing the\r\n   * controls dropdown, because only one option would be viable: uploading.\r\n   * Thus, when the avatar editor's dropdown toggle button is clicked, we prompt\r\n   * the user to upload an avatar immediately.\r\n   *\r\n   * @param {Event} e\r\n   */\r\n  quickUpload(e) {\r\n    if (!this.props.user.avatarUrl()) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      this.openPicker();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Upload avatar using file picker\r\n   */\r\n  openPicker() {\r\n    if (this.loading) return;\r\n\r\n    // Create a hidden HTML input element and click on it so the user can select\r\n    // an avatar file. Once they have, we will upload it via the API.\r\n    const user = this.props.user;\r\n    const $input = $('<input type=\"file\">');\r\n\r\n    $input.appendTo('body').hide().click().on('change', e => {\r\n      this.upload($(e.target)[0].files[0]);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Upload avatar\r\n   *\r\n   * @param {File} file\r\n   */\r\n  upload(file) {\r\n    if (this.loading) return;\r\n\r\n    const user = this.props.user;\r\n    const body = new FormData();\r\n    data.append('avatar', file);\r\n\r\n    this.loading = true;\r\n    m.redraw();\r\n\r\n    app.request({\r\n      method: 'POST',\r\n      url: `${app.forum.attribute('apiUrl')}/users/${user.id()}/avatar`,\r\n      serialize: raw => raw,\r\n      body\r\n    }).then(\r\n      this.success.bind(this),\r\n      this.failure.bind(this)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Remove the user's avatar.\r\n   */\r\n  remove() {\r\n    const user = this.props.user;\r\n\r\n    this.loading = true;\r\n    m.redraw();\r\n\r\n    app.request({\r\n      method: 'DELETE',\r\n      url: `${app.forum.attribute('apiUrl')}/users/${user.id()}/avatar`\r\n    }).then(\r\n      this.success.bind(this),\r\n      this.failure.bind(this)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * After a successful upload/removal, push the updated user data into the\r\n   * store, and force a recomputation of the user's avatar color.\r\n   *\r\n   * @param {Object} response\r\n   * @protected\r\n   */\r\n  success(response) {\r\n    app.store.pushPayload(response);\r\n    delete this.props.user.avatarColor;\r\n\r\n    this.loading = false;\r\n    m.redraw();\r\n  }\r\n\r\n  /**\r\n   * If avatar upload/removal fails, stop loading.\r\n   *\r\n   * @param {Object} response\r\n   * @protected\r\n   */\r\n  failure(response) {\r\n    this.loading = false;\r\n    m.redraw();\r\n  }\r\n}\r\n","import Component, {ComponentProps} from '../../common/Component';\r\nimport humanTime from '../../common/utils/humanTime';\r\nimport ItemList from '../../common/utils/ItemList';\r\nimport UserControls from '../utils/UserControls';\r\nimport avatar from '../../common/helpers/avatar';\r\nimport username from '../../common/helpers/username';\r\nimport icon from '../../common/helpers/icon';\r\nimport Dropdown from '../../common/components/Dropdown';\r\nimport AvatarEditor from './AvatarEditor';\r\nimport listItems from '../../common/helpers/listItems';\r\nimport User from \"../../common/models/User\";\r\n\r\nexport interface UserCardProps extends ComponentProps {\r\n  user: User;\r\n  editable: boolean;\r\n  controlsButtonClassName: string;\r\n}\r\n\r\n/**\r\n * The `UserCard` component displays a user's profile card. This is used both on\r\n * the `UserPage` (in the hero) and in discussions, shown when hovering over a\r\n * post author.\r\n */\r\nexport default class UserCard extends Component<UserCardProps> {\r\n  view() {\r\n    const user = this.props.user;\r\n    const controls = UserControls.controls(user, this).toArray();\r\n    const color = user.color();\r\n    const badges = user.badges().toArray();\r\n\r\n    return (\r\n      <div className={'UserCard ' + (this.props.className || '')}\r\n           style={color ? {backgroundColor: color} : ''}>\r\n        <div className=\"darkenBackground\">\r\n\r\n          <div className=\"container\">\r\n            {controls.length ? Dropdown.component({\r\n              children: controls,\r\n              className: 'UserCard-controls App-primaryControl',\r\n              menuClassName: 'Dropdown-menu--right',\r\n              buttonClassName: this.props.controlsButtonClassName,\r\n              label: app.translator.trans('core.forum.user_controls.button'),\r\n              icon: 'fas fa-ellipsis-v'\r\n            }) : ''}\r\n\r\n            <div className=\"UserCard-profile\">\r\n              <h2 className=\"UserCard-identity\">\r\n                {this.props.editable\r\n                  ? [AvatarEditor.component({user, className: 'UserCard-avatar'}), username(user)]\r\n                  : (\r\n                    <m.route.Link href={app.route.user(user)}>\r\n                      <div className=\"UserCard-avatar\">{avatar(user)}</div>\r\n                      {username(user)}\r\n                    </m.route.Link>\r\n                  )}\r\n              </h2>\r\n\r\n              {badges.length ? (\r\n                <ul className=\"UserCard-badges badges\">\r\n                  {listItems(badges)}\r\n                </ul>\r\n              ) : ''}\r\n\r\n              <ul className=\"UserCard-info\">\r\n                {listItems(this.infoItems().toArray())}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Build an item list of tidbits of info to show on this user's profile.\r\n   *\r\n   * @return {ItemList}\r\n   */\r\n  infoItems() {\r\n    const items = new ItemList();\r\n    const user = this.props.user;\r\n    const lastSeenAt = user.lastSeenAt();\r\n\r\n    if (lastSeenAt) {\r\n      const online = user.isOnline();\r\n\r\n      items.add('lastSeen', (\r\n        <span className={'UserCard-lastSeen' + (online ? ' online' : '')}>\r\n          {online\r\n            ? [icon('fas fa-circle'), ' ', app.translator.trans('core.forum.user.online_text')]\r\n            : [icon('far fa-clock'), ' ', humanTime(lastSeenAt)]}\r\n        </span>\r\n      ));\r\n    }\r\n\r\n    items.add('joined', app.translator.trans('core.forum.user.joined_date_text', {ago: humanTime(user.joinTime())}));\r\n\r\n    return items;\r\n  }\r\n}\r\n","import Page from './Page';\nimport ItemList from '../../common/utils/ItemList';\nimport affixSidebar from '../utils/affixSidebar';\nimport UserCard from './UserCard';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport SelectDropdown from '../../common/components/SelectDropdown';\nimport LinkButton from '../../common/components/LinkButton';\nimport Separator from '../../common/components/Separator';\nimport listItems from '../../common/helpers/listItems';\n\nimport User from '../../common/models/User';\n\n/**\n * The `UserPage` component shows a user's profile. It can be extended to show\n * content inside of the content area. See `ActivityPage` and `SettingsPage` for\n * examples.\n */\nexport default abstract class UserPage extends Page {\n  /**\n   * The user this page is for.\n   */\n  user: User;\n  bodyClass: string = 'App--user';\n\n  /**\n   * The username of the currently loaded user\n   */\n  username: string;\n\n  view() {\n    return (\n      <div className=\"UserPage\">\n        {this.user ? [\n          UserCard.component({\n            user: this.user,\n            className: 'Hero UserHero',\n            editable: this.user.canEdit() || this.user === app.session.user,\n            controlsButtonClassName: 'Button'\n          }),\n          <div className=\"container\">\n            <div className=\"sideNavContainer\">\n              <nav className=\"sideNav UserPage-nav\" config={affixSidebar}>\n                <ul>{listItems(this.sidebarItems().toArray())}</ul>\n              </nav>\n              <div className=\"sideNavOffset UserPage-content\">\n                {this.content()}\n              </div>\n            </div>\n          </div>\n        ] : [\n          LoadingIndicator.component({lassName: 'LoadingIndicator--block'})\n        ]}\n      </div>\n    );\n  }\n\n  /**\n   * Get the content to display in the user page.\n   */\n  abstract content();\n\n  /**\n   * Initialize the component with a user, and trigger the loading of their\n   * activity feed.\n   */\n  protected show(user: User) {\n    this.user = user;\n\n    app.setTitle(user.displayName());\n\n    m.redraw();\n  }\n\n  /**\n   * Given a username, load the user's profile from the store, or make a request\n   * if we don't have it yet. Then initialize the profile page with that user.\n   */\n  loadUser(username: string) {\n    const lowercaseUsername = username.toLowerCase();\n\n    if (lowercaseUsername == this.username) return;\n\n    this.username = lowercaseUsername;\n\n    app.store.all<User>('users').some(user => {\n      if (user.username().toLowerCase() === lowercaseUsername && user.joinTime()) {\n        this.show(user);\n        return true;\n      }\n    });\n\n    if (!this.user) {\n      app.store.find('users', username).then(this.show.bind(this));\n    }\n  }\n\n  /**\n   * Build an item list for the content of the sidebar.\n   */\n  sidebarItems() {\n    const items = new ItemList();\n\n    items.add('nav',\n      SelectDropdown.component({\n        children: this.navItems().toArray(),\n        className: 'App-titleControl',\n        buttonClassName: 'Button'\n      })\n    );\n\n    return items;\n  }\n\n  /**\n   * Build an item list for the navigation in the sidebar.\n   */\n  navItems() {\n    const items = new ItemList();\n    const user = this.user;\n\n    items.add('posts',\n      LinkButton.component({\n        href: app.route('user.posts', {username: user.username()}),\n        children: [app.translator.trans('core.forum.user.posts_link'), <span className=\"Button-badge\">{user.commentCount()}</span>],\n        icon: 'far fa-comment'\n      }),\n      100\n    );\n\n    items.add('discussions',\n      LinkButton.component({\n        href: app.route('user.discussions', {username: user.username()}),\n        children: [app.translator.trans('core.forum.user.discussions_link'), <span className=\"Button-badge\">{user.discussionCount()}</span>],\n        icon: 'fas fa-bars'\n      }),\n      90\n    );\n\n    if (app.session.user === user) {\n      items.add('separator', Separator.component(), -90);\n      items.add('settings',\n        LinkButton.component({\n          href: app.route('settings'),\n          children: app.translator.trans('core.forum.user.settings_link'),\n          icon: 'fas fa-cog'\n        }),\n        -100\n      );\n    }\n\n    return items;\n  }\n}\n","import UserPage from './UserPage';\r\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\r\nimport Button from '../../common/components/Button';\r\n// import Placeholder from '../../common/components/Placeholder';\r\n// import CommentPost from './CommentPost';\r\nimport Post from \"../../common/models/Post\";\r\n\r\n/**\r\n * The `PostsUserPage` component shows a user's activity feed inside of their\r\n * profile.\r\n */\r\nexport default class PostsUserPage extends UserPage {\r\n  /**\r\n   * Whether or not the activity feed is currently loading.\r\n   */\r\n  loading = true;\r\n\r\n  /**\r\n   * Whether or not there are any more activity items that can be loaded.\r\n   */\r\n  moreResults = false;\r\n\r\n  /**\r\n   * The Post models in the feed.\r\n   */\r\n  posts: Post[] = [];\r\n\r\n  /**\r\n   * The number of activity items to load per request.\r\n   */\r\n  loadLimit = 20;\r\n\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.loadUser(vnode.attrs.username);\r\n  }\r\n\r\n  onupdate(vnode) {\r\n    super.onupdate(vnode);\r\n\r\n    this.loadUser(vnode.attrs.username);\r\n  }\r\n\r\n  content() {\r\n    return <p>test</p>;\r\n\r\n    if (this.posts.length === 0 && ! this.loading) {\r\n      return (\r\n        <div className=\"PostsUserPage\">\r\n          <Placeholder text={app.translator.trans('core.forum.user.posts_empty_text')} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let footer;\r\n\r\n    if (this.loading) {\r\n      footer = LoadingIndicator.component();\r\n    } else if (this.moreResults) {\r\n      footer = (\r\n        <div className=\"PostsUserPage-loadMore\">\r\n          {Button.component({\r\n            children: app.translator.trans('core.forum.user.posts_load_more_button'),\r\n            className: 'Button',\r\n            onclick: this.loadMore.bind(this)\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"PostsUserPage\">\r\n        <ul className=\"PostsUserPage-list\">\r\n          {this.posts.map(post => (\r\n            <li>\r\n              <div className=\"PostsUserPage-discussion\">\r\n                {app.translator.trans('core.forum.user.in_discussion_text', {discussion: <m.route.Link href={app.route.post(post)}>{post.discussion().title()}</m.route.Link>})}\r\n              </div>\r\n              {CommentPost.component({post})}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div className=\"PostsUserPage-loadMore\">\r\n          {footer}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Initialize the component with a user, and trigger the loading of their\r\n   * activity feed.\r\n   */\r\n  show(user) {\r\n    super.show(user);\r\n\r\n    this.refresh();\r\n  }\r\n\r\n  /**\r\n   * Clear and reload the user's activity feed.\r\n   */\r\n  refresh() {\r\n    this.loading = true;\r\n    this.posts = [];\r\n\r\n    m.redraw();\r\n\r\n    this.loadResults().then(this.parseResults.bind(this));\r\n  }\r\n\r\n  /**\r\n   * Load a new page of the user's activity feed.\r\n   *\r\n   * @param offset The position to start getting results from.\r\n   */\r\n  protected loadResults(offset?: number): Promise<Post[]> {\r\n    return app.store.find<Post>('posts', {\r\n      filter: {\r\n        user: this.user.id(),\r\n        type: 'comment'\r\n      },\r\n      page: {offset, limit: this.loadLimit},\r\n      sort: '-createdAt'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Load the next page of results.\r\n   */\r\n  loadMore() {\r\n    this.loading = true;\r\n    this.loadResults(this.posts.length).then(this.parseResults.bind(this));\r\n  }\r\n\r\n  /**\r\n   * Parse results and append them to the activity feed.\r\n   */\r\n  parseResults(results: Post[]): Post[] {\r\n    this.loading = false;\r\n\r\n    [].push.apply(this.posts, results);\r\n\r\n    this.moreResults = results.length >= this.loadLimit;\r\n    m.redraw();\r\n\r\n    return results;\r\n  }\r\n}\r\n","import Application from '../common/Application';\nimport History from './utils/History';\n\nimport HeaderPrimary from './components/HeaderPrimary';\nimport HeaderSecondary from './components/HeaderSecondary';\n\nimport Page from './components/Page';\nimport IndexPage from './components/IndexPage';\nimport PostsUserPage from './components/PostsUserPage';\nimport User from \"../common/models/User\";\nimport Post from \"../common/models/Post\";\nimport Discussion from \"../common/models/Discussion\";\n\nexport default class Forum extends Application {\n    routes = {\n        'index': { path: '/', component: IndexPage },\n        'index.filter': { path: '/:filter', component: IndexPage },\n\n        'user': { path: '/u/:username', component: PostsUserPage },\n        'user.posts': { path: '/u/:username', component: PostsUserPage },\n        'user.discussions': { path: '/u/:username', component: PostsUserPage },\n        'settings': { path: '/u/:username', component: PostsUserPage },\n\n        'discussion': { path: '/d/:id', IndexPage },\n    };\n\n    /**\n     * The app's history stack, which keeps track of which routes the user visits\n     * so that they can easily navigate back to the previous route.\n     */\n    history: History = new History();\n\n    previous: Page;\n    current: Page;\n\n    mount() {\n      // Get the configured default route and update that route's path to be '/'.\n      // Push the homepage as the first route, so that the user will always be\n      // able to click on the 'back' button to go home, regardless of which page\n      // they started on.\n      const defaultRoute = this.forum.attribute('defaultRoute');\n      let defaultAction = 'index';\n\n      for (const i in this.routes) {\n        if (this.routes[i].path === defaultRoute) defaultAction = i;\n      }\n\n      this.routes[defaultAction].path = '/';\n      this.history.push(defaultAction, this.translator.transText('core.forum.header.back_to_index_tooltip'), '/');\n\n      // m.mount(document.getElementById('app-navigation'), Navigation.component({className: 'App-backControl', drawer: true}));\n      // m.mount(document.getElementById('header-navigation'), Navigation.component());\n      m.mount(document.getElementById('header-primary'), new HeaderPrimary());\n      m.mount(document.getElementById('header-secondary'), new HeaderSecondary());\n\n      // this.pane = new Pane(document.getElementById('app'));\n      // this.composer = m.mount(document.getElementById('composer'), Composer.component());\n\n      m.route.prefix = '';\n      super.mount(this.forum.attribute('basePath'));\n\n      // alertEmailConfirmation(this);\n\n      // Route the home link back home when clicked. We do not want it to register\n      // if the user is opening it in a new tab, however.\n      $('#home-link').click((e: MouseEvent) => {\n        if (e.ctrlKey || e.metaKey || e.which === 2) return;\n        e.preventDefault();\n        app.history.home();\n\n        // Reload the current user so that their unread notification count is refreshed.\n        if (app.session.user) {\n          app.store.find('users', app.session.user.id());\n          m.redraw();\n        }\n      });\n    }\n\n    setupRoutes() {\n      super.setupRoutes();\n\n      this.route.discussion = (discussion: Discussion, near?: number): string => {\n        const slug = discussion.slug();\n        return this.route(near && near !== 1 ? 'discussion.near' : 'discussion', {\n          id: discussion.id() + (slug.trim() ? '-' + slug : ''),\n          near: near && near !== 1 ? near : undefined\n        });\n      };\n\n      /**\n       * Generate a URL to a post.\n       */\n      this.route.post = (post: Post): string => {\n        return this.route.discussion(post.discussion(), post.number());\n      };\n\n      /**\n       * Generate a URL to a user.\n       */\n      this.route.user = (user: User): string => {\n        return this.route('user', {\n          username: user.username()\n        });\n      };\n    }\n}\n","import * as extend from './extend';\r\n\r\nexport default {\r\n    extend: extend,\r\n};\r\n","import compat from '../common/compat';\r\n\r\nimport Forum from './Forum';\r\n\r\nimport IndexPage from './components/IndexPage';\r\n\r\nexport default Object.assign(compat, {\r\n    'components/IndexPage': IndexPage,\r\n    Forum: Forum,\r\n}) as any;\r\n","import Forum from './Forum';\r\n\r\nconst app = new Forum();\r\n\r\n// @ts-ignore\r\nwindow.app = app;\r\n\r\napp.bus.subscribe('app.plugins', () => {\r\n    // @ts-ignore\r\n    const extensions = flarum.extensions;\r\n\r\n    Object.keys(extensions).forEach(name => {\r\n        const extension = extensions[name];\r\n\r\n        // if (typeof extension === 'function') extension();\r\n    });\r\n});\r\n\r\nexport { app };\r\n\r\n// Export compat API\r\nimport compat from './compat';\r\n\r\ncompat.app = app;\r\n\r\nexport { compat };\r\n","/*\r\n * This file is part of Flarum.\r\n *\r\n * (c) Toby Zerner <toby.zerner@gmail.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nexport * from './src/common';\r\nexport * from './src/forum';"],"sourceRoot":""}